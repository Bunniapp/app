(self.webpackChunkinterface=self.webpackChunkinterface||[]).push([[30],{9546:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=q(8052);function le(U,N,S){return void 0===N&&(N=new Uint8Array(2)),void 0===S&&(S=0),N[S+0]=U>>>8,N[S+1]=U>>>0,N}function V(U,N,S){return void 0===N&&(N=new Uint8Array(2)),void 0===S&&(S=0),N[S+0]=U>>>0,N[S+1]=U>>>8,N}function K(U,N){return void 0===N&&(N=0),U[N]<<24|U[N+1]<<16|U[N+2]<<8|U[N+3]}function $(U,N){return void 0===N&&(N=0),(U[N]<<24|U[N+1]<<16|U[N+2]<<8|U[N+3])>>>0}function M(U,N){return void 0===N&&(N=0),U[N+3]<<24|U[N+2]<<16|U[N+1]<<8|U[N]}function fe(U,N){return void 0===N&&(N=0),(U[N+3]<<24|U[N+2]<<16|U[N+1]<<8|U[N])>>>0}function me(U,N,S){return void 0===N&&(N=new Uint8Array(4)),void 0===S&&(S=0),N[S+0]=U>>>24,N[S+1]=U>>>16,N[S+2]=U>>>8,N[S+3]=U>>>0,N}function ue(U,N,S){return void 0===N&&(N=new Uint8Array(4)),void 0===S&&(S=0),N[S+0]=U>>>0,N[S+1]=U>>>8,N[S+2]=U>>>16,N[S+3]=U>>>24,N}function Y(U,N,S){return void 0===N&&(N=new Uint8Array(8)),void 0===S&&(S=0),me(U/4294967296>>>0,N,S),me(U>>>0,N,S+4),N}function ge(U,N,S){return void 0===N&&(N=new Uint8Array(8)),void 0===S&&(S=0),ue(U>>>0,N,S),ue(U/4294967296>>>0,N,S+4),N}b.readInt16BE=function we(U,N){return void 0===N&&(N=0),(U[N+0]<<8|U[N+1])<<16>>16},b.readUint16BE=function Pe(U,N){return void 0===N&&(N=0),(U[N+0]<<8|U[N+1])>>>0},b.readInt16LE=function Ie(U,N){return void 0===N&&(N=0),(U[N+1]<<8|U[N])<<16>>16},b.readUint16LE=function Q(U,N){return void 0===N&&(N=0),(U[N+1]<<8|U[N])>>>0},b.writeUint16BE=le,b.writeInt16BE=le,b.writeUint16LE=V,b.writeInt16LE=V,b.readInt32BE=K,b.readUint32BE=$,b.readInt32LE=M,b.readUint32LE=fe,b.writeUint32BE=me,b.writeInt32BE=me,b.writeUint32LE=ue,b.writeInt32LE=ue,b.readInt64BE=function de(U,N){void 0===N&&(N=0);var S=K(U,N),J=K(U,N+4);return 4294967296*S+J-4294967296*(J>>31)},b.readUint64BE=function w(U,N){return void 0===N&&(N=0),4294967296*$(U,N)+$(U,N+4)},b.readInt64LE=function Re(U,N){void 0===N&&(N=0);var S=M(U,N);return 4294967296*M(U,N+4)+S-4294967296*(S>>31)},b.readUint64LE=function Ae(U,N){void 0===N&&(N=0);var S=fe(U,N);return 4294967296*fe(U,N+4)+S},b.writeUint64BE=Y,b.writeInt64BE=Y,b.writeUint64LE=ge,b.writeInt64LE=ge,b.readUintBE=function pe(U,N,S){if(void 0===S&&(S=0),U%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(U/8>N.length-S)throw new Error("readUintBE: array is too short for the given bitLength");for(var J=0,_e=1,ee=U/8+S-1;ee>=S;ee--)J+=N[ee]*_e,_e*=256;return J},b.readUintLE=function W(U,N,S){if(void 0===S&&(S=0),U%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(U/8>N.length-S)throw new Error("readUintLE: array is too short for the given bitLength");for(var J=0,_e=1,ee=S;ee<S+U/8;ee++)J+=N[ee]*_e,_e*=256;return J},b.writeUintBE=function oe(U,N,S,J){if(void 0===S&&(S=new Uint8Array(U/8)),void 0===J&&(J=0),U%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!G.isSafeInteger(N))throw new Error("writeUintBE value must be an integer");for(var _e=1,ee=U/8+J-1;ee>=J;ee--)S[ee]=N/_e&255,_e*=256;return S},b.writeUintLE=function B(U,N,S,J){if(void 0===S&&(S=new Uint8Array(U/8)),void 0===J&&(J=0),U%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!G.isSafeInteger(N))throw new Error("writeUintLE value must be an integer");for(var _e=1,ee=J;ee<J+U/8;ee++)S[ee]=N/_e&255,_e*=256;return S},b.readFloat32BE=function _(U,N){return void 0===N&&(N=0),new DataView(U.buffer,U.byteOffset,U.byteLength).getFloat32(N)},b.readFloat32LE=function v(U,N){return void 0===N&&(N=0),new DataView(U.buffer,U.byteOffset,U.byteLength).getFloat32(N,!0)},b.readFloat64BE=function O(U,N){return void 0===N&&(N=0),new DataView(U.buffer,U.byteOffset,U.byteLength).getFloat64(N)},b.readFloat64LE=function D(U,N){return void 0===N&&(N=0),new DataView(U.buffer,U.byteOffset,U.byteLength).getFloat64(N,!0)},b.writeFloat32BE=function R(U,N,S){return void 0===N&&(N=new Uint8Array(4)),void 0===S&&(S=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(S,U),N},b.writeFloat32LE=function Z(U,N,S){return void 0===N&&(N=new Uint8Array(4)),void 0===S&&(S=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat32(S,U,!0),N},b.writeFloat64BE=function x(U,N,S){return void 0===N&&(N=new Uint8Array(8)),void 0===S&&(S=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(S,U),N},b.writeFloat64LE=function C(U,N,S){return void 0===N&&(N=new Uint8Array(8)),void 0===S&&(S=0),new DataView(N.buffer,N.byteOffset,N.byteLength).setFloat64(S,U,!0),N}},6814:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=q(9546),we=q(3403),Pe=20;function Ie(K,$,M){for(var fe=1634760805,me=857760878,ue=2036477234,de=1797285236,w=M[3]<<24|M[2]<<16|M[1]<<8|M[0],Re=M[7]<<24|M[6]<<16|M[5]<<8|M[4],Ae=M[11]<<24|M[10]<<16|M[9]<<8|M[8],Y=M[15]<<24|M[14]<<16|M[13]<<8|M[12],ge=M[19]<<24|M[18]<<16|M[17]<<8|M[16],pe=M[23]<<24|M[22]<<16|M[21]<<8|M[20],W=M[27]<<24|M[26]<<16|M[25]<<8|M[24],oe=M[31]<<24|M[30]<<16|M[29]<<8|M[28],B=$[3]<<24|$[2]<<16|$[1]<<8|$[0],_=$[7]<<24|$[6]<<16|$[5]<<8|$[4],v=$[11]<<24|$[10]<<16|$[9]<<8|$[8],O=$[15]<<24|$[14]<<16|$[13]<<8|$[12],D=fe,R=me,Z=ue,x=de,C=w,U=Re,N=Ae,S=Y,J=ge,_e=pe,ee=W,Ue=oe,xe=B,Ce=_,$e=v,Ke=O,Ve=0;Ve<Pe;Ve+=2)C=(C^=J=J+(xe=(xe^=D=D+C|0)>>>16|xe<<16)|0)>>>20|C<<12,U=(U^=_e=_e+(Ce=(Ce^=R=R+U|0)>>>16|Ce<<16)|0)>>>20|U<<12,N=(N^=ee=ee+($e=($e^=Z=Z+N|0)>>>16|$e<<16)|0)>>>20|N<<12,S=(S^=Ue=Ue+(Ke=(Ke^=x=x+S|0)>>>16|Ke<<16)|0)>>>20|S<<12,N=(N^=ee=ee+($e=($e^=Z=Z+N|0)>>>24|$e<<8)|0)>>>25|N<<7,S=(S^=Ue=Ue+(Ke=(Ke^=x=x+S|0)>>>24|Ke<<8)|0)>>>25|S<<7,U=(U^=_e=_e+(Ce=(Ce^=R=R+U|0)>>>24|Ce<<8)|0)>>>25|U<<7,C=(C^=J=J+(xe=(xe^=D=D+C|0)>>>24|xe<<8)|0)>>>25|C<<7,U=(U^=ee=ee+(Ke=(Ke^=D=D+U|0)>>>16|Ke<<16)|0)>>>20|U<<12,N=(N^=Ue=Ue+(xe=(xe^=R=R+N|0)>>>16|xe<<16)|0)>>>20|N<<12,S=(S^=J=J+(Ce=(Ce^=Z=Z+S|0)>>>16|Ce<<16)|0)>>>20|S<<12,C=(C^=_e=_e+($e=($e^=x=x+C|0)>>>16|$e<<16)|0)>>>20|C<<12,S=(S^=J=J+(Ce=(Ce^=Z=Z+S|0)>>>24|Ce<<8)|0)>>>25|S<<7,C=(C^=_e=_e+($e=($e^=x=x+C|0)>>>24|$e<<8)|0)>>>25|C<<7,N=(N^=Ue=Ue+(xe=(xe^=R=R+N|0)>>>24|xe<<8)|0)>>>25|N<<7,U=(U^=ee=ee+(Ke=(Ke^=D=D+U|0)>>>24|Ke<<8)|0)>>>25|U<<7;G.writeUint32LE(D+fe|0,K,0),G.writeUint32LE(R+me|0,K,4),G.writeUint32LE(Z+ue|0,K,8),G.writeUint32LE(x+de|0,K,12),G.writeUint32LE(C+w|0,K,16),G.writeUint32LE(U+Re|0,K,20),G.writeUint32LE(N+Ae|0,K,24),G.writeUint32LE(S+Y|0,K,28),G.writeUint32LE(J+ge|0,K,32),G.writeUint32LE(_e+pe|0,K,36),G.writeUint32LE(ee+W|0,K,40),G.writeUint32LE(Ue+oe|0,K,44),G.writeUint32LE(xe+B|0,K,48),G.writeUint32LE(Ce+_|0,K,52),G.writeUint32LE($e+v|0,K,56),G.writeUint32LE(Ke+O|0,K,60)}function Q(K,$,M,fe,me){if(void 0===me&&(me=0),32!==K.length)throw new Error("ChaCha: key size must be 32 bytes");if(fe.length<M.length)throw new Error("ChaCha: destination is shorter than source");var ue,de;if(0===me){if(8!==$.length&&12!==$.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");(ue=new Uint8Array(16)).set($,de=ue.length-$.length)}else{if(16!==$.length)throw new Error("ChaCha nonce with counter must be 16 bytes");ue=$,de=me}for(var w=new Uint8Array(64),Re=0;Re<M.length;Re+=64){Ie(w,ue,K);for(var Ae=Re;Ae<Re+64&&Ae<M.length;Ae++)fe[Ae]=M[Ae]^w[Ae-Re];V(ue,0,de)}return we.wipe(w),0===me&&we.wipe(ue),fe}function V(K,$,M){for(var fe=1;M--;)K[$]=255&(fe=fe+(255&K[$])|0),fe>>>=8,$++;if(fe>0)throw new Error("ChaCha: counter overflow")}b.streamXOR=Q,b.stream=function le(K,$,M,fe){return void 0===fe&&(fe=0),we.wipe(M),Q(K,$,M,M,fe)}},9026:(He,b,q)=>{"use strict";var we=q(6814),Pe=q(826),Ie=q(3403),Q=q(9546),le=q(7456);b.Cv=32,b.WH=12,b.pg=16;var V=new Uint8Array(16),K=function(){function $(M){if(this.nonceLength=b.WH,this.tagLength=b.pg,M.length!==b.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(M)}return $.prototype.seal=function(M,fe,me,ue){if(M.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var de=new Uint8Array(16);de.set(M,de.length-M.length);var w=new Uint8Array(32);we.stream(this._key,de,w,4);var Ae,Re=fe.length+this.tagLength;if(ue){if(ue.length!==Re)throw new Error("ChaCha20Poly1305: incorrect destination length");Ae=ue}else Ae=new Uint8Array(Re);return we.streamXOR(this._key,de,fe,Ae,4),this._authenticate(Ae.subarray(Ae.length-this.tagLength,Ae.length),w,Ae.subarray(0,Ae.length-this.tagLength),me),Ie.wipe(de),Ae},$.prototype.open=function(M,fe,me,ue){if(M.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(fe.length<this.tagLength)return null;var de=new Uint8Array(16);de.set(M,de.length-M.length);var w=new Uint8Array(32);we.stream(this._key,de,w,4);var Re=new Uint8Array(this.tagLength);if(this._authenticate(Re,w,fe.subarray(0,fe.length-this.tagLength),me),!le.equal(Re,fe.subarray(fe.length-this.tagLength,fe.length)))return null;var Y,Ae=fe.length-this.tagLength;if(ue){if(ue.length!==Ae)throw new Error("ChaCha20Poly1305: incorrect destination length");Y=ue}else Y=new Uint8Array(Ae);return we.streamXOR(this._key,de,fe.subarray(0,fe.length-this.tagLength),Y,4),Ie.wipe(de),Y},$.prototype.clean=function(){return Ie.wipe(this._key),this},$.prototype._authenticate=function(M,fe,me,ue){var de=new Pe.Poly1305(fe);ue&&(de.update(ue),ue.length%16>0&&de.update(V.subarray(ue.length%16))),de.update(me),me.length%16>0&&de.update(V.subarray(me.length%16));var w=new Uint8Array(8);ue&&Q.writeUint64LE(ue.length,w),de.update(w),Q.writeUint64LE(me.length,w),de.update(w);for(var Re=de.digest(),Ae=0;Ae<Re.length;Ae++)M[Ae]=Re[Ae];de.clean(),Ie.wipe(Re),Ie.wipe(w)},$}();b.OK=K},7456:(He,b)=>{"use strict";function we(Ie,Q){if(Ie.length!==Q.length)return 0;for(var le=0,V=0;V<Ie.length;V++)le|=Ie[V]^Q[V];return 1&le-1>>>8}Object.defineProperty(b,"__esModule",{value:!0}),b.select=function q(Ie,Q,le){return~(Ie-1)&Q|Ie-1&le},b.lessOrEqual=function G(Ie,Q){return(0|Ie)-(0|Q)-1>>>31&1},b.compare=we,b.equal=function Pe(Ie,Q){return 0!==Ie.length&&0!==Q.length&&0!==we(Ie,Q)}},5972:(He,b,q)=>{"use strict";b.Xx=b._w=b.aP=b.KS=b.jQ=void 0;q(5465);const Pe=q(6713);q(3403);function Q(ae){const ce=new Float64Array(16);if(ae)for(let te=0;te<ae.length;te++)ce[te]=ae[te];return ce}b.jQ=64,b.KS=64,b.aP=32,new Uint8Array(32)[0]=9;const V=Q(),K=Q([1]),M=(Q([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Q([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),fe=Q([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),me=Q([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);Q([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function de(ae,ce){for(let te=0;te<16;te++)ae[te]=0|ce[te]}function w(ae){let ce=1;for(let te=0;te<16;te++){let y=ae[te]+ce+65535;ce=Math.floor(y/65536),ae[te]=y-65536*ce}ae[0]+=ce-1+37*(ce-1)}function Re(ae,ce,te){const y=~(te-1);for(let H=0;H<16;H++){const je=y&(ae[H]^ce[H]);ae[H]^=je,ce[H]^=je}}function Ae(ae,ce){const te=Q(),y=Q();for(let H=0;H<16;H++)y[H]=ce[H];w(y),w(y),w(y);for(let H=0;H<2;H++){te[0]=y[0]-65517;for(let Ge=1;Ge<15;Ge++)te[Ge]=y[Ge]-65535-(te[Ge-1]>>16&1),te[Ge-1]&=65535;te[15]=y[15]-32767-(te[14]>>16&1);const je=te[15]>>16&1;te[14]&=65535,Re(y,te,1-je)}for(let H=0;H<16;H++)ae[2*H]=255&y[H],ae[2*H+1]=y[H]>>8}function pe(ae){const ce=new Uint8Array(32);return Ae(ce,ae),1&ce[0]}function oe(ae,ce,te){for(let y=0;y<16;y++)ae[y]=ce[y]+te[y]}function B(ae,ce,te){for(let y=0;y<16;y++)ae[y]=ce[y]-te[y]}function _(ae,ce,te){let y,H,je=0,Ge=0,pt=0,Rt=0,mt=0,Tt=0,zt=0,ir=0,Et=0,bt=0,vt=0,gt=0,ht=0,rt=0,nt=0,ot=0,et=0,tt=0,xt=0,Pt=0,At=0,St=0,Ft=0,Ut=0,fn=0,Or=0,En=0,qn=0,ci=0,Kn=0,xn=0,Qt=te[0],Xt=te[1],er=te[2],qt=te[3],lr=te[4],fr=te[5],sr=te[6],tr=te[7],hr=te[8],or=te[9],rr=te[10],Ht=te[11],dr=te[12],pr=te[13],gr=te[14],_r=te[15];y=ce[0],je+=y*Qt,Ge+=y*Xt,pt+=y*er,Rt+=y*qt,mt+=y*lr,Tt+=y*fr,zt+=y*sr,ir+=y*tr,Et+=y*hr,bt+=y*or,vt+=y*rr,gt+=y*Ht,ht+=y*dr,rt+=y*pr,nt+=y*gr,ot+=y*_r,y=ce[1],Ge+=y*Qt,pt+=y*Xt,Rt+=y*er,mt+=y*qt,Tt+=y*lr,zt+=y*fr,ir+=y*sr,Et+=y*tr,bt+=y*hr,vt+=y*or,gt+=y*rr,ht+=y*Ht,rt+=y*dr,nt+=y*pr,ot+=y*gr,et+=y*_r,y=ce[2],pt+=y*Qt,Rt+=y*Xt,mt+=y*er,Tt+=y*qt,zt+=y*lr,ir+=y*fr,Et+=y*sr,bt+=y*tr,vt+=y*hr,gt+=y*or,ht+=y*rr,rt+=y*Ht,nt+=y*dr,ot+=y*pr,et+=y*gr,tt+=y*_r,y=ce[3],Rt+=y*Qt,mt+=y*Xt,Tt+=y*er,zt+=y*qt,ir+=y*lr,Et+=y*fr,bt+=y*sr,vt+=y*tr,gt+=y*hr,ht+=y*or,rt+=y*rr,nt+=y*Ht,ot+=y*dr,et+=y*pr,tt+=y*gr,xt+=y*_r,y=ce[4],mt+=y*Qt,Tt+=y*Xt,zt+=y*er,ir+=y*qt,Et+=y*lr,bt+=y*fr,vt+=y*sr,gt+=y*tr,ht+=y*hr,rt+=y*or,nt+=y*rr,ot+=y*Ht,et+=y*dr,tt+=y*pr,xt+=y*gr,Pt+=y*_r,y=ce[5],Tt+=y*Qt,zt+=y*Xt,ir+=y*er,Et+=y*qt,bt+=y*lr,vt+=y*fr,gt+=y*sr,ht+=y*tr,rt+=y*hr,nt+=y*or,ot+=y*rr,et+=y*Ht,tt+=y*dr,xt+=y*pr,Pt+=y*gr,At+=y*_r,y=ce[6],zt+=y*Qt,ir+=y*Xt,Et+=y*er,bt+=y*qt,vt+=y*lr,gt+=y*fr,ht+=y*sr,rt+=y*tr,nt+=y*hr,ot+=y*or,et+=y*rr,tt+=y*Ht,xt+=y*dr,Pt+=y*pr,At+=y*gr,St+=y*_r,y=ce[7],ir+=y*Qt,Et+=y*Xt,bt+=y*er,vt+=y*qt,gt+=y*lr,ht+=y*fr,rt+=y*sr,nt+=y*tr,ot+=y*hr,et+=y*or,tt+=y*rr,xt+=y*Ht,Pt+=y*dr,At+=y*pr,St+=y*gr,Ft+=y*_r,y=ce[8],Et+=y*Qt,bt+=y*Xt,vt+=y*er,gt+=y*qt,ht+=y*lr,rt+=y*fr,nt+=y*sr,ot+=y*tr,et+=y*hr,tt+=y*or,xt+=y*rr,Pt+=y*Ht,At+=y*dr,St+=y*pr,Ft+=y*gr,Ut+=y*_r,y=ce[9],bt+=y*Qt,vt+=y*Xt,gt+=y*er,ht+=y*qt,rt+=y*lr,nt+=y*fr,ot+=y*sr,et+=y*tr,tt+=y*hr,xt+=y*or,Pt+=y*rr,At+=y*Ht,St+=y*dr,Ft+=y*pr,Ut+=y*gr,fn+=y*_r,y=ce[10],vt+=y*Qt,gt+=y*Xt,ht+=y*er,rt+=y*qt,nt+=y*lr,ot+=y*fr,et+=y*sr,tt+=y*tr,xt+=y*hr,Pt+=y*or,At+=y*rr,St+=y*Ht,Ft+=y*dr,Ut+=y*pr,fn+=y*gr,Or+=y*_r,y=ce[11],gt+=y*Qt,ht+=y*Xt,rt+=y*er,nt+=y*qt,ot+=y*lr,et+=y*fr,tt+=y*sr,xt+=y*tr,Pt+=y*hr,At+=y*or,St+=y*rr,Ft+=y*Ht,Ut+=y*dr,fn+=y*pr,Or+=y*gr,En+=y*_r,y=ce[12],ht+=y*Qt,rt+=y*Xt,nt+=y*er,ot+=y*qt,et+=y*lr,tt+=y*fr,xt+=y*sr,Pt+=y*tr,At+=y*hr,St+=y*or,Ft+=y*rr,Ut+=y*Ht,fn+=y*dr,Or+=y*pr,En+=y*gr,qn+=y*_r,y=ce[13],rt+=y*Qt,nt+=y*Xt,ot+=y*er,et+=y*qt,tt+=y*lr,xt+=y*fr,Pt+=y*sr,At+=y*tr,St+=y*hr,Ft+=y*or,Ut+=y*rr,fn+=y*Ht,Or+=y*dr,En+=y*pr,qn+=y*gr,ci+=y*_r,y=ce[14],nt+=y*Qt,ot+=y*Xt,et+=y*er,tt+=y*qt,xt+=y*lr,Pt+=y*fr,At+=y*sr,St+=y*tr,Ft+=y*hr,Ut+=y*or,fn+=y*rr,Or+=y*Ht,En+=y*dr,qn+=y*pr,ci+=y*gr,Kn+=y*_r,y=ce[15],ot+=y*Qt,et+=y*Xt,tt+=y*er,xt+=y*qt,Pt+=y*lr,At+=y*fr,St+=y*sr,Ft+=y*tr,Ut+=y*hr,fn+=y*or,Or+=y*rr,En+=y*Ht,qn+=y*dr,ci+=y*pr,Kn+=y*gr,xn+=y*_r,je+=38*et,Ge+=38*tt,pt+=38*xt,Rt+=38*Pt,mt+=38*At,Tt+=38*St,zt+=38*Ft,ir+=38*Ut,Et+=38*fn,bt+=38*Or,vt+=38*En,gt+=38*qn,ht+=38*ci,rt+=38*Kn,nt+=38*xn,H=1,y=je+H+65535,H=Math.floor(y/65536),je=y-65536*H,y=Ge+H+65535,H=Math.floor(y/65536),Ge=y-65536*H,y=pt+H+65535,H=Math.floor(y/65536),pt=y-65536*H,y=Rt+H+65535,H=Math.floor(y/65536),Rt=y-65536*H,y=mt+H+65535,H=Math.floor(y/65536),mt=y-65536*H,y=Tt+H+65535,H=Math.floor(y/65536),Tt=y-65536*H,y=zt+H+65535,H=Math.floor(y/65536),zt=y-65536*H,y=ir+H+65535,H=Math.floor(y/65536),ir=y-65536*H,y=Et+H+65535,H=Math.floor(y/65536),Et=y-65536*H,y=bt+H+65535,H=Math.floor(y/65536),bt=y-65536*H,y=vt+H+65535,H=Math.floor(y/65536),vt=y-65536*H,y=gt+H+65535,H=Math.floor(y/65536),gt=y-65536*H,y=ht+H+65535,H=Math.floor(y/65536),ht=y-65536*H,y=rt+H+65535,H=Math.floor(y/65536),rt=y-65536*H,y=nt+H+65535,H=Math.floor(y/65536),nt=y-65536*H,y=ot+H+65535,H=Math.floor(y/65536),ot=y-65536*H,je+=H-1+37*(H-1),H=1,y=je+H+65535,H=Math.floor(y/65536),je=y-65536*H,y=Ge+H+65535,H=Math.floor(y/65536),Ge=y-65536*H,y=pt+H+65535,H=Math.floor(y/65536),pt=y-65536*H,y=Rt+H+65535,H=Math.floor(y/65536),Rt=y-65536*H,y=mt+H+65535,H=Math.floor(y/65536),mt=y-65536*H,y=Tt+H+65535,H=Math.floor(y/65536),Tt=y-65536*H,y=zt+H+65535,H=Math.floor(y/65536),zt=y-65536*H,y=ir+H+65535,H=Math.floor(y/65536),ir=y-65536*H,y=Et+H+65535,H=Math.floor(y/65536),Et=y-65536*H,y=bt+H+65535,H=Math.floor(y/65536),bt=y-65536*H,y=vt+H+65535,H=Math.floor(y/65536),vt=y-65536*H,y=gt+H+65535,H=Math.floor(y/65536),gt=y-65536*H,y=ht+H+65535,H=Math.floor(y/65536),ht=y-65536*H,y=rt+H+65535,H=Math.floor(y/65536),rt=y-65536*H,y=nt+H+65535,H=Math.floor(y/65536),nt=y-65536*H,y=ot+H+65535,H=Math.floor(y/65536),ot=y-65536*H,je+=H-1+37*(H-1),ae[0]=je,ae[1]=Ge,ae[2]=pt,ae[3]=Rt,ae[4]=mt,ae[5]=Tt,ae[6]=zt,ae[7]=ir,ae[8]=Et,ae[9]=bt,ae[10]=vt,ae[11]=gt,ae[12]=ht,ae[13]=rt,ae[14]=nt,ae[15]=ot}function v(ae,ce){_(ae,ce,ce)}function R(ae,ce){const te=Q(),y=Q(),H=Q(),je=Q(),Ge=Q(),pt=Q(),Rt=Q(),mt=Q(),Tt=Q();B(te,ae[1],ae[0]),B(Tt,ce[1],ce[0]),_(te,te,Tt),oe(y,ae[0],ae[1]),oe(Tt,ce[0],ce[1]),_(y,y,Tt),_(H,ae[3],ce[3]),_(H,H,M),_(je,ae[2],ce[2]),oe(je,je,je),B(Ge,y,te),B(pt,je,H),oe(Rt,je,H),oe(mt,y,te),_(ae[0],Ge,pt),_(ae[1],mt,Rt),_(ae[2],Rt,pt),_(ae[3],Ge,mt)}function Z(ae,ce,te){for(let y=0;y<4;y++)Re(ae[y],ce[y],te)}function x(ae,ce){const te=Q(),y=Q(),H=Q();(function O(ae,ce){const te=Q();let y;for(y=0;y<16;y++)te[y]=ce[y];for(y=253;y>=0;y--)v(te,te),2!==y&&4!==y&&_(te,te,ce);for(y=0;y<16;y++)ae[y]=te[y]})(H,ce[2]),_(te,ce[0],H),_(y,ce[1],H),Ae(ae,y),ae[31]^=pe(te)<<7}function U(ae,ce){const te=[Q(),Q(),Q(),Q()];de(te[0],fe),de(te[1],me),de(te[2],K),_(te[3],fe,me),function C(ae,ce,te){de(ae[0],V),de(ae[1],K),de(ae[2],K),de(ae[3],V);for(let y=255;y>=0;--y){const H=te[y/8|0]>>(7&y)&1;Z(ae,ce,H),R(ce,ae),R(ae,ae),Z(ae,ce,H)}}(ae,te,ce)}b._w=function N(ae){if(ae.length!==b.aP)throw new Error(`ed25519: seed must be ${b.aP} bytes`);const ce=(0,Pe.hash)(ae);ce[0]&=248,ce[31]&=127,ce[31]|=64;const te=new Uint8Array(32),y=[Q(),Q(),Q(),Q()];U(y,ce),x(te,y);const H=new Uint8Array(64);return H.set(ae),H.set(te,32),{publicKey:te,secretKey:H}};const _e=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ee(ae,ce){let te,y,H,je;for(y=63;y>=32;--y){for(te=0,H=y-32,je=y-12;H<je;++H)ce[H]+=te-16*ce[y]*_e[H-(y-32)],te=Math.floor((ce[H]+128)/256),ce[H]-=256*te;ce[H]+=te,ce[y]=0}for(te=0,H=0;H<32;H++)ce[H]+=te-(ce[31]>>4)*_e[H],te=ce[H]>>8,ce[H]&=255;for(H=0;H<32;H++)ce[H]-=te*_e[H];for(y=0;y<32;y++)ce[y+1]+=ce[y]>>8,ae[y]=255&ce[y]}function Ue(ae){const ce=new Float64Array(64);for(let te=0;te<64;te++)ce[te]=ae[te];for(let te=0;te<64;te++)ae[te]=0;ee(ae,ce)}b.Xx=function xe(ae,ce){const te=new Float64Array(64),y=[Q(),Q(),Q(),Q()],H=(0,Pe.hash)(ae.subarray(0,32));H[0]&=248,H[31]&=127,H[31]|=64;const je=new Uint8Array(64);je.set(H.subarray(32),32);const Ge=new Pe.SHA512;Ge.update(je.subarray(32)),Ge.update(ce);const pt=Ge.digest();Ge.clean(),Ue(pt),U(y,pt),x(je,y),Ge.reset(),Ge.update(je.subarray(0,32)),Ge.update(ae.subarray(32)),Ge.update(ce);const Rt=Ge.digest();Ue(Rt);for(let mt=0;mt<32;mt++)te[mt]=pt[mt];for(let mt=0;mt<32;mt++)for(let Tt=0;Tt<32;Tt++)te[mt+Tt]+=Rt[mt]*H[Tt];return ee(je.subarray(32),te),je}},970:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isSerializableHash=function q(G){return typeof G.saveState<"u"&&typeof G.restoreState<"u"&&typeof G.cleanSavedState<"u"}},1028:(He,b,q)=>{"use strict";var we=q(8347),Pe=q(3403),Ie=function(){function Q(le,V,K,$){void 0===K&&(K=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=le,this._info=$;var M=we.hmac(this._hash,K,V);this._hmac=new we.HMAC(le,M),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return Q.prototype._fillBuffer=function(){this._counter[0]++;var le=this._counter[0];if(0===le)throw new Error("hkdf: cannot expand more");this._hmac.reset(),le>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},Q.prototype.expand=function(le){for(var V=new Uint8Array(le),K=0;K<V.length;K++)this._bufpos===this._buffer.length&&this._fillBuffer(),V[K]=this._buffer[this._bufpos++];return V},Q.prototype.clean=function(){this._hmac.clean(),Pe.wipe(this._buffer),Pe.wipe(this._counter),this._bufpos=0},Q}();b.t=Ie},8347:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=q(970),we=q(7456),Pe=q(3403),Ie=function(){function le(V,K){this._finished=!1,this._inner=new V,this._outer=new V,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var $=new Uint8Array(this.blockSize);K.length>this.blockSize?this._inner.update(K).finish($).clean():$.set(K);for(var M=0;M<$.length;M++)$[M]^=54;for(this._inner.update($),M=0;M<$.length;M++)$[M]^=106;this._outer.update($),G.isSerializableHash(this._inner)&&G.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Pe.wipe($)}return le.prototype.reset=function(){if(!G.isSerializableHash(this._inner)||!G.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},le.prototype.clean=function(){G.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),G.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},le.prototype.update=function(V){return this._inner.update(V),this},le.prototype.finish=function(V){return this._finished?(this._outer.finish(V),this):(this._inner.finish(V),this._outer.update(V.subarray(0,this.digestLength)).finish(V),this._finished=!0,this)},le.prototype.digest=function(){var V=new Uint8Array(this.digestLength);return this.finish(V),V},le.prototype.saveState=function(){if(!G.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},le.prototype.restoreState=function(V){if(!G.isSerializableHash(this._inner)||!G.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(V),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},le.prototype.cleanSavedState=function(V){if(!G.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(V)},le}();b.HMAC=Ie,b.hmac=function Q(le,V,K){var $=new Ie(le,V);$.update(K);var M=$.digest();return $.clean(),M},b.equal=we.equal},8052:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.mul=Math.imul||function q(le,V){var $=65535&le,fe=65535&V;return $*fe+((le>>>16&65535)*fe+$*(V>>>16&65535)<<16>>>0)|0},b.add=function G(le,V){return le+V|0},b.sub=function we(le,V){return le-V|0},b.rotl=function Pe(le,V){return le<<V|le>>>32-V},b.rotr=function Ie(le,V){return le<<32-V|le>>>V},b.isInteger=Number.isInteger||function Q(le){return"number"==typeof le&&isFinite(le)&&Math.floor(le)===le},b.MAX_SAFE_INTEGER=9007199254740991,b.isSafeInteger=function(le){return b.isInteger(le)&&le>=-b.MAX_SAFE_INTEGER&&le<=b.MAX_SAFE_INTEGER}},826:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=q(7456),we=q(3403);b.DIGEST_LENGTH=16;var Pe=function(){function le(V){this.digestLength=b.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var K=V[0]|V[1]<<8;this._r[0]=8191&K;var $=V[2]|V[3]<<8;this._r[1]=8191&(K>>>13|$<<3);var M=V[4]|V[5]<<8;this._r[2]=7939&($>>>10|M<<6);var fe=V[6]|V[7]<<8;this._r[3]=8191&(M>>>7|fe<<9);var me=V[8]|V[9]<<8;this._r[4]=255&(fe>>>4|me<<12),this._r[5]=me>>>1&8190;var ue=V[10]|V[11]<<8;this._r[6]=8191&(me>>>14|ue<<2);var de=V[12]|V[13]<<8;this._r[7]=8065&(ue>>>11|de<<5);var w=V[14]|V[15]<<8;this._r[8]=8191&(de>>>8|w<<8),this._r[9]=w>>>5&127,this._pad[0]=V[16]|V[17]<<8,this._pad[1]=V[18]|V[19]<<8,this._pad[2]=V[20]|V[21]<<8,this._pad[3]=V[22]|V[23]<<8,this._pad[4]=V[24]|V[25]<<8,this._pad[5]=V[26]|V[27]<<8,this._pad[6]=V[28]|V[29]<<8,this._pad[7]=V[30]|V[31]<<8}return le.prototype._blocks=function(V,K,$){for(var M=this._fin?0:2048,fe=this._h[0],me=this._h[1],ue=this._h[2],de=this._h[3],w=this._h[4],Re=this._h[5],Ae=this._h[6],Y=this._h[7],ge=this._h[8],pe=this._h[9],W=this._r[0],oe=this._r[1],B=this._r[2],_=this._r[3],v=this._r[4],O=this._r[5],D=this._r[6],R=this._r[7],Z=this._r[8],x=this._r[9];$>=16;){var C=V[K+0]|V[K+1]<<8,U=V[K+2]|V[K+3]<<8,N=V[K+4]|V[K+5]<<8,S=V[K+6]|V[K+7]<<8,J=V[K+8]|V[K+9]<<8,_e=V[K+10]|V[K+11]<<8,ee=V[K+12]|V[K+13]<<8,Ue=V[K+14]|V[K+15]<<8,xe=0,Ce=xe;Ce+=(fe+=8191&C)*W,Ce+=(me+=8191&(C>>>13|U<<3))*(5*x),Ce+=(ue+=8191&(U>>>10|N<<6))*(5*Z),Ce+=(de+=8191&(N>>>7|S<<9))*(5*R),xe=(Ce+=(w+=8191&(S>>>4|J<<12))*(5*D))>>>13,Ce&=8191,Ce+=(Re+=J>>>1&8191)*(5*O),Ce+=(Ae+=8191&(J>>>14|_e<<2))*(5*v),Ce+=(Y+=8191&(_e>>>11|ee<<5))*(5*_),Ce+=(ge+=8191&(ee>>>8|Ue<<8))*(5*B);var $e=xe+=(Ce+=(pe+=Ue>>>5|M)*(5*oe))>>>13;$e+=fe*oe,$e+=me*W,$e+=ue*(5*x),$e+=de*(5*Z),xe=($e+=w*(5*R))>>>13,$e&=8191,$e+=Re*(5*D),$e+=Ae*(5*O),$e+=Y*(5*v),$e+=ge*(5*_),xe+=($e+=pe*(5*B))>>>13,$e&=8191;var Ke=xe;Ke+=fe*B,Ke+=me*oe,Ke+=ue*W,Ke+=de*(5*x),xe=(Ke+=w*(5*Z))>>>13,Ke&=8191,Ke+=Re*(5*R),Ke+=Ae*(5*D),Ke+=Y*(5*O),Ke+=ge*(5*v);var Ve=xe+=(Ke+=pe*(5*_))>>>13;Ve+=fe*_,Ve+=me*B,Ve+=ue*oe,Ve+=de*W,xe=(Ve+=w*(5*x))>>>13,Ve&=8191,Ve+=Re*(5*Z),Ve+=Ae*(5*R),Ve+=Y*(5*D),Ve+=ge*(5*O);var ae=xe+=(Ve+=pe*(5*v))>>>13;ae+=fe*v,ae+=me*_,ae+=ue*B,ae+=de*oe,xe=(ae+=w*W)>>>13,ae&=8191,ae+=Re*(5*x),ae+=Ae*(5*Z),ae+=Y*(5*R),ae+=ge*(5*D);var ce=xe+=(ae+=pe*(5*O))>>>13;ce+=fe*O,ce+=me*v,ce+=ue*_,ce+=de*B,xe=(ce+=w*oe)>>>13,ce&=8191,ce+=Re*W,ce+=Ae*(5*x),ce+=Y*(5*Z),ce+=ge*(5*R);var te=xe+=(ce+=pe*(5*D))>>>13;te+=fe*D,te+=me*O,te+=ue*v,te+=de*_,xe=(te+=w*B)>>>13,te&=8191,te+=Re*oe,te+=Ae*W,te+=Y*(5*x),te+=ge*(5*Z);var y=xe+=(te+=pe*(5*R))>>>13;y+=fe*R,y+=me*D,y+=ue*O,y+=de*v,xe=(y+=w*_)>>>13,y&=8191,y+=Re*B,y+=Ae*oe,y+=Y*W,y+=ge*(5*x);var H=xe+=(y+=pe*(5*Z))>>>13;H+=fe*Z,H+=me*R,H+=ue*D,H+=de*O,xe=(H+=w*v)>>>13,H&=8191,H+=Re*_,H+=Ae*B,H+=Y*oe,H+=ge*W;var je=xe+=(H+=pe*(5*x))>>>13;je+=fe*x,je+=me*Z,je+=ue*R,je+=de*D,xe=(je+=w*O)>>>13,je&=8191,je+=Re*v,je+=Ae*_,je+=Y*B,je+=ge*oe,fe=Ce=8191&(xe=(xe=((xe+=(je+=pe*W)>>>13)<<2)+xe|0)+(Ce&=8191)|0),me=$e+=xe>>>=13,ue=Ke&=8191,de=Ve&=8191,w=ae&=8191,Re=ce&=8191,Ae=te&=8191,Y=y&=8191,ge=H&=8191,pe=je&=8191,K+=16,$-=16}this._h[0]=fe,this._h[1]=me,this._h[2]=ue,this._h[3]=de,this._h[4]=w,this._h[5]=Re,this._h[6]=Ae,this._h[7]=Y,this._h[8]=ge,this._h[9]=pe},le.prototype.finish=function(V,K){void 0===K&&(K=0);var M,fe,me,ue,$=new Uint16Array(10);if(this._leftover){for(ue=this._leftover,this._buffer[ue++]=1;ue<16;ue++)this._buffer[ue]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(M=this._h[1]>>>13,this._h[1]&=8191,ue=2;ue<10;ue++)this._h[ue]+=M,M=this._h[ue]>>>13,this._h[ue]&=8191;for(this._h[0]+=5*M,M=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=M,M=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=M,$[0]=this._h[0]+5,M=$[0]>>>13,$[0]&=8191,ue=1;ue<10;ue++)$[ue]=this._h[ue]+M,M=$[ue]>>>13,$[ue]&=8191;for($[9]-=8192,fe=(1^M)-1,ue=0;ue<10;ue++)$[ue]&=fe;for(fe=~fe,ue=0;ue<10;ue++)this._h[ue]=this._h[ue]&fe|$[ue];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),this._h[0]=65535&(me=this._h[0]+this._pad[0]),ue=1;ue<8;ue++)this._h[ue]=65535&(me=(this._h[ue]+this._pad[ue]|0)+(me>>>16)|0);return V[K+0]=this._h[0]>>>0,V[K+1]=this._h[0]>>>8,V[K+2]=this._h[1]>>>0,V[K+3]=this._h[1]>>>8,V[K+4]=this._h[2]>>>0,V[K+5]=this._h[2]>>>8,V[K+6]=this._h[3]>>>0,V[K+7]=this._h[3]>>>8,V[K+8]=this._h[4]>>>0,V[K+9]=this._h[4]>>>8,V[K+10]=this._h[5]>>>0,V[K+11]=this._h[5]>>>8,V[K+12]=this._h[6]>>>0,V[K+13]=this._h[6]>>>8,V[K+14]=this._h[7]>>>0,V[K+15]=this._h[7]>>>8,this._finished=!0,this},le.prototype.update=function(V){var M,K=0,$=V.length;if(this._leftover){(M=16-this._leftover)>$&&(M=$);for(var fe=0;fe<M;fe++)this._buffer[this._leftover+fe]=V[K+fe];if($-=M,K+=M,this._leftover+=M,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if($>=16&&(this._blocks(V,K,M=$-$%16),K+=M,$-=M),$){for(fe=0;fe<$;fe++)this._buffer[this._leftover+fe]=V[K+fe];this._leftover+=$}return this},le.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var V=new Uint8Array(16);return this.finish(V),V},le.prototype.clean=function(){return we.wipe(this._buffer),we.wipe(this._r),we.wipe(this._h),we.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},le}();b.Poly1305=Pe,b.oneTimeAuth=function Ie(le,V){var K=new Pe(le);K.update(V);var $=K.digest();return K.clean(),$},b.equal=function Q(le,V){return le.length===b.DIGEST_LENGTH&&V.length===b.DIGEST_LENGTH&&G.equal(le,V)}},5465:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.randomStringForEntropy=b.randomString=b.randomUint32=b.randomBytes=b.defaultRandomSource=void 0;const G=q(1765),we=q(9546),Pe=q(3403);function Ie($,M=b.defaultRandomSource){return M.randomBytes($)}b.defaultRandomSource=new G.SystemRandomSource,b.randomBytes=Ie,b.randomUint32=function Q($=b.defaultRandomSource){const M=Ie(4,$),fe=(0,we.readUint32LE)(M);return(0,Pe.wipe)(M),fe};const le="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function V($,M=le,fe=b.defaultRandomSource){if(M.length<2)throw new Error("randomString charset is too short");if(M.length>256)throw new Error("randomString charset is too long");let me="";const ue=M.length,de=256-256%ue;for(;$>0;){const w=Ie(Math.ceil(256*$/de),fe);for(let Re=0;Re<w.length&&$>0;Re++){const Ae=w[Re];Ae<de&&(me+=M.charAt(Ae%ue),$--)}(0,Pe.wipe)(w)}return me}b.randomString=V,b.randomStringForEntropy=function K($,M=le,fe=b.defaultRandomSource){return V(Math.ceil($/(Math.log(M.length)/Math.LN2)),M,fe)}},3158:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BrowserRandomSource=void 0,b.BrowserRandomSource=class G{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const Pe=typeof self<"u"?self.crypto||self.msCrypto:null;Pe&&void 0!==Pe.getRandomValues&&(this._crypto=Pe,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(Pe){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const Ie=new Uint8Array(Pe);for(let Q=0;Q<Ie.length;Q+=65536)this._crypto.getRandomValues(Ie.subarray(Q,Q+Math.min(Ie.length-Q,65536)));return Ie}}},5481:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeRandomSource=void 0;const G=q(3403);b.NodeRandomSource=class we{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const Ie=q(5883);Ie&&Ie.randomBytes&&(this._crypto=Ie,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(Ie){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let Q=this._crypto.randomBytes(Ie);if(Q.length!==Ie)throw new Error("NodeRandomSource: got fewer bytes than requested");const le=new Uint8Array(Ie);for(let V=0;V<le.length;V++)le[V]=Q[V];return(0,G.wipe)(Q),le}}},1765:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SystemRandomSource=void 0;const G=q(3158),we=q(5481);b.SystemRandomSource=class Pe{constructor(){return this.isAvailable=!1,this.name="",this._source=new G.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new we.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(Q){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(Q)}}},1033:(He,b,q)=>{"use strict";var we=q(9546),Pe=q(3403);b.k=32,b.cn=64;var Ie=function(){function K(){this.digestLength=b.k,this.blockSize=b.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return K.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},K.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},K.prototype.clean=function(){Pe.wipe(this._buffer),Pe.wipe(this._temp),this.reset()},K.prototype.update=function($,M){if(void 0===M&&(M=$.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var fe=0;if(this._bytesHashed+=M,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&M>0;)this._buffer[this._bufferLength++]=$[fe++],M--;this._bufferLength===this.blockSize&&(le(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(M>=this.blockSize&&(fe=le(this._temp,this._state,$,fe,M),M%=this.blockSize);M>0;)this._buffer[this._bufferLength++]=$[fe++],M--;return this},K.prototype.finish=function($){if(!this._finished){var M=this._bytesHashed,fe=this._bufferLength,me=M/536870912|0,ue=M<<3,de=M%64<56?64:128;this._buffer[fe]=128;for(var w=fe+1;w<de-8;w++)this._buffer[w]=0;we.writeUint32BE(me,this._buffer,de-8),we.writeUint32BE(ue,this._buffer,de-4),le(this._temp,this._state,this._buffer,0,de),this._finished=!0}for(w=0;w<this.digestLength/4;w++)we.writeUint32BE(this._state[w],$,4*w);return this},K.prototype.digest=function(){var $=new Uint8Array(this.digestLength);return this.finish($),$},K.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},K.prototype.restoreState=function($){return this._state.set($.state),this._bufferLength=$.bufferLength,$.buffer&&this._buffer.set($.buffer),this._bytesHashed=$.bytesHashed,this._finished=!1,this},K.prototype.cleanSavedState=function($){Pe.wipe($.state),$.buffer&&Pe.wipe($.buffer),$.bufferLength=0,$.bytesHashed=0},K}();b.mE=Ie;var Q=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function le(K,$,M,fe,me){for(;me>=64;){for(var ue=$[0],de=$[1],w=$[2],Re=$[3],Ae=$[4],Y=$[5],ge=$[6],pe=$[7],W=0;W<16;W++)K[W]=we.readUint32BE(M,fe+4*W);for(W=16;W<64;W++){var B=K[W-2];K[W]=((_=(B>>>17|B<<15)^(B>>>19|B<<13)^B>>>10)+K[W-7]|0)+((v=((B=K[W-15])>>>7|B<<25)^(B>>>18|B<<14)^B>>>3)+K[W-16]|0)}for(W=0;W<64;W++){var _=(((Ae>>>6|Ae<<26)^(Ae>>>11|Ae<<21)^(Ae>>>25|Ae<<7))+(Ae&Y^~Ae&ge)|0)+(pe+(Q[W]+K[W]|0)|0)|0,v=((ue>>>2|ue<<30)^(ue>>>13|ue<<19)^(ue>>>22|ue<<10))+(ue&de^ue&w^de&w)|0;pe=ge,ge=Y,Y=Ae,Ae=Re+_|0,Re=w,w=de,de=ue,ue=_+v|0}$[0]+=ue,$[1]+=de,$[2]+=w,$[3]+=Re,$[4]+=Ae,$[5]+=Y,$[6]+=ge,$[7]+=pe,fe+=64,me-=64}return fe}b.vp=function V(K){var $=new Ie;$.update(K);var M=$.digest();return $.clean(),M}},6713:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var G=q(9546),we=q(3403);b.DIGEST_LENGTH=64,b.BLOCK_SIZE=128;var Pe=function(){function V(){this.digestLength=b.DIGEST_LENGTH,this.blockSize=b.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return V.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},V.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},V.prototype.clean=function(){we.wipe(this._buffer),we.wipe(this._tempHi),we.wipe(this._tempLo),this.reset()},V.prototype.update=function(K,$){if(void 0===$&&($=K.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var M=0;if(this._bytesHashed+=$,this._bufferLength>0){for(;this._bufferLength<b.BLOCK_SIZE&&$>0;)this._buffer[this._bufferLength++]=K[M++],$--;this._bufferLength===this.blockSize&&(Q(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for($>=this.blockSize&&(M=Q(this._tempHi,this._tempLo,this._stateHi,this._stateLo,K,M,$),$%=this.blockSize);$>0;)this._buffer[this._bufferLength++]=K[M++],$--;return this},V.prototype.finish=function(K){if(!this._finished){var $=this._bytesHashed,M=this._bufferLength,fe=$/536870912|0,me=$<<3,ue=$%128<112?128:256;this._buffer[M]=128;for(var de=M+1;de<ue-8;de++)this._buffer[de]=0;G.writeUint32BE(fe,this._buffer,ue-8),G.writeUint32BE(me,this._buffer,ue-4),Q(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ue),this._finished=!0}for(de=0;de<this.digestLength/8;de++)G.writeUint32BE(this._stateHi[de],K,8*de),G.writeUint32BE(this._stateLo[de],K,8*de+4);return this},V.prototype.digest=function(){var K=new Uint8Array(this.digestLength);return this.finish(K),K},V.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},V.prototype.restoreState=function(K){return this._stateHi.set(K.stateHi),this._stateLo.set(K.stateLo),this._bufferLength=K.bufferLength,K.buffer&&this._buffer.set(K.buffer),this._bytesHashed=K.bytesHashed,this._finished=!1,this},V.prototype.cleanSavedState=function(K){we.wipe(K.stateHi),we.wipe(K.stateLo),K.buffer&&we.wipe(K.buffer),K.bufferLength=0,K.bytesHashed=0},V}();b.SHA512=Pe;var Ie=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function Q(V,K,$,M,fe,me,ue){for(var x,C,U,N,S,J,_e,ee,de=$[0],w=$[1],Re=$[2],Ae=$[3],Y=$[4],ge=$[5],pe=$[6],W=$[7],oe=M[0],B=M[1],_=M[2],v=M[3],O=M[4],D=M[5],R=M[6],Z=M[7];ue>=128;){for(var Ue=0;Ue<16;Ue++)V[Ue]=G.readUint32BE(fe,xe=8*Ue+me),K[Ue]=G.readUint32BE(fe,xe+4);for(Ue=0;Ue<80;Ue++){var y,zt,$e=w,Ke=Re,Ve=Ae,ae=Y,ce=ge,te=pe,je=B,Ge=_,pt=v,Rt=O,mt=D,Tt=R;if(S=65535&(C=Z),J=C>>>16,_e=65535&(x=W),ee=x>>>16,S+=65535&(C=(O>>>14|Y<<18)^(O>>>18|Y<<14)^(Y>>>9|O<<23)),J+=C>>>16,_e+=65535&(x=(Y>>>14|O<<18)^(Y>>>18|O<<14)^(O>>>9|Y<<23)),ee+=x>>>16,S+=65535&(C=O&D^~O&R),J+=C>>>16,_e+=65535&(x=Y&ge^~Y&pe),ee+=x>>>16,S+=65535&(C=Ie[2*Ue+1]),J+=C>>>16,_e+=65535&(x=Ie[2*Ue]),ee+=x>>>16,J+=(C=K[Ue%16])>>>16,_e+=65535&(x=V[Ue%16]),ee+=x>>>16,_e+=(J+=(S+=65535&C)>>>16)>>>16,S=65535&(C=N=65535&S|J<<16),J=C>>>16,_e=65535&(x=U=65535&_e|(ee+=_e>>>16)<<16),ee=x>>>16,S+=65535&(C=(oe>>>28|de<<4)^(de>>>2|oe<<30)^(de>>>7|oe<<25)),J+=C>>>16,_e+=65535&(x=(de>>>28|oe<<4)^(oe>>>2|de<<30)^(oe>>>7|de<<25)),ee+=x>>>16,J+=(C=oe&B^oe&_^B&_)>>>16,_e+=65535&(x=de&w^de&Re^w&Re),ee+=x>>>16,y=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,zt=65535&S|J<<16,S=65535&(C=pt),J=C>>>16,_e=65535&(x=Ve),ee=x>>>16,J+=(C=N)>>>16,_e+=65535&(x=U),ee+=x>>>16,w=de,Re=$e,Ae=Ke,Y=Ve=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,ge=ae,pe=ce,W=te,de=y,B=oe,_=je,v=Ge,O=pt=65535&S|J<<16,D=Rt,R=mt,Z=Tt,oe=zt,Ue%16==15)for(var xe=0;xe<16;xe++)S=65535&(C=K[xe]),J=C>>>16,_e=65535&(x=V[xe]),ee=x>>>16,S+=65535&(C=K[(xe+9)%16]),J+=C>>>16,_e+=65535&(x=V[(xe+9)%16]),ee+=x>>>16,S+=65535&(C=((N=K[(xe+1)%16])>>>1|(U=V[(xe+1)%16])<<31)^(N>>>8|U<<24)^(N>>>7|U<<25)),J+=C>>>16,_e+=65535&(x=(U>>>1|N<<31)^(U>>>8|N<<24)^U>>>7),ee+=x>>>16,J+=(C=((N=K[(xe+14)%16])>>>19|(U=V[(xe+14)%16])<<13)^(U>>>29|N<<3)^(N>>>6|U<<26))>>>16,_e+=65535&(x=(U>>>19|N<<13)^(N>>>29|U<<3)^U>>>6),ee+=x>>>16,V[xe]=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,K[xe]=65535&S|J<<16}S=65535&(C=oe),J=C>>>16,_e=65535&(x=de),ee=x>>>16,J+=(C=M[0])>>>16,_e+=65535&(x=$[0]),ee+=x>>>16,$[0]=de=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[0]=oe=65535&S|J<<16,S=65535&(C=B),J=C>>>16,_e=65535&(x=w),ee=x>>>16,J+=(C=M[1])>>>16,_e+=65535&(x=$[1]),ee+=x>>>16,$[1]=w=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[1]=B=65535&S|J<<16,S=65535&(C=_),J=C>>>16,_e=65535&(x=Re),ee=x>>>16,J+=(C=M[2])>>>16,_e+=65535&(x=$[2]),ee+=x>>>16,$[2]=Re=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[2]=_=65535&S|J<<16,S=65535&(C=v),J=C>>>16,_e=65535&(x=Ae),ee=x>>>16,J+=(C=M[3])>>>16,_e+=65535&(x=$[3]),ee+=x>>>16,$[3]=Ae=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[3]=v=65535&S|J<<16,S=65535&(C=O),J=C>>>16,_e=65535&(x=Y),ee=x>>>16,J+=(C=M[4])>>>16,_e+=65535&(x=$[4]),ee+=x>>>16,$[4]=Y=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[4]=O=65535&S|J<<16,S=65535&(C=D),J=C>>>16,_e=65535&(x=ge),ee=x>>>16,J+=(C=M[5])>>>16,_e+=65535&(x=$[5]),ee+=x>>>16,$[5]=ge=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[5]=D=65535&S|J<<16,S=65535&(C=R),J=C>>>16,_e=65535&(x=pe),ee=x>>>16,J+=(C=M[6])>>>16,_e+=65535&(x=$[6]),ee+=x>>>16,$[6]=pe=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[6]=R=65535&S|J<<16,S=65535&(C=Z),J=C>>>16,_e=65535&(x=W),ee=x>>>16,J+=(C=M[7])>>>16,_e+=65535&(x=$[7]),ee+=x>>>16,$[7]=W=65535&(_e+=(J+=(S+=65535&C)>>>16)>>>16)|(ee+=_e>>>16)<<16,M[7]=Z=65535&S|J<<16,me+=128,ue-=128}return me}b.hash=function le(V){var K=new Pe;K.update(V);var $=K.digest();return K.clean(),$}},3403:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.wipe=function q(G){for(var we=0;we<G.length;we++)G[we]=0;return G}},8467:(He,b,q)=>{"use strict";b.gi=b.Au=b.KS=b.kz=void 0;const we=q(5465),Pe=q(3403);function Ie(W){const oe=new Float64Array(16);if(W)for(let B=0;B<W.length;B++)oe[B]=W[B];return oe}b.kz=32,b.KS=32;const Q=new Uint8Array(32);Q[0]=9;const le=Ie([56129,1]);function V(W){let oe=1;for(let B=0;B<16;B++){let _=W[B]+oe+65535;oe=Math.floor(_/65536),W[B]=_-65536*oe}W[0]+=oe-1+37*(oe-1)}function K(W,oe,B){const _=~(B-1);for(let v=0;v<16;v++){const O=_&(W[v]^oe[v]);W[v]^=O,oe[v]^=O}}function fe(W,oe,B){for(let _=0;_<16;_++)W[_]=oe[_]+B[_]}function me(W,oe,B){for(let _=0;_<16;_++)W[_]=oe[_]-B[_]}function ue(W,oe,B){let _,v,O=0,D=0,R=0,Z=0,x=0,C=0,U=0,N=0,S=0,J=0,_e=0,ee=0,Ue=0,xe=0,Ce=0,$e=0,Ke=0,Ve=0,ae=0,ce=0,te=0,y=0,H=0,je=0,Ge=0,pt=0,Rt=0,mt=0,Tt=0,zt=0,ir=0,Et=B[0],bt=B[1],vt=B[2],gt=B[3],ht=B[4],rt=B[5],nt=B[6],ot=B[7],et=B[8],tt=B[9],xt=B[10],Pt=B[11],At=B[12],St=B[13],Ft=B[14],Ut=B[15];_=oe[0],O+=_*Et,D+=_*bt,R+=_*vt,Z+=_*gt,x+=_*ht,C+=_*rt,U+=_*nt,N+=_*ot,S+=_*et,J+=_*tt,_e+=_*xt,ee+=_*Pt,Ue+=_*At,xe+=_*St,Ce+=_*Ft,$e+=_*Ut,_=oe[1],D+=_*Et,R+=_*bt,Z+=_*vt,x+=_*gt,C+=_*ht,U+=_*rt,N+=_*nt,S+=_*ot,J+=_*et,_e+=_*tt,ee+=_*xt,Ue+=_*Pt,xe+=_*At,Ce+=_*St,$e+=_*Ft,Ke+=_*Ut,_=oe[2],R+=_*Et,Z+=_*bt,x+=_*vt,C+=_*gt,U+=_*ht,N+=_*rt,S+=_*nt,J+=_*ot,_e+=_*et,ee+=_*tt,Ue+=_*xt,xe+=_*Pt,Ce+=_*At,$e+=_*St,Ke+=_*Ft,Ve+=_*Ut,_=oe[3],Z+=_*Et,x+=_*bt,C+=_*vt,U+=_*gt,N+=_*ht,S+=_*rt,J+=_*nt,_e+=_*ot,ee+=_*et,Ue+=_*tt,xe+=_*xt,Ce+=_*Pt,$e+=_*At,Ke+=_*St,Ve+=_*Ft,ae+=_*Ut,_=oe[4],x+=_*Et,C+=_*bt,U+=_*vt,N+=_*gt,S+=_*ht,J+=_*rt,_e+=_*nt,ee+=_*ot,Ue+=_*et,xe+=_*tt,Ce+=_*xt,$e+=_*Pt,Ke+=_*At,Ve+=_*St,ae+=_*Ft,ce+=_*Ut,_=oe[5],C+=_*Et,U+=_*bt,N+=_*vt,S+=_*gt,J+=_*ht,_e+=_*rt,ee+=_*nt,Ue+=_*ot,xe+=_*et,Ce+=_*tt,$e+=_*xt,Ke+=_*Pt,Ve+=_*At,ae+=_*St,ce+=_*Ft,te+=_*Ut,_=oe[6],U+=_*Et,N+=_*bt,S+=_*vt,J+=_*gt,_e+=_*ht,ee+=_*rt,Ue+=_*nt,xe+=_*ot,Ce+=_*et,$e+=_*tt,Ke+=_*xt,Ve+=_*Pt,ae+=_*At,ce+=_*St,te+=_*Ft,y+=_*Ut,_=oe[7],N+=_*Et,S+=_*bt,J+=_*vt,_e+=_*gt,ee+=_*ht,Ue+=_*rt,xe+=_*nt,Ce+=_*ot,$e+=_*et,Ke+=_*tt,Ve+=_*xt,ae+=_*Pt,ce+=_*At,te+=_*St,y+=_*Ft,H+=_*Ut,_=oe[8],S+=_*Et,J+=_*bt,_e+=_*vt,ee+=_*gt,Ue+=_*ht,xe+=_*rt,Ce+=_*nt,$e+=_*ot,Ke+=_*et,Ve+=_*tt,ae+=_*xt,ce+=_*Pt,te+=_*At,y+=_*St,H+=_*Ft,je+=_*Ut,_=oe[9],J+=_*Et,_e+=_*bt,ee+=_*vt,Ue+=_*gt,xe+=_*ht,Ce+=_*rt,$e+=_*nt,Ke+=_*ot,Ve+=_*et,ae+=_*tt,ce+=_*xt,te+=_*Pt,y+=_*At,H+=_*St,je+=_*Ft,Ge+=_*Ut,_=oe[10],_e+=_*Et,ee+=_*bt,Ue+=_*vt,xe+=_*gt,Ce+=_*ht,$e+=_*rt,Ke+=_*nt,Ve+=_*ot,ae+=_*et,ce+=_*tt,te+=_*xt,y+=_*Pt,H+=_*At,je+=_*St,Ge+=_*Ft,pt+=_*Ut,_=oe[11],ee+=_*Et,Ue+=_*bt,xe+=_*vt,Ce+=_*gt,$e+=_*ht,Ke+=_*rt,Ve+=_*nt,ae+=_*ot,ce+=_*et,te+=_*tt,y+=_*xt,H+=_*Pt,je+=_*At,Ge+=_*St,pt+=_*Ft,Rt+=_*Ut,_=oe[12],Ue+=_*Et,xe+=_*bt,Ce+=_*vt,$e+=_*gt,Ke+=_*ht,Ve+=_*rt,ae+=_*nt,ce+=_*ot,te+=_*et,y+=_*tt,H+=_*xt,je+=_*Pt,Ge+=_*At,pt+=_*St,Rt+=_*Ft,mt+=_*Ut,_=oe[13],xe+=_*Et,Ce+=_*bt,$e+=_*vt,Ke+=_*gt,Ve+=_*ht,ae+=_*rt,ce+=_*nt,te+=_*ot,y+=_*et,H+=_*tt,je+=_*xt,Ge+=_*Pt,pt+=_*At,Rt+=_*St,mt+=_*Ft,Tt+=_*Ut,_=oe[14],Ce+=_*Et,$e+=_*bt,Ke+=_*vt,Ve+=_*gt,ae+=_*ht,ce+=_*rt,te+=_*nt,y+=_*ot,H+=_*et,je+=_*tt,Ge+=_*xt,pt+=_*Pt,Rt+=_*At,mt+=_*St,Tt+=_*Ft,zt+=_*Ut,_=oe[15],$e+=_*Et,Ke+=_*bt,Ve+=_*vt,ae+=_*gt,ce+=_*ht,te+=_*rt,y+=_*nt,H+=_*ot,je+=_*et,Ge+=_*tt,pt+=_*xt,Rt+=_*Pt,mt+=_*At,Tt+=_*St,zt+=_*Ft,ir+=_*Ut,O+=38*Ke,D+=38*Ve,R+=38*ae,Z+=38*ce,x+=38*te,C+=38*y,U+=38*H,N+=38*je,S+=38*Ge,J+=38*pt,_e+=38*Rt,ee+=38*mt,Ue+=38*Tt,xe+=38*zt,Ce+=38*ir,v=1,_=O+v+65535,v=Math.floor(_/65536),O=_-65536*v,_=D+v+65535,v=Math.floor(_/65536),D=_-65536*v,_=R+v+65535,v=Math.floor(_/65536),R=_-65536*v,_=Z+v+65535,v=Math.floor(_/65536),Z=_-65536*v,_=x+v+65535,v=Math.floor(_/65536),x=_-65536*v,_=C+v+65535,v=Math.floor(_/65536),C=_-65536*v,_=U+v+65535,v=Math.floor(_/65536),U=_-65536*v,_=N+v+65535,v=Math.floor(_/65536),N=_-65536*v,_=S+v+65535,v=Math.floor(_/65536),S=_-65536*v,_=J+v+65535,v=Math.floor(_/65536),J=_-65536*v,_=_e+v+65535,v=Math.floor(_/65536),_e=_-65536*v,_=ee+v+65535,v=Math.floor(_/65536),ee=_-65536*v,_=Ue+v+65535,v=Math.floor(_/65536),Ue=_-65536*v,_=xe+v+65535,v=Math.floor(_/65536),xe=_-65536*v,_=Ce+v+65535,v=Math.floor(_/65536),Ce=_-65536*v,_=$e+v+65535,v=Math.floor(_/65536),$e=_-65536*v,O+=v-1+37*(v-1),v=1,_=O+v+65535,v=Math.floor(_/65536),O=_-65536*v,_=D+v+65535,v=Math.floor(_/65536),D=_-65536*v,_=R+v+65535,v=Math.floor(_/65536),R=_-65536*v,_=Z+v+65535,v=Math.floor(_/65536),Z=_-65536*v,_=x+v+65535,v=Math.floor(_/65536),x=_-65536*v,_=C+v+65535,v=Math.floor(_/65536),C=_-65536*v,_=U+v+65535,v=Math.floor(_/65536),U=_-65536*v,_=N+v+65535,v=Math.floor(_/65536),N=_-65536*v,_=S+v+65535,v=Math.floor(_/65536),S=_-65536*v,_=J+v+65535,v=Math.floor(_/65536),J=_-65536*v,_=_e+v+65535,v=Math.floor(_/65536),_e=_-65536*v,_=ee+v+65535,v=Math.floor(_/65536),ee=_-65536*v,_=Ue+v+65535,v=Math.floor(_/65536),Ue=_-65536*v,_=xe+v+65535,v=Math.floor(_/65536),xe=_-65536*v,_=Ce+v+65535,v=Math.floor(_/65536),Ce=_-65536*v,_=$e+v+65535,v=Math.floor(_/65536),$e=_-65536*v,O+=v-1+37*(v-1),W[0]=O,W[1]=D,W[2]=R,W[3]=Z,W[4]=x,W[5]=C,W[6]=U,W[7]=N,W[8]=S,W[9]=J,W[10]=_e,W[11]=ee,W[12]=Ue,W[13]=xe,W[14]=Ce,W[15]=$e}function de(W,oe){ue(W,oe,oe)}function Re(W,oe){const B=new Uint8Array(32),_=new Float64Array(80),v=Ie(),O=Ie(),D=Ie(),R=Ie(),Z=Ie(),x=Ie();for(let S=0;S<31;S++)B[S]=W[S];B[31]=127&W[31]|64,B[0]&=248,function M(W,oe){for(let B=0;B<16;B++)W[B]=oe[2*B]+(oe[2*B+1]<<8);W[15]&=32767}(_,oe);for(let S=0;S<16;S++)O[S]=_[S];v[0]=R[0]=1;for(let S=254;S>=0;--S){const J=B[S>>>3]>>>(7&S)&1;K(v,O,J),K(D,R,J),fe(Z,v,D),me(v,v,D),fe(D,O,R),me(O,O,R),de(R,Z),de(x,v),ue(v,D,v),ue(D,O,Z),fe(Z,v,D),me(v,v,D),de(O,v),me(D,R,x),ue(v,D,le),fe(v,v,R),ue(D,D,v),ue(v,R,x),ue(R,O,_),de(O,Z),K(v,O,J),K(D,R,J)}for(let S=0;S<16;S++)_[S+16]=v[S],_[S+32]=D[S],_[S+48]=O[S],_[S+64]=R[S];const C=_.subarray(32),U=_.subarray(16);(function w(W,oe){const B=Ie();for(let _=0;_<16;_++)B[_]=oe[_];for(let _=253;_>=0;_--)de(B,B),2!==_&&4!==_&&ue(B,B,oe);for(let _=0;_<16;_++)W[_]=B[_]})(C,C),ue(U,U,C);const N=new Uint8Array(32);return function $(W,oe){const B=Ie(),_=Ie();for(let v=0;v<16;v++)_[v]=oe[v];V(_),V(_),V(_);for(let v=0;v<2;v++){B[0]=_[0]-65517;for(let D=1;D<15;D++)B[D]=_[D]-65535-(B[D-1]>>16&1),B[D-1]&=65535;B[15]=_[15]-32767-(B[14]>>16&1);const O=B[15]>>16&1;B[14]&=65535,K(_,B,1-O)}for(let v=0;v<16;v++)W[2*v]=255&_[v],W[2*v+1]=_[v]>>8}(N,U),N}function Ae(W){return Re(W,Q)}b.Au=function ge(W){const oe=(0,we.randomBytes)(32,W),B=function Y(W){if(W.length!==b.KS)throw new Error(`x25519: seed must be ${b.KS} bytes`);const oe=new Uint8Array(W);return{publicKey:Ae(oe),secretKey:oe}}(oe);return(0,Pe.wipe)(oe),B},b.gi=function pe(W,oe,B=!1){if(W.length!==b.kz)throw new Error("X25519: incorrect secret key length");if(oe.length!==b.kz)throw new Error("X25519: incorrect public key length");const _=Re(W,oe);if(B){let v=0;for(let O=0;O<_.length;O++)v|=_[O];if(0===v)throw new Error("X25519: invalid shared key")}return _}},7263:(He,b)=>{"use strict";function q(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function G(){const Pe=q();return Pe.subtle||Pe.webkitSubtle}Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowserCryptoAvailable=b.getSubtleCrypto=b.getBrowerCrypto=void 0,b.getBrowerCrypto=q,b.getSubtleCrypto=G,b.isBrowserCryptoAvailable=function we(){return!!q()&&!!G()}},4574:(He,b)=>{"use strict";function q(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function G(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowser=b.isNode=b.isReactNative=void 0,b.isReactNative=q,b.isNode=G,b.isBrowser=function we(){return!q()&&!G()}},2299:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});const G=q(4308);G.__exportStar(q(7263),b),G.__exportStar(q(4574),b)},7030:(He,b,q)=>{"use strict";q.r(b),q.d(b,{EthereumProvider:()=>lb,OPTIONAL_EVENTS:()=>Nh,OPTIONAL_METHODS:()=>Th,REQUIRED_EVENTS:()=>Jo,REQUIRED_METHODS:()=>Go,default:()=>Qo});var G={};q.r(G),q.d(G,{identity:()=>je});var we={};q.r(we),q.d(we,{base2:()=>Ge});var Pe={};q.r(Pe),q.d(Pe,{base8:()=>pt});var Ie={};q.r(Ie),q.d(Ie,{base10:()=>Rt});var Q={};q.r(Q),q.d(Q,{base16:()=>mt,base16upper:()=>Tt});var le={};q.r(le),q.d(le,{base32:()=>zt,base32hex:()=>vt,base32hexpad:()=>ht,base32hexpadupper:()=>rt,base32hexupper:()=>gt,base32pad:()=>Et,base32padupper:()=>bt,base32upper:()=>ir,base32z:()=>nt});var V={};q.r(V),q.d(V,{base36:()=>ot,base36upper:()=>et});var K={};q.r(K),q.d(K,{base58btc:()=>tt,base58flickr:()=>xt});var $={};q.r($),q.d($,{base64:()=>Pt,base64pad:()=>At,base64url:()=>St,base64urlpad:()=>Ft});var M={};q.r(M),q.d(M,{base256emoji:()=>ci});var fe={};q.r(fe),q.d(fe,{sha256:()=>Ya,sha512:()=>Fn});var me={};q.r(me),q.d(me,{identity:()=>Xa});var ue={};q.r(ue),q.d(ue,{code:()=>Gi,decode:()=>Ii,encode:()=>tu,name:()=>eu});var de={};q.r(de),q.d(de,{code:()=>nu,decode:()=>su,encode:()=>iu,name:()=>ru});var w=q(5861),Re=q(2016),Ae=q.n(Re),Y=q(9026),ge=q(1028),pe=q(5465),W=q(1033),oe=q(8467);function B(o){return null!=globalThis.Buffer?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):o}function v(o=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?B(globalThis.Buffer.allocUnsafe(o)):new Uint8Array(o)}function O(o,e){e||(e=o.reduce((l,d)=>l+d.length,0));const t=v(e);let a=0;for(const l of o)t.set(l,a),a+=l.length;return B(t)}const x=function D(o,e){if(o.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),a=0;a<t.length;a++)t[a]=255;for(var l=0;l<o.length;l++){var d=o.charAt(l),p=d.charCodeAt(0);if(255!==t[p])throw new TypeError(d+" is ambiguous");t[p]=l}var E=o.length,F=o.charAt(0),P=Math.log(E)/Math.log(256),j=Math.log(256)/Math.log(E);function be(ye){if("string"!=typeof ye)throw new TypeError("Expected String");if(0===ye.length)return new Uint8Array;var Me=0;if(" "!==ye[Me]){for(var We=0,Ye=0;ye[Me]===F;)We++,Me++;for(var Ct=(ye.length-Me)*P+1>>>0,it=new Uint8Array(Ct);ye[Me];){var lt=t[ye.charCodeAt(Me)];if(255===lt)return;for(var ut=0,Dt=Ct-1;(0!==lt||ut<Ye)&&-1!==Dt;Dt--,ut++)it[Dt]=(lt+=E*it[Dt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");Ye=ut,Me++}if(" "!==ye[Me]){for(var _t=Ct-Ye;_t!==Ct&&0===it[_t];)_t++;for(var Nt=new Uint8Array(We+(Ct-_t)),Nr=We;_t!==Ct;)Nt[Nr++]=it[_t++];return Nt}}}return{encode:function ie(ye){if(ye instanceof Uint8Array||(ArrayBuffer.isView(ye)?ye=new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength):Array.isArray(ye)&&(ye=Uint8Array.from(ye))),!(ye instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ye.length)return"";for(var Me=0,We=0,Ye=0,Ct=ye.length;Ye!==Ct&&0===ye[Ye];)Ye++,Me++;for(var it=(Ct-Ye)*j+1>>>0,lt=new Uint8Array(it);Ye!==Ct;){for(var ut=ye[Ye],Dt=0,_t=it-1;(0!==ut||Dt<We)&&-1!==_t;_t--,Dt++)lt[_t]=(ut+=256*lt[_t]>>>0)%E>>>0,ut=ut/E>>>0;if(0!==ut)throw new Error("Non-zero carry");We=Dt,Ye++}for(var Nt=it-We;Nt!==it&&0===lt[Nt];)Nt++;for(var Nr=F.repeat(Me);Nt<it;++Nt)Nr+=o.charAt(lt[Nt]);return Nr},decodeUnsafe:be,decode:function Ne(ye){var Me=be(ye);if(Me)return Me;throw new Error(`Non-${e} character`)}}},J=(new Uint8Array(0),o=>{if(o instanceof Uint8Array&&"Uint8Array"===o.constructor.name)return o;if(o instanceof ArrayBuffer)return new Uint8Array(o);if(ArrayBuffer.isView(o))return new Uint8Array(o.buffer,o.byteOffset,o.byteLength);throw new Error("Unknown type, must be binary type")});class xe{constructor(e,t,a){this.name=e,this.prefix=t,this.baseEncode=a}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ce{constructor(e,t,a){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=a}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ke(this,e)}}class $e{constructor(e){this.decoders=e}or(e){return Ke(this,e)}decode(e){const a=this.decoders[e[0]];if(a)return a.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ke=(o,e)=>new $e({...o.decoders||{[o.prefix]:o},...e.decoders||{[e.prefix]:e}});class Ve{constructor(e,t,a,l){this.name=e,this.prefix=t,this.baseEncode=a,this.baseDecode=l,this.encoder=new xe(e,t,a),this.decoder=new Ce(e,t,l)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ae=({name:o,prefix:e,encode:t,decode:a})=>new Ve(o,e,t,a),ce=({prefix:o,name:e,alphabet:t})=>{const{encode:a,decode:l}=x(t,e);return ae({prefix:o,name:e,encode:a,decode:d=>J(l(d))})},H=({name:o,prefix:e,bitsPerChar:t,alphabet:a})=>ae({prefix:e,name:o,encode:l=>((o,e,t)=>{const a="="===e[e.length-1],l=(1<<t)-1;let d="",p=0,E=0;for(let F=0;F<o.length;++F)for(E=E<<8|o[F],p+=8;p>t;)p-=t,d+=e[l&E>>p];if(p&&(d+=e[l&E<<t-p]),a)for(;d.length*t&7;)d+="=";return d})(l,a,t),decode:l=>((o,e,t,a)=>{const l={};for(let j=0;j<e.length;++j)l[e[j]]=j;let d=o.length;for(;"="===o[d-1];)--d;const p=new Uint8Array(d*t/8|0);let E=0,F=0,P=0;for(let j=0;j<d;++j){const ie=l[o[j]];if(void 0===ie)throw new SyntaxError(`Non-${a} character`);F=F<<t|ie,E+=t,E>=8&&(E-=8,p[P++]=255&F>>E)}if(E>=t||255&F<<8-E)throw new SyntaxError("Unexpected end of data");return p})(l,a,t,o)}),je=ae({prefix:"\0",name:"identity",encode:o=>(o=>(new TextDecoder).decode(o))(o),decode:o=>(o=>(new TextEncoder).encode(o))(o)}),Ge=H({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),pt=H({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Rt=ce({prefix:"9",name:"base10",alphabet:"0123456789"}),mt=H({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Tt=H({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),zt=H({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ir=H({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Et=H({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bt=H({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vt=H({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gt=H({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ht=H({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rt=H({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nt=H({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ot=ce({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),et=ce({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),tt=ce({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xt=ce({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Pt=H({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),At=H({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),St=H({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ft=H({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ut=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),fn=Ut.reduce((o,e,t)=>(o[t]=e,o),[]),Or=Ut.reduce((o,e,t)=>(o[e.codePointAt(0)]=t,o),[]),ci=ae({prefix:"\u{1f680}",name:"base256emoji",encode:function En(o){return o.reduce((e,t)=>e+fn[t],"")},decode:function qn(o){const e=[];for(const t of o){const a=Or[t.codePointAt(0)];if(void 0===a)throw new Error(`Non-base256emoji character: ${t}`);e.push(a)}return new Uint8Array(e)}});var xn=128,Xt=-128,er=Math.pow(2,31),fr=128,sr=127,hr=Math.pow(2,7),or=Math.pow(2,14),rr=Math.pow(2,21),Ht=Math.pow(2,28),dr=Math.pow(2,35),pr=Math.pow(2,42),gr=Math.pow(2,49),_r=Math.pow(2,56),Va=Math.pow(2,63),ka={encode:function qt(o,e,t){e=e||[];for(var a=t=t||0;o>=er;)e[t++]=255&o|xn,o/=128;for(;o&Xt;)e[t++]=255&o|xn,o>>>=7;return e[t]=0|o,qt.bytes=t-a+1,e},decode:function tr(o,a){var p,t=0,l=0,d=a=a||0,E=o.length;do{if(d>=E)throw tr.bytes=0,new RangeError("Could not decode varint");p=o[d++],t+=l<28?(p&sr)<<l:(p&sr)*Math.pow(2,l),l+=7}while(p>=fr);return tr.bytes=d-a,t},encodingLength:function(o){return o<hr?1:o<or?2:o<rr?3:o<Ht?4:o<dr?5:o<pr?6:o<gr?7:o<_r?8:o<Va?9:10}};const Ki=ka,Vi=(o,e,t=0)=>(Ki.encode(o,e,t),e),hn=o=>Ki.encodingLength(o),ki=(o,e)=>{const t=e.byteLength,a=hn(o),l=a+hn(t),d=new Uint8Array(l+t);return Vi(o,d,0),Vi(t,d,a),d.set(e,l),new Os(o,t,e,d)};class Os{constructor(e,t,a,l){this.code=e,this.size=t,this.digest=a,this.bytes=l}}const ho=({name:o,code:e,encode:t})=>new Wi(o,e,t);class Wi{constructor(e,t,a){this.name=e,this.code=t,this.encode=a}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ki(this.code,t):t.then(a=>ki(this.code,a))}throw Error("Unknown type, must be binary type")}}const po=o=>function(){var e=(0,w.Z)(function*(t){return new Uint8Array(yield crypto.subtle.digest(o,t))});return function(t){return e.apply(this,arguments)}}(),Ya=ho({name:"sha2-256",code:18,encode:po("SHA-256")}),Fn=ho({name:"sha2-512",code:19,encode:po("SHA-512")}),_o=J,Xa={code:0,name:"identity",encode:_o,digest:o=>ki(0,_o(o))},eu="raw",Gi=85,tu=o=>J(o),Ii=o=>J(o),yo=new TextEncoder,vo=new TextDecoder,ru="json",nu=512,iu=o=>yo.encode(JSON.stringify(o)),su=o=>JSON.parse(vo.decode(o));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Eo={...G,...we,...Pe,...Ie,...Q,...le,...V,...K,...$,...M};function xo(o,e,t,a){return{name:o,prefix:e,encoder:{name:o,prefix:e,encode:t},decoder:{decode:a}}}const Si=xo("utf8","u",o=>"u"+new TextDecoder("utf8").decode(o),o=>(new TextEncoder).encode(o.substring(1))),Ps=xo("ascii","a",o=>{let e="a";for(let t=0;t<o.length;t++)e+=String.fromCharCode(o[t]);return e},o=>{const e=v((o=o.substring(1)).length);for(let t=0;t<o.length;t++)e[t]=o.charCodeAt(t);return e}),Io={utf8:Si,"utf-8":Si,hex:Eo.base16,latin1:Ps,ascii:Ps,binary:Ps,...Eo};function Pr(o,e="utf8"){const t=Io[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${o}`):B(globalThis.Buffer.from(o,"utf-8"))}function Er(o,e="utf8"){const t=Io[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(o).substring(1):globalThis.Buffer.from(o.buffer,o.byteOffset,o.byteLength).toString("utf8")}var As=function(o,e,t){if(t||2===arguments.length)for(var d,a=0,l=e.length;a<l;a++)(d||!(a in e))&&(d||(d=Array.prototype.slice.call(e,0,a)),d[a]=e[a]);return o.concat(d||Array.prototype.slice.call(e))},Oi=function o(e,t,a){this.name=e,this.version=t,this.os=a,this.type="browser"},So=function o(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},hu=function o(e,t,a,l){this.name=e,this.version=t,this.os=a,this.bot=l,this.type="bot-device"},du=function o(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},pu=function o(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},re=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Oe=3,Ze=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],$t=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function yr(o){var e=function Kt(o){return""!==o&&Ze.reduce(function(e,t){var a=t[0];if(e)return e;var d=t[1].exec(o);return!!d&&[a,d]},!1)}(o);if(!e)return null;var t=e[0],a=e[1];if("searchbot"===t)return new du;var l=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);l?l.length<Oe&&(l=As(As([],l,!0),function tn(o){for(var e=[],t=0;t<o;t++)e.push("0");return e}(Oe-l.length),!0)):l=[];var d=l.join("."),p=function Vt(o){for(var e=0,t=$t.length;e<t;e++){var a=$t[e],l=a[0];if(a[1].exec(o))return l}return null}(o),E=re.exec(o);return E&&E[1]?new hu(t,d,p,E[1]):new Oi(t,d,p)}var Be=q(5409),xr=q(439),Zr=q(6534),rn=q(133);q(36);const Vn={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},Pi=":";function gu(o,e){return o.includes(":")?[o]:e.chains||[]}const Tl="base10",Lr="base16",yu="base64pad",vu="utf8";function wu(){return Er((0,pe.randomBytes)(32),Lr)}function Qi(o){return Er((0,W.vp)(Pr(o,vu)),Lr)}function Cs(o){return Number(Er(o,Tl))}function Oo(o){const e=Pr(o,yu),t=e.slice(0,1);if(1===Cs(t)){const E=33,F=E+12,P=e.slice(1,E),j=e.slice(E,F);return{type:t,sealed:e.slice(F),iv:j,senderPublicKey:P}}const d=e.slice(1,13);return{type:t,sealed:e.slice(13),iv:d}}function Ul(o){const e=o?.type||0;if(1===e){if(typeof o?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof o?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:o?.senderPublicKey,receiverPublicKey:o?.receiverPublicKey}}function jl(o){return 1===o.type&&"string"==typeof o.senderPublicKey&&"string"==typeof o.receiverPublicKey}var Rg=Object.defineProperty,Ll=Object.getOwnPropertySymbols,Tg=Object.prototype.hasOwnProperty,Ng=Object.prototype.propertyIsEnumerable,Ml=(o,e,t)=>e in o?Rg(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,zl=(o,e)=>{for(var t in e||(e={}))Tg.call(e,t)&&Ml(o,t,e[t]);if(Ll)for(var t of Ll(e))Ng.call(e,t)&&Ml(o,t,e[t]);return o};const Fg="ReactNative",qr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},jg="js";function xu(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Xi(){return!(0,xr.getDocument)()&&!!(0,xr.getNavigator)()&&navigator.product===Fg}function es(){return!xu()&&!!(0,xr.getNavigator)()&&!!(0,xr.getDocument)()}function ts(){return Xi()?qr.reactNative:xu()?qr.node:es()?qr.browser:qr.unknown}function Hg(o,e,t){const a=function $g(){if(ts()===qr.reactNative&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:t,Version:a}=global.Platform;return[t,a].join("-")}const o=function at(o){return o?yr(o):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new pu:typeof navigator<"u"?yr(navigator.userAgent):function jr(){return typeof process<"u"&&process.version?new So(process.version.slice(1)):null}()}();if(null===o)return"unknown";const e=o.os?o.os.replace(" ","").toLowerCase():"unknown";return"browser"===o.type?[e,o.name,o.version].join("-"):[e,o.version].join("-")}(),l=function Bg(){var o;const e=ts();return e===qr.browser?[e,(null==(o=(0,xr.getLocation)())?void 0:o.host)||"unknown"].join(":"):e}();return[[o,e].join("-"),[jg,t].join("-"),a,l].join("/")}function Ri(o,e){return o.filter(t=>e.includes(t)).length===o.length}function Bl(o){return Object.fromEntries(o.entries())}function Hl(o){return new Map(Object.entries(o))}function rs(o=Be.FIVE_MINUTES,e){const t=(0,Be.toMiliseconds)(o||Be.FIVE_MINUTES);let a,l,d;return{resolve:p=>{d&&a&&(clearTimeout(d),a(p))},reject:p=>{d&&l&&(clearTimeout(d),l(p))},done:()=>new Promise((p,E)=>{d=setTimeout(()=>{E(new Error(e))},t),a=p,l=E})}}function Rs(o,e,t){return new Promise(function(){var a=(0,w.Z)(function*(l,d){const p=setTimeout(()=>d(new Error(t)),e);try{l(yield o)}catch(E){d(E)}clearTimeout(p)});return function(l,d){return a.apply(this,arguments)}}())}function Zl(o,e){if("string"==typeof e&&e.startsWith(`${o}:`))return e;if("topic"===o.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===o.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${o}`)}function ql(o){const[e,t]=o.split(":"),a={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof t)a.topic=t;else{if("id"!==e||!Number.isInteger(Number(t)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);a.id=Number(t)}return a}function nn(o,e){return(0,Be.fromMiliseconds)((e||Date.now())+(0,Be.toMiliseconds)(o))}function hi(o){return Date.now()>=(0,Be.toMiliseconds)(o)}function ar(o,e){return`${o}${e?`:${e}`:""}`}function Ln(o=[],e=[]){return[...new Set([...o,...e])]}function Du(){return(Du=(0,w.Z)(function*({id:o,topic:e,wcDeepLink:t}){try{if(!t)return;let l=("string"==typeof t?JSON.parse(t):t)?.href;if("string"!=typeof l)return;l.endsWith("/")&&(l=l.slice(0,-1));const d=`${l}/wc?requestId=${o}&sessionTopic=${e}`,p=ts();p===qr.browser?d.startsWith("https://")?window.open(d,"_blank","noreferrer noopener"):window.open(d,"_self","noreferrer noopener"):p===qr.reactNative&&typeof(null==global?void 0:global.Linking)<"u"&&(yield global.Linking.openURL(d))}catch(a){console.error(a)}})).apply(this,arguments)}function Iu(){return(Iu=(0,w.Z)(function*(o,e){try{return(yield o.getItem(e))||(es()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}})).apply(this,arguments)}function Su(o){return o?.relay||{protocol:"irn"}}function Po(o){const e=Vn[o];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${o}`);return e}var Qg=Object.defineProperty,Xg=Object.defineProperties,e0=Object.getOwnPropertyDescriptors,Kl=Object.getOwnPropertySymbols,t0=Object.prototype.hasOwnProperty,r0=Object.prototype.propertyIsEnumerable,Vl=(o,e,t)=>e in o?Qg(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;function s0(o,e="-"){const t={},a="relay"+e;return Object.keys(o).forEach(l=>{if(l.startsWith(a)){const d=l.replace(a,"");t[d]=o[l]}}),t}function kl(o){const e=(o=(o=o.includes("wc://")?o.replace("wc://",""):o).includes("wc:")?o.replace("wc:",""):o).indexOf(":"),t=-1!==o.indexOf("?")?o.indexOf("?"):void 0,a=o.substring(0,e),l=o.substring(e+1,t).split("@"),d=typeof t<"u"?o.substring(t):"",p=rn.parse(d);return{protocol:a,topic:o0(l[0]),version:parseInt(l[1],10),symKey:p.symKey,relay:s0(p),expiryTimestamp:p.expiryTimestamp?parseInt(p.expiryTimestamp,10):void 0}}function o0(o){return o.startsWith("//")?o.substring(2):o}function ns(o){const e=[];return o.forEach(t=>{const[a,l]=t.split(":");e.push(`${a}:${l}`)}),e}function Ao(o){return o.includes(":")}function is(o){return Ao(o)?o.split(":")[0]:o}const m0={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},b0={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Le(o,e){const{message:t,code:a}=b0[o];return{message:e?`${t} ${e}`:t,code:a}}function Wt(o,e){const{message:t,code:a}=m0[o];return{message:e?`${t} ${e}`:t,code:a}}function Mn(o,e){return!!Array.isArray(o)&&(!(typeof e<"u"&&o.length)||o.every(e))}function ss(o){return Object.getPrototypeOf(o)===Object.prototype&&Object.keys(o).length}function Mr(o){return typeof o>"u"}function Dr(o,e){return!(!e||!Mr(o))||"string"==typeof o&&!!o.trim().length}function Ou(o,e){return!(!e||!Mr(o))||"number"==typeof o&&!isNaN(o)}function Co(o){return!(!Dr(o,!1)||!o.includes(":"))&&2===o.split(":").length}function Yl(o){let e=!0;return Mn(o)?o.length&&(e=o.every(t=>Dr(t,!1))):e=!1,e}function Ql(o,e){let t=null;return Object.values(o).forEach(a=>{if(t)return;const l=function R0(o,e){let t=null;return Yl(o?.methods)?Yl(o?.events)||(t=Wt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Wt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}(a,`${e}, namespace`);l&&(t=l)}),t}function Ro(o,e){let t=null;if(o&&ss(o)){const a=Ql(o,e);a&&(t=a);const l=function C0(o,e){let t=null;return Object.values(o).forEach(a=>{if(t)return;const l=function A0(o,e){let t=null;return Mn(o)?o.forEach(a=>{t||function E0(o){if(Dr(o,!1)&&o.includes(":")){const e=o.split(":");if(3===e.length)return!!e[2]&&Co(e[0]+":"+e[1])}return!1}(a)||(t=Wt("UNSUPPORTED_ACCOUNTS",`${e}, account ${a} should be a string and conform to "namespace:chainId:address" format`))}):t=Wt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}(a?.accounts,`${e} namespace`);l&&(t=l)}),t}(o,e);l&&(t=l)}else t=Le("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function Xl(o){return Dr(o.protocol,!0)}function Kr(o){return typeof o<"u"&&null!==typeof o}function ef(o,e){return!(!Co(e)||!function _0(o){const e=[];return Object.values(o).forEach(t=>{e.push(...ns(t.accounts))}),e}(o).includes(e))}function Pu(o,e,t){let a=null;const l=function B0(o){const e={};return Object.keys(o).forEach(t=>{var a;t.includes(":")?e[t]=o[t]:null==(a=o[t].chains)||a.forEach(l=>{e[l]={methods:o[t].methods,events:o[t].events}})}),e}(o),d=function H0(o){const e={};return Object.keys(o).forEach(t=>{t.includes(":")?e[t]=o[t]:ns(o[t].accounts)?.forEach(l=>{e[l]={accounts:o[t].accounts.filter(d=>d.includes(`${l}:`)),methods:o[t].methods,events:o[t].events}})}),e}(e),p=Object.keys(l),E=Object.keys(d),F=tf(Object.keys(o)),P=tf(Object.keys(e)),j=F.filter(ie=>!P.includes(ie));return j.length&&(a=Le("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${j.toString()}\n      Received: ${Object.keys(e).toString()}`)),Ri(p,E)||(a=Le("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.\n      Required: ${p.toString()}\n      Approved: ${E.toString()}`)),Object.keys(e).forEach(ie=>{if(!ie.includes(":")||a)return;const be=ns(e[ie].accounts);be.includes(ie)||(a=Le("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${ie}\n        Required: ${ie}\n        Approved: ${be.toString()}`))}),p.forEach(ie=>{a||(Ri(l[ie].methods,d[ie].methods)?Ri(l[ie].events,d[ie].events)||(a=Le("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${ie}`)):a=Le("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${ie}`))}),a}function tf(o){return[...new Set(o.map(e=>e.includes(":")?e.split(":")[0]:e))]}function rf(){const o=ts();return new Promise(e=>{switch(o){case qr.browser:e(function q0(){return es()&&navigator?.onLine}());break;case qr.reactNative:e(function K0(){return Au.apply(this,arguments)}());break;default:e(!0)}})}function Au(){return(Au=(0,w.Z)(function*(){return!(Xi()&&typeof global<"u"&&null!=global&&global.NetInfo)||(yield null==global?void 0:global.NetInfo.fetch())?.isConnected})).apply(this,arguments)}const Cu={};class To{static get(e){return Cu[e]}static set(e,t){Cu[e]=t}static delete(e){delete Cu[e]}}const J0=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Y0=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Q0=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function X0(o,e){if(!("__proto__"===o||"constructor"===o&&e&&"object"==typeof e&&"prototype"in e))return e;!function e_(o){console.warn(`[destr] Dropping "${o}" key to prevent prototype pollution.`)}(o)}function Ts(o,e={}){if("string"!=typeof o)return o;const t=o.trim();if('"'===o[0]&&o.endsWith('"')&&!o.includes("\\"))return t.slice(1,-1);if(t.length<=9){const a=t.toLowerCase();if("true"===a)return!0;if("false"===a)return!1;if("undefined"===a)return;if("null"===a)return null;if("nan"===a)return Number.NaN;if("infinity"===a)return Number.POSITIVE_INFINITY;if("-infinity"===a)return Number.NEGATIVE_INFINITY}if(!Q0.test(o)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return o}try{if(J0.test(o)||Y0.test(o)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(o,X0)}return JSON.parse(o)}catch(a){if(e.strict)throw a;return o}}function Ir(o,...e){try{return function t_(o){return o&&"function"==typeof o.then?o:Promise.resolve(o)}(o(...e))}catch(t){return Promise.reject(t)}}function No(o){if(function r_(o){const e=typeof o;return null===o||"object"!==e&&"function"!==e}(o))return String(o);if(function n_(o){const e=Object.getPrototypeOf(o);return!e||e.isPrototypeOf(Object)}(o)||Array.isArray(o))return JSON.stringify(o);if("function"==typeof o.toJSON)return No(o.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function nf(){if(void 0===typeof Buffer)throw new TypeError("[unstorage] Buffer is not supported!")}const Ru="base64:";function Vr(o){return o?o.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function a_(...o){return Vr(o.join(":"))}function Ns(o){return(o=Vr(o))?o+":":""}const c_=()=>{const o=new Map;return{name:"memory",options:{},hasItem:e=>o.has(e),getItem:e=>o.get(e)??null,getItemRaw:e=>o.get(e)??null,setItem(e,t){o.set(e,t)},setItemRaw(e,t){o.set(e,t)},removeItem(e){o.delete(e)},getKeys:()=>Array.from(o.keys()),clear(){o.clear()},dispose(){o.clear()}}};function sf(o,e,t){return o.watch?o.watch((a,l)=>e(a,t+l)):()=>{}}function of(o){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,w.Z)(function*(o){"function"==typeof o.dispose&&(yield Ir(o.dispose))})).apply(this,arguments)}function kr(o){return new Promise((e,t)=>{o.oncomplete=o.onsuccess=()=>e(o.result),o.onabort=o.onerror=()=>t(o.error)})}function af(o,e){const t=indexedDB.open(o);t.onupgradeneeded=()=>t.result.createObjectStore(e);const a=kr(t);return(l,d)=>a.then(p=>d(p.transaction(e,l).objectStore(e)))}let Uu;function In(){return Uu||(Uu=af("keyval-store","keyval")),Uu}function uf(o,e=In()){return e("readonly",t=>kr(t.get(o)))}const g_=o=>JSON.stringify(o,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),__=o=>{const t=o.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(a,l)=>"string"==typeof l&&l.match(/^\d+n$/)?BigInt(l.substring(0,l.length-1)):l)};function Fs(o){if("string"!=typeof o)throw new Error("Cannot safe json parse value of type "+typeof o);try{return __(o)}catch{return o}}function Ti(o){return"string"==typeof o?o:g_(o)||""}var v_=(o={})=>{const e=o.base&&o.base.length>0?`${o.base}:`:"",t=l=>e+l;let a;return o.dbName&&o.storeName&&(a=af(o.dbName,o.storeName)),{name:"idb-keyval",options:o,hasItem:l=>(0,w.Z)(function*(){return!(typeof(yield uf(t(l),a))>"u")})(),getItem:l=>(0,w.Z)(function*(){return(yield uf(t(l),a))??null})(),setItem:(l,d)=>function f_(o,e,t=In()){return t("readwrite",a=>(a.put(e,o),kr(a.transaction)))}(t(l),d,a),removeItem:l=>function h_(o,e=In()){return e("readwrite",t=>(t.delete(o),kr(t.transaction)))}(t(l),a),getKeys:()=>function p_(o=In()){return o("readonly",e=>{if(e.getAllKeys)return kr(e.getAllKeys());const t=[];return function ju(o,e){return o.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},kr(o.transaction)}(e,a=>t.push(a.key)).then(()=>t)})}(a),clear:()=>function d_(o=In()){return o("readwrite",e=>(e.clear(),kr(e.transaction)))}(a)}};class w_{constructor(){this.indexedDb=function l_(o={}){const e={mounts:{"":o.driver||c_()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=P=>{for(const j of e.mountpoints)if(P.startsWith(j))return{base:j,relativeKey:P.slice(j.length),driver:e.mounts[j]};return{base:"",relativeKey:P,driver:e.mounts[""]}},a=(P,j)=>e.mountpoints.filter(ie=>ie.startsWith(P)||j&&P.startsWith(ie)).map(ie=>({relativeBase:P.length>ie.length?P.slice(ie.length):void 0,mountpoint:ie,driver:e.mounts[ie]})),l=(P,j)=>{if(e.watching){j=Vr(j);for(const ie of e.watchListeners)ie(P,j)}},d=function(){var P=(0,w.Z)(function*(){if(!e.watching){e.watching=!0;for(const j in e.mounts)e.unwatch[j]=yield sf(e.mounts[j],l,j)}});return function(){return P.apply(this,arguments)}}(),p=function(){var P=(0,w.Z)(function*(){if(e.watching){for(const j in e.unwatch)yield e.unwatch[j]();e.unwatch={},e.watching=!1}});return function(){return P.apply(this,arguments)}}(),E=(P,j,ie)=>{const be=new Map,Ne=ye=>{let Me=be.get(ye.base);return Me||(Me={driver:ye.driver,base:ye.base,items:[]},be.set(ye.base,Me)),Me};for(const ye of P){const Me="string"==typeof ye,We=Vr(Me?ye:ye.key),Ye=Me?void 0:ye.value,Ct=Me||!ye.options?j:{...j,...ye.options},it=t(We);Ne(it).items.push({key:We,value:Ye,relativeKey:it.relativeKey,options:Ct})}return Promise.all([...be.values()].map(ye=>ie(ye))).then(ye=>ye.flat())},F={hasItem(P,j={}){P=Vr(P);const{relativeKey:ie,driver:be}=t(P);return Ir(be.hasItem,ie,j)},getItem(P,j={}){P=Vr(P);const{relativeKey:ie,driver:be}=t(P);return Ir(be.getItem,ie,j).then(Ne=>Ts(Ne))},getItems:(P,j)=>E(P,j,ie=>ie.driver.getItems?Ir(ie.driver.getItems,ie.items.map(be=>({key:be.relativeKey,options:be.options})),j).then(be=>be.map(Ne=>({key:a_(ie.base,Ne.key),value:Ts(Ne.value)}))):Promise.all(ie.items.map(be=>Ir(ie.driver.getItem,be.relativeKey,be.options).then(Ne=>({key:be.key,value:Ts(Ne)}))))),getItemRaw(P,j={}){P=Vr(P);const{relativeKey:ie,driver:be}=t(P);return be.getItemRaw?Ir(be.getItemRaw,ie,j):Ir(be.getItem,ie,j).then(Ne=>function s_(o){return"string"==typeof o&&o.startsWith(Ru)?(nf(),Buffer.from(o.slice(7),"base64")):o}(Ne))},setItem:(P,j,ie={})=>(0,w.Z)(function*(){if(void 0===j)return F.removeItem(P);P=Vr(P);const{relativeKey:be,driver:Ne}=t(P);Ne.setItem&&(yield Ir(Ne.setItem,be,No(j),ie),Ne.watch||l("update",P))})(),setItems:(P,j)=>(0,w.Z)(function*(){yield E(P,j,function(){var ie=(0,w.Z)(function*(be){if(be.driver.setItems)return Ir(be.driver.setItems,be.items.map(Ne=>({key:Ne.relativeKey,value:No(Ne.value),options:Ne.options})),j);be.driver.setItem&&(yield Promise.all(be.items.map(Ne=>Ir(be.driver.setItem,Ne.relativeKey,No(Ne.value),Ne.options))))});return function(be){return ie.apply(this,arguments)}}())})(),setItemRaw:(P,j,ie={})=>(0,w.Z)(function*(){if(void 0===j)return F.removeItem(P,ie);P=Vr(P);const{relativeKey:be,driver:Ne}=t(P);if(Ne.setItemRaw)yield Ir(Ne.setItemRaw,be,j,ie);else{if(!Ne.setItem)return;yield Ir(Ne.setItem,be,function i_(o){if("string"==typeof o)return o;nf();const e=Buffer.from(o).toString("base64");return Ru+e}(j),ie)}Ne.watch||l("update",P)})(),removeItem:(P,j={})=>(0,w.Z)(function*(){"boolean"==typeof j&&(j={removeMeta:j}),P=Vr(P);const{relativeKey:ie,driver:be}=t(P);be.removeItem&&(yield Ir(be.removeItem,ie,j),(j.removeMeta||j.removeMata)&&(yield Ir(be.removeItem,ie+"$",j)),be.watch||l("remove",P))})(),getMeta:(P,j={})=>(0,w.Z)(function*(){"boolean"==typeof j&&(j={nativeOnly:j}),P=Vr(P);const{relativeKey:ie,driver:be}=t(P),Ne=Object.create(null);if(be.getMeta&&Object.assign(Ne,yield Ir(be.getMeta,ie,j)),!j.nativeOnly){const ye=yield Ir(be.getItem,ie+"$",j).then(Me=>Ts(Me));ye&&"object"==typeof ye&&("string"==typeof ye.atime&&(ye.atime=new Date(ye.atime)),"string"==typeof ye.mtime&&(ye.mtime=new Date(ye.mtime)),Object.assign(Ne,ye))}return Ne})(),setMeta(P,j,ie={}){return this.setItem(P+"$",j,ie)},removeMeta(P,j={}){return this.removeItem(P+"$",j)},getKeys:(P,j={})=>(0,w.Z)(function*(){P=Ns(P);const ie=a(P,!0);let be=[];const Ne=[];for(const ye of ie){const We=(yield Ir(ye.driver.getKeys,ye.relativeBase,j)).map(Ye=>ye.mountpoint+Vr(Ye)).filter(Ye=>!be.some(Ct=>Ye.startsWith(Ct)));Ne.push(...We),be=[ye.mountpoint,...be.filter(Ye=>!Ye.startsWith(ye.mountpoint))]}return Ne.filter(P?ye=>ye.startsWith(P)&&!ye.endsWith("$"):ye=>!ye.endsWith("$"))})(),clear:(P,j={})=>(0,w.Z)(function*(){P=Ns(P),yield Promise.all(a(P,!1).map(function(){var ie=(0,w.Z)(function*(be){if(be.driver.clear)return Ir(be.driver.clear,be.relativeBase,j);if(be.driver.removeItem){const Ne=yield be.driver.getKeys(be.relativeBase||"",j);return Promise.all(Ne.map(ye=>be.driver.removeItem(ye,j)))}});return function(be){return ie.apply(this,arguments)}}()))})(),dispose:()=>(0,w.Z)(function*(){yield Promise.all(Object.values(e.mounts).map(P=>of(P)))})(),watch:P=>(0,w.Z)(function*(){return yield d(),e.watchListeners.push(P),(0,w.Z)(function*(){e.watchListeners=e.watchListeners.filter(j=>j!==P),0===e.watchListeners.length&&(yield p())})})(),unwatch:()=>(0,w.Z)(function*(){e.watchListeners=[],yield p()})(),mount(P,j){if((P=Ns(P))&&e.mounts[P])throw new Error(`already mounted at ${P}`);return P&&(e.mountpoints.push(P),e.mountpoints.sort((ie,be)=>be.length-ie.length)),e.mounts[P]=j,e.watching&&Promise.resolve(sf(j,l,P)).then(ie=>{e.unwatch[P]=ie}).catch(console.error),F},unmount:(P,j=!0)=>(0,w.Z)(function*(){(P=Ns(P))&&e.mounts[P]&&(e.watching&&P in e.unwatch&&(e.unwatch[P](),delete e.unwatch[P]),j&&(yield of(e.mounts[P])),e.mountpoints=e.mountpoints.filter(ie=>ie!==P),delete e.mounts[P])})(),getMount(P=""){P=Vr(P)+":";const j=t(P);return{driver:j.driver,base:j.base}},getMounts:(P="",j={})=>(P=Vr(P),a(P,j.parents).map(be=>({driver:be.driver,base:be.mountpoint})))};return F}({driver:v_({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}getKeys(){var e=this;return(0,w.Z)(function*(){return e.indexedDb.getKeys()})()}getEntries(){var e=this;return(0,w.Z)(function*(){return(yield e.indexedDb.getItems(yield e.indexedDb.getKeys())).map(t=>[t.key,t.value])})()}getItem(e){var t=this;return(0,w.Z)(function*(){const a=yield t.indexedDb.getItem(e);if(null!==a)return a})()}setItem(e,t){var a=this;return(0,w.Z)(function*(){yield a.indexedDb.setItem(e,Ti(t))})()}removeItem(e){var t=this;return(0,w.Z)(function*(){yield t.indexedDb.removeItem(e)})()}}var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo={exports:{}};function E_(o){var e;return[o[0],Fs(null!=(e=o[1])?e:"")]}!function(){let o;function e(){}o=e,o.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},o.prototype.setItem=function(t,a){this[t]=String(a)},o.prototype.removeItem=function(t){delete this[t]},o.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(a){t[a]=void 0,delete t[a]})},o.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},o.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),Fo.exports=typeof Lu<"u"&&Lu.localStorage?Lu.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new e}();class x_{constructor(){this.localStorage=Fo.exports}getKeys(){var e=this;return(0,w.Z)(function*(){return Object.keys(e.localStorage)})()}getEntries(){var e=this;return(0,w.Z)(function*(){return Object.entries(e.localStorage).map(E_)})()}getItem(e){var t=this;return(0,w.Z)(function*(){const a=t.localStorage.getItem(e);if(null!==a)return Fs(a)})()}setItem(e,t){var a=this;return(0,w.Z)(function*(){a.localStorage.setItem(e,Ti(t))})()}removeItem(e){var t=this;return(0,w.Z)(function*(){t.localStorage.removeItem(e)})()}}const I_=function(){var o=(0,w.Z)(function*(e,t,a){const l="wc_storage_version",d=yield t.getItem(l);if(d&&d>=1)return void a(t);const p=yield e.getKeys();if(!p.length)return void a(t);const E=[];for(;p.length;){const F=p.shift();if(!F)continue;const P=F.toLowerCase();if(P.includes("wc@")||P.includes("walletconnect")||P.includes("wc_")||P.includes("wallet_connect")){const j=yield e.getItem(F);yield t.setItem(F,j),E.push(F)}}yield t.setItem(l,1),a(t),S_(e,E)});return function(t,a,l){return o.apply(this,arguments)}}(),S_=function(){var o=(0,w.Z)(function*(e,t){t.length&&t.forEach(function(){var a=(0,w.Z)(function*(l){yield e.removeItem(l)});return function(l){return a.apply(this,arguments)}}())});return function(t,a){return o.apply(this,arguments)}}();class O_{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new x_;this.storage=e;try{const t=new w_;I_(e,t,this.setInitialized)}catch{this.initialized=!0}}getKeys(){var e=this;return(0,w.Z)(function*(){return yield e.initialize(),e.storage.getKeys()})()}getEntries(){var e=this;return(0,w.Z)(function*(){return yield e.initialize(),e.storage.getEntries()})()}getItem(e){var t=this;return(0,w.Z)(function*(){return yield t.initialize(),t.storage.getItem(e)})()}setItem(e,t){var a=this;return(0,w.Z)(function*(){return yield a.initialize(),a.storage.setItem(e,t)})()}removeItem(e){var t=this;return(0,w.Z)(function*(){return yield t.initialize(),t.storage.removeItem(e)})()}initialize(){var e=this;return(0,w.Z)(function*(){e.initialized||(yield new Promise(t=>{const a=setInterval(()=>{e.initialized&&(clearInterval(a),t())},20)}))})()}}var Us=q(986),P_=q(1590),Uo=q.n(P_);const js="custom_context";Symbol;var N_=Object.defineProperty,F_=Object.defineProperties,U_=Object.getOwnPropertyDescriptors,hf=Object.getOwnPropertySymbols,j_=Object.prototype.hasOwnProperty,L_=Object.prototype.propertyIsEnumerable,df=(o,e,t)=>e in o?N_(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;function Mo(o){return((o,e)=>F_(o,U_(e)))(((o,e)=>{for(var t in e||(e={}))j_.call(e,t)&&df(o,t,e[t]);if(hf)for(var t of hf(e))L_.call(e,t)&&df(o,t,e[t]);return o})({},o),{level:o?.level||"info"})}function Wr(o,e=js){let t="";return t=typeof o.bindings>"u"?function M_(o,e=js){return o[e]||""}(o,e):o.bindings().context||"",t}function Gr(o,e,t=js){const a=function $_(o,e,t=js){const a=Wr(o,t);return a.trim()?`${a}/${e}`:e}(o,e,t);return function z_(o,e,t=js){return o[t]=e,o}(o.child({context:a}),a,t)}var os=q(2108);class Z_ extends os.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class q_ extends os.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class K_{constructor(e,t){this.logger=e,this.core=t}}class V_ extends os.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class k_ extends os.q{constructor(e){super()}}class W_{constructor(e,t,a,l){this.core=e,this.logger=t,this.name=a}}class G_ extends os.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class J_ extends os.q{constructor(e,t){super(),this.core=e,this.logger=t}}class Y_{constructor(e,t){this.projectId=e,this.logger=t}}class Q_{constructor(e,t){this.projectId=e,this.logger=t}}class X_{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class ey{constructor(e){this.client=e}}var pf=q(5972);const _f="base64url",ny="utf8",sy=":",oy="did",ay="key",yf="base58btc",uy="z",cy="K36";function $o(o){return Er(Pr(Ti(o),ny),_f)}function vf(o){const e=Pr(cy,yf),t=uy+Er(O([e,o]),yf);return[oy,ay,t].join(sy)}function fy(o){return Er(o,_f)}function mf(o=(0,pe.randomBytes)(32)){return pf._w(o)}function zu(){return(zu=(0,w.Z)(function*(o,e,t,a,l=(0,Be.fromMiliseconds)(Date.now())){const d={alg:"EdDSA",typ:"JWT"},F={iss:vf(a.publicKey),sub:o,aud:e,iat:l,exp:l+t},P=function dy(o){return Pr([$o(o.header),$o(o.payload)].join("."),"utf8")}({header:d,payload:F});return function py(o){return[$o(o.header),$o(o.payload),fy(o.signature)].join(".")}({header:d,payload:F,signature:pf.Xx(a.secretKey,P)})})).apply(this,arguments)}q(2768);const bf="INTERNAL_ERROR",Bu="SERVER_ERROR",by=[-32700,-32600,-32601,-32602,-32603],Ls={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[bf]:{code:-32603,message:"Internal error"},[Bu]:{code:-32e3,message:"Server error"}},wf=Bu;function xf(o){return Object.keys(Ls).includes(o)?Ls[o]:Ls[wf]}function If(o,e,t){return o.message.includes("getaddrinfo ENOTFOUND")||o.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):o}var Ey=q(2299);function Hu(o=3){return Date.now()*Math.pow(10,o)+Math.floor(Math.random()*Math.pow(10,o))}function Sf(o=6){return BigInt(Hu(o))}function as(o,e,t){return{id:t||Hu(),jsonrpc:"2.0",method:o,params:e}}function Bo(o,e){return{id:o,jsonrpc:"2.0",result:e}}function Ho(o,e,t){return{id:o,jsonrpc:"2.0",error:xy(e,t)}}function xy(o,e){return typeof o>"u"?xf(bf):("string"==typeof o&&(o=Object.assign(Object.assign({},xf(Bu)),{message:o})),typeof e<"u"&&(o.data=e),function Ef(o){return by.includes(o)}(o.code)&&(o=function Df(o){return Object.values(Ls).find(t=>t.code===o)||Ls[wf]}(o.code)),o)}class Dy{}class Iy extends Dy{constructor(){super()}}class Sy extends Iy{constructor(e){super()}}function Of(o,e){const t=function Ay(o){const e=o.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(o);return!(typeof t>"u")&&new RegExp(e).test(t)}function Pf(o){return Of(o,"^https?:")}function Af(o){return Of(o,"^wss?:")}function Cf(o){return"object"==typeof o&&"id"in o&&"jsonrpc"in o&&"2.0"===o.jsonrpc}function Zu(o){return Cf(o)&&"method"in o}function Zo(o){return Cf(o)&&(kn(o)||Sn(o))}function kn(o){return"result"in o}function Sn(o){return"error"in o}class Wn extends Sy{constructor(e){super(e),this.events=new Re.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(e=this.connection){var t=this;return(0,w.Z)(function*(){yield t.open(e)})()}disconnect(){var e=this;return(0,w.Z)(function*(){yield e.close()})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,t){var a=this;return(0,w.Z)(function*(){return a.requestStrict(as(e.method,e.params||[],e.id||Sf().toString()),t)})()}requestStrict(e,t){var a=this;return(0,w.Z)(function*(){return new Promise(function(){var l=(0,w.Z)(function*(d,p){if(!a.connection.connected)try{yield a.open()}catch(E){p(E)}a.events.on(`${e.id}`,E=>{Sn(E)?p(E.error):d(E.result)});try{yield a.connection.send(e,t)}catch(E){p(E)}});return function(d,p){return l.apply(this,arguments)}}())})()}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Zo(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(e=this.connection){var t=this;return(0,w.Z)(function*(){t.connection===e&&t.connection.connected||(t.connection.connected&&t.close(),"string"==typeof e&&(yield t.connection.open(e),e=t.connection),t.connection=t.setConnection(e),yield t.connection.open(),t.registerEventListeners(),t.events.emit("connect"))})()}close(){var e=this;return(0,w.Z)(function*(){yield e.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Rf=o=>o.split("?")[0],Ny=typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:q(3569);class Fy{constructor(e){if(this.url=e,this.events=new Re.EventEmitter,this.registering=!1,!Af(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(e=this.url){var t=this;return(0,w.Z)(function*(){yield t.register(e)})()}close(){var e=this;return(0,w.Z)(function*(){return new Promise((t,a)=>{typeof e.socket>"u"?a(new Error("Connection already closed")):(e.socket.onclose=l=>{e.onClose(l),t()},e.socket.close())})})()}send(e){var t=this;return(0,w.Z)(function*(){typeof t.socket>"u"&&(t.socket=yield t.register());try{t.socket.send(Ti(e))}catch(a){t.onError(e.id,a)}})()}register(e=this.url){if(!Af(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((a,l)=>{this.events.once("register_error",d=>{this.resetMaxListeners(),l(d)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return l(new Error("WebSocket connection is missing or invalid"));a(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,a)=>{const l=new URLSearchParams(e).get("origin"),d=(0,Ey.isReactNative)()?{headers:{origin:l}}:{rejectUnauthorized:(o=e,!new RegExp("wss?://localhost(:d{2,5})?").test(o))},p=new Ny(e,[],d);var o;typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?p.onerror=E=>{a(this.emitError(E.error))}:p.on("error",E=>{a(this.emitError(E))}),p.onopen=()=>{this.onOpen(p),t(p)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Fs(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const a=this.parseError(t),d=Ho(e,a.message||a.toString());this.events.emit("payload",d)}parseError(e,t=this.url){return If(e,Rf(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${Rf(this.url)}`));return this.events.emit("register_error",t),t}}var Uy=q(2650),jy=q.n(Uy),Ly=q(9557),My=q.n(Ly),By=function zy(o,e){if(o.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),a=0;a<t.length;a++)t[a]=255;for(var l=0;l<o.length;l++){var d=o.charAt(l),p=d.charCodeAt(0);if(255!==t[p])throw new TypeError(d+" is ambiguous");t[p]=l}var E=o.length,F=o.charAt(0),P=Math.log(E)/Math.log(256),j=Math.log(256)/Math.log(E);function be(ye){if("string"!=typeof ye)throw new TypeError("Expected String");if(0===ye.length)return new Uint8Array;var Me=0;if(" "!==ye[Me]){for(var We=0,Ye=0;ye[Me]===F;)We++,Me++;for(var Ct=(ye.length-Me)*P+1>>>0,it=new Uint8Array(Ct);ye[Me];){var lt=t[ye.charCodeAt(Me)];if(255===lt)return;for(var ut=0,Dt=Ct-1;(0!==lt||ut<Ye)&&-1!==Dt;Dt--,ut++)it[Dt]=(lt+=E*it[Dt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");Ye=ut,Me++}if(" "!==ye[Me]){for(var _t=Ct-Ye;_t!==Ct&&0===it[_t];)_t++;for(var Nt=new Uint8Array(We+(Ct-_t)),Nr=We;_t!==Ct;)Nt[Nr++]=it[_t++];return Nt}}}return{encode:function ie(ye){if(ye instanceof Uint8Array||(ArrayBuffer.isView(ye)?ye=new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength):Array.isArray(ye)&&(ye=Uint8Array.from(ye))),!(ye instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ye.length)return"";for(var Me=0,We=0,Ye=0,Ct=ye.length;Ye!==Ct&&0===ye[Ye];)Ye++,Me++;for(var it=(Ct-Ye)*j+1>>>0,lt=new Uint8Array(it);Ye!==Ct;){for(var ut=ye[Ye],Dt=0,_t=it-1;(0!==ut||Dt<We)&&-1!==_t;_t--,Dt++)lt[_t]=(ut+=256*lt[_t]>>>0)%E>>>0,ut=ut/E>>>0;if(0!==ut)throw new Error("Non-zero carry");We=Dt,Ye++}for(var Nt=it-We;Nt!==it&&0===lt[Nt];)Nt++;for(var Nr=F.repeat(Me);Nt<it;++Nt)Nr+=o.charAt(lt[Nt]);return Nr},decodeUnsafe:be,decode:function Ne(ye){var Me=be(ye);if(Me)return Me;throw new Error(`Non-${e} character`)}}};const Nf=o=>{if(o instanceof Uint8Array&&"Uint8Array"===o.constructor.name)return o;if(o instanceof ArrayBuffer)return new Uint8Array(o);if(ArrayBuffer.isView(o))return new Uint8Array(o.buffer,o.byteOffset,o.byteLength);throw new Error("Unknown type, must be binary type")};class qy{constructor(e,t,a){this.name=e,this.prefix=t,this.baseEncode=a}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ky{constructor(e,t,a){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=a}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ff(this,e)}}class Vy{constructor(e){this.decoders=e}or(e){return Ff(this,e)}decode(e){const a=this.decoders[e[0]];if(a)return a.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ff=(o,e)=>new Vy({...o.decoders||{[o.prefix]:o},...e.decoders||{[e.prefix]:e}});class ky{constructor(e,t,a,l){this.name=e,this.prefix=t,this.baseEncode=a,this.baseDecode=l,this.encoder=new qy(e,t,a),this.decoder=new Ky(e,t,l)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const qo=({name:o,prefix:e,encode:t,decode:a})=>new ky(o,e,t,a),Ms=({prefix:o,name:e,alphabet:t})=>{const{encode:a,decode:l}=By(t,e);return qo({prefix:o,name:e,encode:a,decode:d=>Nf(l(d))})},Ar=({name:o,prefix:e,bitsPerChar:t,alphabet:a})=>qo({prefix:e,name:o,encode:l=>((o,e,t)=>{const a="="===e[e.length-1],l=(1<<t)-1;let d="",p=0,E=0;for(let F=0;F<o.length;++F)for(E=E<<8|o[F],p+=8;p>t;)p-=t,d+=e[l&E>>p];if(p&&(d+=e[l&E<<t-p]),a)for(;d.length*t&7;)d+="=";return d})(l,a,t),decode:l=>((o,e,t,a)=>{const l={};for(let j=0;j<e.length;++j)l[e[j]]=j;let d=o.length;for(;"="===o[d-1];)--d;const p=new Uint8Array(d*t/8|0);let E=0,F=0,P=0;for(let j=0;j<d;++j){const ie=l[o[j]];if(void 0===ie)throw new SyntaxError(`Non-${a} character`);F=F<<t|ie,E+=t,E>=8&&(E-=8,p[P++]=255&F>>E)}if(E>=t||255&F<<8-E)throw new SyntaxError("Unexpected end of data");return p})(l,a,t,o)}),Jy=qo({prefix:"\0",name:"identity",encode:o=>(o=>(new TextDecoder).decode(o))(o),decode:o=>(o=>(new TextEncoder).encode(o))(o)});var Yy=Object.freeze({__proto__:null,identity:Jy});const Qy=Ar({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Xy=Object.freeze({__proto__:null,base2:Qy});const ev=Ar({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tv=Object.freeze({__proto__:null,base8:ev});const rv=Ms({prefix:"9",name:"base10",alphabet:"0123456789"});var nv=Object.freeze({__proto__:null,base10:rv});const iv=Ar({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sv=Ar({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ov=Object.freeze({__proto__:null,base16:iv,base16upper:sv});const av=Ar({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uv=Ar({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cv=Ar({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lv=Ar({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fv=Ar({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hv=Ar({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dv=Ar({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pv=Ar({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gv=Ar({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _v=Object.freeze({__proto__:null,base32:av,base32upper:uv,base32pad:cv,base32padupper:lv,base32hex:fv,base32hexupper:hv,base32hexpad:dv,base32hexpadupper:pv,base32z:gv});const yv=Ms({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vv=Ms({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var mv=Object.freeze({__proto__:null,base36:yv,base36upper:vv});const bv=Ms({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wv=Ms({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ev=Object.freeze({__proto__:null,base58btc:bv,base58flickr:wv});const xv=Ar({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Dv=Ar({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Iv=Ar({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Sv=Ar({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ov=Object.freeze({__proto__:null,base64:xv,base64pad:Dv,base64url:Iv,base64urlpad:Sv});const Uf=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Pv=Uf.reduce((o,e,t)=>(o[t]=e,o),[]),Av=Uf.reduce((o,e,t)=>(o[e.codePointAt(0)]=t,o),[]),Tv=qo({prefix:"\u{1f680}",name:"base256emoji",encode:function Cv(o){return o.reduce((e,t)=>e+Pv[t],"")},decode:function Rv(o){const e=[];for(const t of o){const a=Av[t.codePointAt(0)];if(void 0===a)throw new Error(`Non-base256emoji character: ${t}`);e.push(a)}return new Uint8Array(e)}});var Nv=Object.freeze({__proto__:null,base256emoji:Tv}),jf=128,jv=-128,Lv=Math.pow(2,31),zv=128,Mf=127,$v=Math.pow(2,7),Bv=Math.pow(2,14),Hv=Math.pow(2,21),Zv=Math.pow(2,28),qv=Math.pow(2,35),Kv=Math.pow(2,42),Vv=Math.pow(2,49),kv=Math.pow(2,56),Wv=Math.pow(2,63),Jv={encode:function Lf(o,e,t){e=e||[];for(var a=t=t||0;o>=Lv;)e[t++]=255&o|jf,o/=128;for(;o&jv;)e[t++]=255&o|jf,o>>>=7;return e[t]=0|o,Lf.bytes=t-a+1,e},decode:function qu(o,a){var p,t=0,l=0,d=a=a||0,E=o.length;do{if(d>=E)throw qu.bytes=0,new RangeError("Could not decode varint");p=o[d++],t+=l<28?(p&Mf)<<l:(p&Mf)*Math.pow(2,l),l+=7}while(p>=zv);return qu.bytes=d-a,t},encodingLength:function(o){return o<$v?1:o<Bv?2:o<Hv?3:o<Zv?4:o<qv?5:o<Kv?6:o<Vv?7:o<kv?8:o<Wv?9:10}},zf=Jv;const $f=(o,e,t=0)=>(zf.encode(o,e,t),e),Bf=o=>zf.encodingLength(o),Ku=(o,e)=>{const t=e.byteLength,a=Bf(o),l=a+Bf(t),d=new Uint8Array(l+t);return $f(o,d,0),$f(t,d,a),d.set(e,l),new Yv(o,t,e,d)};class Yv{constructor(e,t,a,l){this.code=e,this.size=t,this.digest=a,this.bytes=l}}const Hf=({name:o,code:e,encode:t})=>new Qv(o,e,t);class Qv{constructor(e,t,a){this.name=e,this.code=t,this.encode=a}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ku(this.code,t):t.then(a=>Ku(this.code,a))}throw Error("Unknown type, must be binary type")}}const Zf=o=>function(){var e=(0,w.Z)(function*(t){return new Uint8Array(yield crypto.subtle.digest(o,t))});return function(t){return e.apply(this,arguments)}}(),Xv=Hf({name:"sha2-256",code:18,encode:Zf("SHA-256")}),em=Hf({name:"sha2-512",code:19,encode:Zf("SHA-512")});Object.freeze({__proto__:null,sha256:Xv,sha512:em});const Kf=Nf;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Kf,digest:o=>Ku(0,Kf(o))}}),new TextEncoder,new TextDecoder;const Vf={...Yy,...Xy,...tv,...nv,...ov,..._v,...mv,...Ev,...Ov,...Nv};function kf(o){return null!=globalThis.Buffer?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):o}function Wf(o,e,t,a){return{name:o,prefix:e,encoder:{name:o,prefix:e,encode:t},decoder:{decode:a}}}const Gf=Wf("utf8","u",o=>"u"+new TextDecoder("utf8").decode(o),o=>(new TextEncoder).encode(o.substring(1))),Vu=Wf("ascii","a",o=>{let e="a";for(let t=0;t<o.length;t++)e+=String.fromCharCode(o[t]);return e},o=>{const e=function im(o=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?kf(globalThis.Buffer.allocUnsafe(o)):new Uint8Array(o)}((o=o.substring(1)).length);for(let t=0;t<o.length;t++)e[t]=o.charCodeAt(t);return e}),sm={utf8:Gf,"utf-8":Gf,hex:Vf.base16,latin1:Vu,ascii:Vu,binary:Vu,...Vf},di="wc@2:core:",cm={database:":memory:"},Yf="client_ed25519_seed",fm=Be.ONE_DAY,_m=Be.SIX_HOURS,Xf="wss://relay.walletconnect.com",eh="wss://relay.walletconnect.org",wm=Be.ONE_SECOND,On_created="subscription_created",On_deleted="subscription_deleted",Pm=1e3*Be.FIVE_SECONDS,zs={wc_pairingDelete:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:0},res:{ttl:Be.ONE_DAY,prompt:!1,tag:0}}},dn_expired="expirer_expired",Wu="verify-api",us="https://verify.walletconnect.com",Gu="https://verify.walletconnect.org",Um=[us,Gu];class Mm{constructor(e,t){var a=this;this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=di,this.init=(0,w.Z)(function*(){if(!a.initialized){const l=yield a.getKeyChain();typeof l<"u"&&(a.keychain=l),a.initialized=!0}}),this.has=l=>(this.isInitialized(),this.keychain.has(l)),this.set=function(){var l=(0,w.Z)(function*(d,p){a.isInitialized(),a.keychain.set(d,p),yield a.persist()});return function(d,p){return l.apply(this,arguments)}}(),this.get=l=>{this.isInitialized();const d=this.keychain.get(l);if(typeof d>"u"){const{message:p}=Le("NO_MATCHING_KEY",`${this.name}: ${l}`);throw new Error(p)}return d},this.del=function(){var l=(0,w.Z)(function*(d){a.isInitialized(),a.keychain.delete(d),yield a.persist()});return function(d){return l.apply(this,arguments)}}(),this.core=e,this.logger=Gr(t,this.name)}get context(){return Wr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}setKeyChain(e){var t=this;return(0,w.Z)(function*(){yield t.core.storage.setItem(t.storageKey,Bl(e))})()}getKeyChain(){var e=this;return(0,w.Z)(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?Hl(t):void 0})()}persist(){var e=this;return(0,w.Z)(function*(){yield e.setKeyChain(e.keychain)})()}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}class zm{constructor(e,t,a){var l=this;this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=(0,w.Z)(function*(){l.initialized||(yield l.keychain.init(),l.initialized=!0)}),this.hasKeys=d=>(this.isInitialized(),this.keychain.has(d)),this.getClientId=(0,w.Z)(function*(){return l.isInitialized(),vf(mf(yield l.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const d=function xg(){const o=oe.Au();return{privateKey:Er(o.secretKey,Lr),publicKey:Er(o.publicKey,Lr)}}();return this.setPrivateKey(d.publicKey,d.privateKey)},this.signJWT=function(){var d=(0,w.Z)(function*(p){l.isInitialized();const F=mf(yield l.getClientSeed()),P=wu();return yield function gy(o,e,t,a){return zu.apply(this,arguments)}(P,p,fm,F)});return function(p){return d.apply(this,arguments)}}(),this.generateSharedKey=(d,p,E)=>{this.isInitialized();const P=function Dg(o,e){const t=oe.gi(Pr(o,Lr),Pr(e,Lr),!0);return Er(new ge.t(W.mE,t).expand(32),Lr)}(this.getPrivateKey(d),p);return this.setSymKey(P,E)},this.setSymKey=function(){var d=(0,w.Z)(function*(p,E){l.isInitialized();const F=E||function Ig(o){return Er((0,W.vp)(Pr(o,Lr)),Lr)}(p);return yield l.keychain.set(F,p),F});return function(p,E){return d.apply(this,arguments)}}(),this.deleteKeyPair=function(){var d=(0,w.Z)(function*(p){l.isInitialized(),yield l.keychain.del(p)});return function(p){return d.apply(this,arguments)}}(),this.deleteSymKey=function(){var d=(0,w.Z)(function*(p){l.isInitialized(),yield l.keychain.del(p)});return function(p){return d.apply(this,arguments)}}(),this.encode=function(){var d=(0,w.Z)(function*(p,E,F){l.isInitialized();const P=Ul(F),j=Ti(E);if(jl(P)){const ye=P.senderPublicKey,Me=P.receiverPublicKey;p=yield l.generateSharedKey(ye,Me)}const ie=l.getSymKey(p),{type:be,senderPublicKey:Ne}=P;return function Og(o){const e=function Sg(o){return Pr(`${o}`,Tl)}(typeof o.type<"u"?o.type:0);if(1===Cs(e)&&typeof o.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof o.senderPublicKey<"u"?Pr(o.senderPublicKey,Lr):void 0,a=typeof o.iv<"u"?Pr(o.iv,Lr):(0,pe.randomBytes)(12);return function Ag(o){if(1===Cs(o.type)){if(typeof o.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Er(O([o.type,o.senderPublicKey,o.iv,o.sealed]),yu)}return Er(O([o.type,o.iv,o.sealed]),yu)}({type:e,sealed:new Y.OK(Pr(o.symKey,Lr)).seal(a,Pr(o.message,vu)),iv:a,senderPublicKey:t})}({type:be,symKey:ie,message:j,senderPublicKey:Ne})});return function(p,E,F){return d.apply(this,arguments)}}(),this.decode=function(){var d=(0,w.Z)(function*(p,E,F){l.isInitialized();const P=function Cg(o,e){const t=Oo(o);return Ul({type:Cs(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Er(t.senderPublicKey,Lr):void 0,receiverPublicKey:e?.receiverPublicKey})}(E,F);if(jl(P)){const j=P.receiverPublicKey,ie=P.senderPublicKey;p=yield l.generateSharedKey(j,ie)}try{const ie=function Pg(o){const e=new Y.OK(Pr(o.symKey,Lr)),{sealed:t,iv:a}=Oo(o.encoded),l=e.open(a,t);if(null===l)throw new Error("Failed to decrypt");return Er(l,vu)}({symKey:l.getSymKey(p),encoded:E});return Fs(ie)}catch(j){l.logger.error(`Failed to decode message from topic: '${p}', clientId: '${yield l.getClientId()}'`),l.logger.error(j)}});return function(p,E,F){return d.apply(this,arguments)}}(),this.getPayloadType=d=>Cs(Oo(d).type),this.getPayloadSenderPublicKey=d=>{const p=Oo(d);return p.senderPublicKey?Er(p.senderPublicKey,Lr):void 0},this.core=e,this.logger=Gr(t,this.name),this.keychain=a||new Mm(this.core,this.logger)}get context(){return Wr(this.logger)}setPrivateKey(e,t){var a=this;return(0,w.Z)(function*(){return yield a.keychain.set(e,t),e})()}getPrivateKey(e){return this.keychain.get(e)}getClientSeed(){var e=this;return(0,w.Z)(function*(){let t="";try{t=e.keychain.get(Yf)}catch{t=wu(),yield e.keychain.set(Yf,t)}return function om(o,e="utf8"){const t=sm[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode(`${t.prefix}${o}`):kf(globalThis.Buffer.from(o,"utf-8"))}(t,"base16")})()}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}class $m extends K_{constructor(e,t){var a;super(e,t),a=this,this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=di,this.init=(0,w.Z)(function*(){if(!a.initialized){a.logger.trace("Initialized");try{const l=yield a.getRelayerMessages();typeof l<"u"&&(a.messages=l),a.logger.debug(`Successfully Restored records for ${a.name}`),a.logger.trace({type:"method",method:"restore",size:a.messages.size})}catch(l){a.logger.debug(`Failed to Restore records for ${a.name}`),a.logger.error(l)}finally{a.initialized=!0}}}),this.set=function(){var l=(0,w.Z)(function*(d,p){a.isInitialized();const E=Qi(p);let F=a.messages.get(d);return typeof F>"u"&&(F={}),typeof F[E]<"u"||(F[E]=p,a.messages.set(d,F),yield a.persist()),E});return function(d,p){return l.apply(this,arguments)}}(),this.get=l=>{this.isInitialized();let d=this.messages.get(l);return typeof d>"u"&&(d={}),d},this.has=(l,d)=>(this.isInitialized(),typeof this.get(l)[Qi(d)]<"u"),this.del=function(){var l=(0,w.Z)(function*(d){a.isInitialized(),a.messages.delete(d),yield a.persist()});return function(d){return l.apply(this,arguments)}}(),this.logger=Gr(e,this.name),this.core=t}get context(){return Wr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}setRelayerMessages(e){var t=this;return(0,w.Z)(function*(){yield t.core.storage.setItem(t.storageKey,Bl(e))})()}getRelayerMessages(){var e=this;return(0,w.Z)(function*(){const t=yield e.core.storage.getItem(e.storageKey);return typeof t<"u"?Hl(t):void 0})()}persist(){var e=this;return(0,w.Z)(function*(){yield e.setRelayerMessages(e.messages)})()}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Bm extends V_{constructor(e,t){var a;super(e,t),a=this,this.relayer=e,this.logger=t,this.events=new Re.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,Be.toMiliseconds)(2*Be.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=function(){var l=(0,w.Z)(function*(d,p,E){var F;a.logger.debug("Publishing Payload"),a.logger.trace({type:"method",method:"publish",params:{topic:d,message:p,opts:E}});try{const P=E?.ttl||_m,j=Su(E),ie=E?.prompt||!1,be=E?.tag||0,Ne=E?.id||Sf().toString(),ye={topic:d,message:p,opts:{ttl:P,relay:j,prompt:ie,tag:be,id:Ne}},Me=setTimeout(()=>a.queue.set(Ne,ye),a.publishTimeout);try{yield yield Rs(a.rpcPublish(d,p,P,j,ie,be,Ne),a.publishTimeout,`Failed to publish payload, please try again. id:${Ne} tag:${be}`),a.removeRequestFromQueue(Ne),a.relayer.events.emit("relayer_publish",ye)}catch(We){if(a.logger.debug("Publishing Payload stalled"),a.needsTransportRestart=!0,null!=(F=E?.internal)&&F.throwOnFailedPublish)throw a.removeRequestFromQueue(Ne),We;return}finally{clearTimeout(Me)}a.logger.debug("Successfully Published Payload"),a.logger.trace({type:"method",method:"publish",params:{topic:d,message:p,opts:E}})}catch(P){throw a.logger.debug("Failed to Publish Payload"),a.logger.error(P),P}});return function(d,p,E){return l.apply(this,arguments)}}(),this.on=(l,d)=>{this.events.on(l,d)},this.once=(l,d)=>{this.events.once(l,d)},this.off=(l,d)=>{this.events.off(l,d)},this.removeListener=(l,d)=>{this.events.removeListener(l,d)},this.relayer=e,this.logger=Gr(t,this.name),this.registerEventListeners()}get context(){return Wr(this.logger)}rpcPublish(e,t,a,l,d,p,E){var F,P,j,ie;const be={method:Po(l.protocol).publish,params:{topic:e,message:t,ttl:a,prompt:d,tag:p},id:E};return Mr(null==(F=be.params)?void 0:F.prompt)&&(null==(P=be.params)||delete P.prompt),Mr(null==(j=be.params)?void 0:j.tag)&&(null==(ie=be.params)||delete ie.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:be}),this.relayer.request(be)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){var e=this;this.queue.forEach(function(){var t=(0,w.Z)(function*(a){const{topic:l,message:d,opts:p}=a;yield e.publish(l,d,p)});return function(a){return t.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(Us.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit("relayer_connection_stalled");this.checkQueue()}),this.relayer.on("relayer_message_ack",e=>{this.removeRequestFromQueue(e.id.toString())})}}class Hm{constructor(){this.map=new Map,this.set=(e,t)=>{const a=this.get(e);this.exists(e,t)||this.map.set(e,[...a,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const a=this.get(e);if(!this.exists(e,t))return;const l=a.filter(d=>d!==t);l.length?this.map.set(e,l):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Zm=Object.defineProperty,qm=Object.defineProperties,Km=Object.getOwnPropertyDescriptors,th=Object.getOwnPropertySymbols,Vm=Object.prototype.hasOwnProperty,km=Object.prototype.propertyIsEnumerable,rh=(o,e,t)=>e in o?Zm(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Bs=(o,e)=>{for(var t in e||(e={}))Vm.call(e,t)&&rh(o,t,e[t]);if(th)for(var t of th(e))km.call(e,t)&&rh(o,t,e[t]);return o},Ju=(o,e)=>qm(o,Km(e));class Wm extends G_{constructor(e,t){var a;super(e,t),a=this,this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new Hm,this.events=new Re.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=di,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=(0,w.Z)(function*(){a.initialized||(a.logger.trace("Initialized"),a.registerEventListeners(),a.clientId=yield a.relayer.core.crypto.getClientId())}),this.subscribe=function(){var l=(0,w.Z)(function*(d,p){yield a.restartToComplete(),a.isInitialized(),a.logger.debug("Subscribing Topic"),a.logger.trace({type:"method",method:"subscribe",params:{topic:d,opts:p}});try{const E=Su(p),F={topic:d,relay:E};a.pending.set(d,F);const P=yield a.rpcSubscribe(d,E);return a.onSubscribe(P,F),a.logger.debug("Successfully Subscribed Topic"),a.logger.trace({type:"method",method:"subscribe",params:{topic:d,opts:p}}),P}catch(E){throw a.logger.debug("Failed to Subscribe Topic"),a.logger.error(E),E}});return function(d,p){return l.apply(this,arguments)}}(),this.unsubscribe=function(){var l=(0,w.Z)(function*(d,p){yield a.restartToComplete(),a.isInitialized(),typeof p?.id<"u"?yield a.unsubscribeById(d,p.id,p):yield a.unsubscribeByTopic(d,p)});return function(d,p){return l.apply(this,arguments)}}(),this.isSubscribed=function(){var l=(0,w.Z)(function*(d){if(a.topics.includes(d))return!0;const p=`${a.pendingSubscriptionWatchLabel}_${d}`;return yield new Promise((E,F)=>{const P=new Be.Watch;P.start(p);const j=setInterval(()=>{!a.pending.has(d)&&a.topics.includes(d)&&(clearInterval(j),P.stop(p),E(!0)),P.elapsed(p)>=Pm&&(clearInterval(j),P.stop(p),F(new Error("Subscription resolution timeout")))},a.pollingInterval)}).catch(()=>!1)});return function(d){return l.apply(this,arguments)}}(),this.on=(l,d)=>{this.events.on(l,d)},this.once=(l,d)=>{this.events.once(l,d)},this.off=(l,d)=>{this.events.off(l,d)},this.removeListener=(l,d)=>{this.events.removeListener(l,d)},this.restart=(0,w.Z)(function*(){a.restartInProgress=!0,yield a.restore(),yield a.reset(),a.restartInProgress=!1}),this.relayer=e,this.logger=Gr(t,this.name),this.clientId=""}get context(){return Wr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let a=!1;try{a=this.getSubscription(e).topic===t}catch{}return a}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(e,t){var a=this;return(0,w.Z)(function*(){const l=a.topicMap.get(e);yield Promise.all(l.map(function(){var d=(0,w.Z)(function*(p){return yield a.unsubscribeById(e,p,t)});return function(p){return d.apply(this,arguments)}}()))})()}unsubscribeById(e,t,a){var l=this;return(0,w.Z)(function*(){l.logger.debug("Unsubscribing Topic"),l.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:a}});try{const d=Su(a);yield l.rpcUnsubscribe(e,t,d);const p=Wt("USER_DISCONNECTED",`${l.name}, ${e}`);yield l.onUnsubscribe(e,t,p),l.logger.debug("Successfully Unsubscribed Topic"),l.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:a}})}catch(d){throw l.logger.debug("Failed to Unsubscribe Topic"),l.logger.error(d),d}})()}rpcSubscribe(e,t){var a=this;return(0,w.Z)(function*(){const l={method:Po(t.protocol).subscribe,params:{topic:e}};a.logger.debug("Outgoing Relay Payload"),a.logger.trace({type:"payload",direction:"outgoing",request:l});try{yield yield Rs(a.relayer.request(l),a.subscribeTimeout)}catch{a.logger.debug("Outgoing Relay Subscribe Payload stalled"),a.relayer.events.emit("relayer_connection_stalled")}return Qi(e+a.clientId)})()}rpcBatchSubscribe(e){var t=this;return(0,w.Z)(function*(){if(!e.length)return;const l={method:Po(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(d=>d.topic)}};t.logger.debug("Outgoing Relay Payload"),t.logger.trace({type:"payload",direction:"outgoing",request:l});try{return yield yield Rs(t.relayer.request(l),t.subscribeTimeout)}catch{t.logger.debug("Outgoing Relay Payload stalled"),t.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(e,t,a){const l={method:Po(a.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:l}),this.relayer.request(l)}onSubscribe(e,t){this.setSubscription(e,Ju(Bs({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Bs({},t)),this.pending.delete(t.topic)})}onUnsubscribe(e,t,a){var l=this;return(0,w.Z)(function*(){l.events.removeAllListeners(t),l.hasSubscription(t,e)&&l.deleteSubscription(t,a),yield l.relayer.messages.del(e)})()}setRelayerSubscriptions(e){var t=this;return(0,w.Z)(function*(){yield t.relayer.core.storage.setItem(t.storageKey,e)})()}getRelayerSubscriptions(){var e=this;return(0,w.Z)(function*(){return yield e.relayer.core.storage.getItem(e.storageKey)})()}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Bs({},t)),this.topicMap.set(t.topic,e),this.events.emit(On_created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:a}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(a)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const a=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(a.topic,e),this.events.emit(On_deleted,Ju(Bs({},a),{reason:t}))}persist(){var e=this;return(0,w.Z)(function*(){yield e.setRelayerSubscriptions(e.values),e.events.emit("subscription_sync")})()}reset(){var e=this;return(0,w.Z)(function*(){if(e.cached.length){const t=Math.ceil(e.cached.length/e.batchSubscribeTopicsLimit);for(let a=0;a<t;a++){const l=e.cached.splice(0,e.batchSubscribeTopicsLimit);yield e.batchSubscribe(l)}}e.events.emit("subscription_resubscribed")})()}restore(){var e=this;return(0,w.Z)(function*(){try{const t=yield e.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(e.subscriptions.size){const{message:a}=Le("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(a),e.logger.error(`${e.name}: ${JSON.stringify(e.values)}`),new Error(a)}e.cached=t,e.logger.debug(`Successfully Restored subscriptions for ${e.name}`),e.logger.trace({type:"method",method:"restore",subscriptions:e.values})}catch(t){e.logger.debug(`Failed to Restore subscriptions for ${e.name}`),e.logger.error(t)}})()}batchSubscribe(e){var t=this;return(0,w.Z)(function*(){if(!e.length)return;const a=yield t.rpcBatchSubscribe(e);Mn(a)&&t.onBatchSubscribe(a.map((l,d)=>Ju(Bs({},e[d]),{id:l})))})()}onConnect(){var e=this;return(0,w.Z)(function*(){e.restartInProgress||(yield e.restart(),e.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var e=this;return(0,w.Z)(function*(){if(!e.initialized||e.relayer.transportExplicitlyClosed)return;const t=[];e.pending.forEach(a=>{t.push(a)}),yield e.batchSubscribe(t)})()}registerEventListeners(){var e=this;this.relayer.core.heartbeat.on(Us.HEARTBEAT_EVENTS.pulse,(0,w.Z)(function*(){yield e.checkPending()})),this.relayer.on("relayer_connect",(0,w.Z)(function*(){yield e.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(On_created,function(){var t=(0,w.Z)(function*(a){const l=On_created;e.logger.info(`Emitting ${l}`),e.logger.debug({type:"event",event:l,data:a}),yield e.persist()});return function(a){return t.apply(this,arguments)}}()),this.events.on(On_deleted,function(){var t=(0,w.Z)(function*(a){const l=On_deleted;e.logger.info(`Emitting ${l}`),e.logger.debug({type:"event",event:l,data:a}),yield e.persist()});return function(a){return t.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}restartToComplete(){var e=this;return(0,w.Z)(function*(){e.restartInProgress&&(yield new Promise(t=>{const a=setInterval(()=>{e.restartInProgress||(clearInterval(a),t())},e.pollingInterval)}))})()}}var Gm=Object.defineProperty,nh=Object.getOwnPropertySymbols,Jm=Object.prototype.hasOwnProperty,Ym=Object.prototype.propertyIsEnumerable,ih=(o,e,t)=>e in o?Gm(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;class Xm extends k_{constructor(e){var t;super(e),t=this,this.protocol="wc",this.version=2,this.events=new Re.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=function(){var a=(0,w.Z)(function*(l){t.logger.debug("Publishing Request Payload");const d=l.id;try{yield t.toEstablishConnection();const p=t.provider.request(l);return t.requestsInFlight.set(d,{promise:p,request:l}),yield p}catch(p){throw t.logger.debug("Failed to Publish Request"),t.logger.error(p),p}finally{t.requestsInFlight.delete(d)}});return function(l){return a.apply(this,arguments)}}(),this.onPayloadHandler=a=>{this.onProviderPayload(a)},this.onConnectHandler=()=>{this.events.emit("relayer_connect")},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=a=>{this.logger.error(a),this.events.emit("relayer_error",a),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on("payload",this.onPayloadHandler),this.provider.on("connect",this.onConnectHandler),this.provider.on("disconnect",this.onDisconnectHandler),this.provider.on("error",this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Gr(e.logger,this.name):Uo()(Mo({level:e.logger||"error"})),this.messages=new $m(this.logger,e.core),this.subscriber=new Wm(this,this.logger),this.publisher=new Bm(this,this.logger),this.relayUrl=e?.relayUrl||Xf,this.projectId=e.projectId,this.bundleId=function Lg(){var o;try{return Xi()&&typeof global<"u"&&typeof(null==global?void 0:global.Application)<"u"?null==(o=global.Application)?void 0:o.applicationId:void 0}catch{return}}(),this.provider={}}init(){var e=this;return(0,w.Z)(function*(){e.logger.trace("Initialized"),e.registerEventListeners(),yield e.createProvider(),yield Promise.all([e.messages.init(),e.subscriber.init()]);try{yield e.transportOpen()}catch{e.logger.warn(`Connection via ${e.relayUrl} failed, attempting to connect via failover domain ${eh}...`),yield e.restartTransport(eh)}e.initialized=!0,setTimeout((0,w.Z)(function*(){0===e.subscriber.topics.length&&(e.logger.info("No topics subscribed to after init, closing transport"),yield e.transportClose(),e.transportExplicitlyClosed=!1)}),1e4)})()}get context(){return Wr(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(e,t,a){var l=this;return(0,w.Z)(function*(){l.isInitialized(),yield l.publisher.publish(e,t,a),yield l.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})})()}subscribe(e,t){var a=this;return(0,w.Z)(function*(){var l;a.isInitialized();let p,d=(null==(l=a.subscriber.topicMap.get(e))?void 0:l[0])||"";if(d)return d;const E=F=>{F.topic===e&&(a.subscriber.off(On_created,E),p())};return yield Promise.all([new Promise(F=>{p=F,a.subscriber.on(On_created,E)}),new Promise(function(){var F=(0,w.Z)(function*(P){d=yield a.subscriber.subscribe(e,t),P()});return function(P){return F.apply(this,arguments)}}())]),d})()}unsubscribe(e,t){var a=this;return(0,w.Z)(function*(){a.isInitialized(),yield a.subscriber.unsubscribe(e,t)})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}transportClose(){var e=this;return(0,w.Z)(function*(){e.requestsInFlight.size>0&&(e.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),e.requestsInFlight.forEach(function(){var t=(0,w.Z)(function*(a){yield a.promise});return function(a){return t.apply(this,arguments)}}())),e.transportExplicitlyClosed=!0,e.hasExperiencedNetworkDisruption&&e.connected?yield Rs(e.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>e.onProviderDisconnect()):e.connected&&(yield e.provider.disconnect())})()}transportOpen(e){var t=this;return(0,w.Z)(function*(){if(t.transportExplicitlyClosed=!1,yield t.confirmOnlineStateOrThrow(),!t.connectionAttemptInProgress){e&&e!==t.relayUrl&&(t.relayUrl=e,yield t.transportClose(),yield t.createProvider()),t.connectionAttemptInProgress=!0;try{yield Promise.all([new Promise(a=>{if(!t.initialized)return a();t.subscriber.once("subscription_resubscribed",()=>{a()})}),new Promise(function(){var a=(0,w.Z)(function*(l,d){try{yield Rs(t.provider.connect(),1e4,`Socket stalled when trying to connect to ${t.relayUrl}`)}catch(p){return void d(p)}l()});return function(l,d){return a.apply(this,arguments)}}())])}catch(a){if(t.logger.error(a),!t.isConnectionStalled(a.message))throw a;t.provider.events.emit("disconnect")}finally{t.connectionAttemptInProgress=!1,t.hasExperiencedNetworkDisruption=!1}}})()}restartTransport(e){var t=this;return(0,w.Z)(function*(){yield t.confirmOnlineStateOrThrow(),!t.connectionAttemptInProgress&&(t.relayUrl=e||t.relayUrl,yield t.transportClose(),yield t.createProvider(),yield t.transportOpen())})()}confirmOnlineStateOrThrow(){return(0,w.Z)(function*(){if(!(yield rf()))throw new Error("No internet connection detected. Please restart your network and try again.")})()}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}createProvider(){var e=this;return(0,w.Z)(function*(){e.provider.connection&&e.unregisterProviderListeners();const t=yield e.core.crypto.signJWT(e.relayUrl);e.provider=new Wn(new Fy(function Zg({protocol:o,version:e,relayUrl:t,sdkVersion:a,auth:l,projectId:d,useOnCloseEvent:p,bundleId:E}){const F=t.split("?"),P=Hg(o,e,a),ie=function Mg(o,e){let t=rn.parse(o);return t=zl(zl({},t),e),rn.stringify(t)}(F[1]||"",{auth:l,ua:P,projectId:d,useOnCloseEvent:p||void 0,origin:E||void 0});return F[0]+"?"+ie}({sdkVersion:"2.11.2",protocol:e.protocol,version:e.version,relayUrl:e.relayUrl,projectId:e.projectId,auth:t,useOnCloseEvent:!0,bundleId:e.bundleId}))),e.registerProviderListeners()})()}recordMessageEvent(e){var t=this;return(0,w.Z)(function*(){const{topic:a,message:l}=e;yield t.messages.set(a,l)})()}shouldIgnoreMessageEvent(e){var t=this;return(0,w.Z)(function*(){const{topic:a,message:l}=e;if(!l||0===l.length)return t.logger.debug(`Ignoring invalid/empty message: ${l}`),!0;if(!(yield t.subscriber.isSubscribed(a)))return t.logger.debug(`Ignoring message for non-subscribed topic ${a}`),!0;const d=t.messages.has(a,l);return d&&t.logger.debug(`Ignoring duplicate message: ${l}`),d})()}onProviderPayload(e){var t=this;return(0,w.Z)(function*(){if(t.logger.debug("Incoming Relay Payload"),t.logger.trace({type:"payload",direction:"incoming",payload:e}),Zu(e)){if(!e.method.endsWith("_subscription"))return;const a=e.params,{topic:l,message:d,publishedAt:p}=a.data,E={topic:l,message:d,publishedAt:p};t.logger.debug("Emitting Relayer Payload"),t.logger.trace(((o,e)=>{for(var t in e||(e={}))Jm.call(e,t)&&ih(o,t,e[t]);if(nh)for(var t of nh(e))Ym.call(e,t)&&ih(o,t,e[t]);return o})({type:"event",event:a.id},E)),t.events.emit(a.id,E),yield t.acknowledgePayload(e),yield t.onMessageEvent(E)}else Zo(e)&&t.events.emit("relayer_message_ack",e)})()}onMessageEvent(e){var t=this;return(0,w.Z)(function*(){(yield t.shouldIgnoreMessageEvent(e))||(t.events.emit("relayer_message",e),yield t.recordMessageEvent(e))})()}acknowledgePayload(e){var t=this;return(0,w.Z)(function*(){const a=Bo(e.id,!0);yield t.provider.connection.send(a)})()}unregisterProviderListeners(){this.provider.off("payload",this.onPayloadHandler),this.provider.off("connect",this.onConnectHandler),this.provider.off("disconnect",this.onDisconnectHandler),this.provider.off("error",this.onProviderErrorHandler)}registerEventListeners(){var e=this;return(0,w.Z)(function*(){e.events.on("relayer_connection_stalled",()=>{e.restartTransport().catch(a=>e.logger.error(a))});let t=yield rf();!function k0(o){switch(ts()){case qr.browser:!function W0(o){!Xi()&&es()&&(window.addEventListener("online",()=>o(!0)),window.addEventListener("offline",()=>o(!1)))}(o);break;case qr.reactNative:!function G0(o){Xi()&&typeof global<"u"&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(e=>o(e?.isConnected))}(o)}}(function(){var a=(0,w.Z)(function*(l){e.initialized&&t!==l&&(t=l,l?yield e.restartTransport().catch(d=>e.logger.error(d)):(e.hasExperiencedNetworkDisruption=!0,yield e.transportClose().catch(d=>e.logger.error(d))))});return function(l){return a.apply(this,arguments)}}())})()}onProviderDisconnect(){this.events.emit("relayer_disconnect"),this.attemptToReconnect()}attemptToReconnect(){var e=this;this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout((0,w.Z)(function*(){yield e.restartTransport().catch(t=>e.logger.error(t))}),(0,Be.toMiliseconds)(wm)))}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}toEstablishConnection(){var e=this;return(0,w.Z)(function*(){if(yield e.confirmOnlineStateOrThrow(),!e.connected){if(e.connectionAttemptInProgress)return yield new Promise(t=>{const a=setInterval(()=>{e.connected&&(clearInterval(a),t())},e.connectionStatusPollingInterval)});yield e.restartTransport()}})()}}var e1=Object.defineProperty,sh=Object.getOwnPropertySymbols,t1=Object.prototype.hasOwnProperty,r1=Object.prototype.propertyIsEnumerable,oh=(o,e,t)=>e in o?e1(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,ah=(o,e)=>{for(var t in e||(e={}))t1.call(e,t)&&oh(o,t,e[t]);if(sh)for(var t of sh(e))r1.call(e,t)&&oh(o,t,e[t]);return o};class Ko extends W_{constructor(e,t,a,l=di,d=void 0){var p;super(e,t,a,l),p=this,this.core=e,this.logger=t,this.name=a,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=di,this.init=(0,w.Z)(function*(){p.initialized||(p.logger.trace("Initialized"),yield p.restore(),p.cached.forEach(E=>{p.getKey&&null!==E&&!Mr(E)?p.map.set(p.getKey(E),E):function D0(o){var e;return null==(e=o?.proposer)?void 0:e.publicKey}(E)?p.map.set(E.id,E):function I0(o){return o?.topic}(E)&&p.map.set(E.topic,E)}),p.cached=[],p.initialized=!0)}),this.set=function(){var E=(0,w.Z)(function*(F,P){p.isInitialized(),p.map.has(F)?yield p.update(F,P):(p.logger.debug("Setting value"),p.logger.trace({type:"method",method:"set",key:F,value:P}),p.map.set(F,P),yield p.persist())});return function(F,P){return E.apply(this,arguments)}}(),this.get=E=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:E}),this.getData(E)),this.getAll=E=>(this.isInitialized(),E?this.values.filter(F=>Object.keys(E).every(P=>jy()(F[P],E[P]))):this.values),this.update=function(){var E=(0,w.Z)(function*(F,P){p.isInitialized(),p.logger.debug("Updating value"),p.logger.trace({type:"method",method:"update",key:F,update:P});const j=ah(ah({},p.getData(F)),P);p.map.set(F,j),yield p.persist()});return function(F,P){return E.apply(this,arguments)}}(),this.delete=function(){var E=(0,w.Z)(function*(F,P){p.isInitialized(),p.map.has(F)&&(p.logger.debug("Deleting value"),p.logger.trace({type:"method",method:"delete",key:F,reason:P}),p.map.delete(F),yield p.persist())});return function(F,P){return E.apply(this,arguments)}}(),this.logger=Gr(t,this.name),this.storagePrefix=l,this.getKey=d}get context(){return Wr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(e){var t=this;return(0,w.Z)(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getDataStore(){var e=this;return(0,w.Z)(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getData(e){const t=this.map.get(e);if(!t){const{message:a}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(a),new Error(a)}return t}persist(){var e=this;return(0,w.Z)(function*(){yield e.setDataStore(e.values)})()}restore(){var e=this;return(0,w.Z)(function*(){try{const t=yield e.getDataStore();if(typeof t>"u"||!t.length)return;if(e.map.size){const{message:a}=Le("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(a),new Error(a)}e.cached=t,e.logger.debug(`Successfully Restored value for ${e.name}`),e.logger.trace({type:"method",method:"restore",value:e.values})}catch(t){e.logger.debug(`Failed to Restore value for ${e.name}`),e.logger.error(t)}})()}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}class n1{constructor(e,t){var a=this;this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(Ae()),this.initialized=!1,this.storagePrefix=di,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=(0,w.Z)(function*(){a.initialized||(yield a.pairings.init(),yield a.cleanup(),a.registerRelayerEvents(),a.registerExpirerEvents(),a.initialized=!0,a.logger.trace("Initialized"))}),this.register=({methods:l})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...l])]},this.create=(0,w.Z)(function*(){a.isInitialized();const l=wu(),d=yield a.core.crypto.setSymKey(l),p=nn(Be.FIVE_MINUTES),E={protocol:"irn"},F={topic:d,expiry:p,relay:E,active:!1},P=function u0(o){return`${o.protocol}:${o.topic}@${o.version}?`+rn.stringify(((o,e)=>Xg(o,e0(e)))(((o,e)=>{for(var t in e||(e={}))t0.call(e,t)&&Vl(o,t,e[t]);if(Kl)for(var t of Kl(e))r0.call(e,t)&&Vl(o,t,e[t]);return o})({symKey:o.symKey},function a0(o,e="-"){const a={};return Object.keys(o).forEach(l=>{o[l]&&(a["relay"+e+l]=o[l])}),a}(o.relay)),{expiryTimestamp:o.expiryTimestamp}))}({protocol:a.core.protocol,version:a.core.version,topic:d,symKey:l,relay:E,expiryTimestamp:p});return yield a.pairings.set(d,F),yield a.core.relayer.subscribe(d),a.core.expirer.set(d,p),{topic:d,uri:P}}),this.pair=function(){var l=(0,w.Z)(function*(d){a.isInitialized(),a.isValidPair(d);const{topic:p,symKey:E,relay:F,expiryTimestamp:P}=kl(d.uri);let j;if(a.pairings.keys.includes(p)&&(j=a.pairings.get(p),j.active))throw new Error(`Pairing already exists: ${p}. Please try again with a new connection URI.`);const ie=P||nn(Be.FIVE_MINUTES),be={topic:p,relay:F,expiry:ie,active:!1};return yield a.pairings.set(p,be),a.core.expirer.set(p,ie),d.activatePairing&&(yield a.activate({topic:p})),a.events.emit("pairing_create",be),a.core.crypto.keychain.has(p)||(yield a.core.crypto.setSymKey(E,p),yield a.core.relayer.subscribe(p,{relay:F})),be});return function(d){return l.apply(this,arguments)}}(),this.activate=function(){var l=(0,w.Z)(function*({topic:d}){a.isInitialized();const p=nn(Be.THIRTY_DAYS);yield a.pairings.update(d,{active:!0,expiry:p}),a.core.expirer.set(d,p)});return function(d){return l.apply(this,arguments)}}(),this.ping=function(){var l=(0,w.Z)(function*(d){a.isInitialized(),yield a.isValidPing(d);const{topic:p}=d;if(a.pairings.keys.includes(p)){const E=yield a.sendRequest(p,"wc_pairingPing",{}),{done:F,resolve:P,reject:j}=rs();a.events.once(ar("pairing_ping",E),({error:ie})=>{ie?j(ie):P()}),yield F()}});return function(d){return l.apply(this,arguments)}}(),this.updateExpiry=function(){var l=(0,w.Z)(function*({topic:d,expiry:p}){a.isInitialized(),yield a.pairings.update(d,{expiry:p})});return function(d){return l.apply(this,arguments)}}(),this.updateMetadata=function(){var l=(0,w.Z)(function*({topic:d,metadata:p}){a.isInitialized(),yield a.pairings.update(d,{peerMetadata:p})});return function(d){return l.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var l=(0,w.Z)(function*(d){a.isInitialized(),yield a.isValidDisconnect(d);const{topic:p}=d;a.pairings.keys.includes(p)&&(yield a.sendRequest(p,"wc_pairingDelete",Wt("USER_DISCONNECTED")),yield a.deletePairing(p))});return function(d){return l.apply(this,arguments)}}(),this.sendRequest=function(){var l=(0,w.Z)(function*(d,p,E){const F=as(p,E),P=yield a.core.crypto.encode(d,F),j=zs[p].req;return a.core.history.set(d,F),a.core.relayer.publish(d,P,j),F.id});return function(d,p,E){return l.apply(this,arguments)}}(),this.sendResult=function(){var l=(0,w.Z)(function*(d,p,E){const F=Bo(d,E),P=yield a.core.crypto.encode(p,F),j=yield a.core.history.get(p,d),ie=zs[j.request.method].res;yield a.core.relayer.publish(p,P,ie),yield a.core.history.resolve(F)});return function(d,p,E){return l.apply(this,arguments)}}(),this.sendError=function(){var l=(0,w.Z)(function*(d,p,E){const F=Ho(d,E),P=yield a.core.crypto.encode(p,F),j=yield a.core.history.get(p,d),ie=zs[j.request.method]?zs[j.request.method].res:zs.unregistered_method.res;yield a.core.relayer.publish(p,P,ie),yield a.core.history.resolve(F)});return function(d,p,E){return l.apply(this,arguments)}}(),this.deletePairing=function(){var l=(0,w.Z)(function*(d,p){yield a.core.relayer.unsubscribe(d),yield Promise.all([a.pairings.delete(d,Wt("USER_DISCONNECTED")),a.core.crypto.deleteSymKey(d),p?Promise.resolve():a.core.expirer.del(d)])});return function(d,p){return l.apply(this,arguments)}}(),this.cleanup=(0,w.Z)(function*(){const l=a.pairings.getAll().filter(d=>hi(d.expiry));yield Promise.all(l.map(d=>a.deletePairing(d.topic)))}),this.onRelayEventRequest=l=>{const{topic:d,payload:p}=l;switch(p.method){case"wc_pairingPing":return this.onPairingPingRequest(d,p);case"wc_pairingDelete":return this.onPairingDeleteRequest(d,p);default:return this.onUnknownRpcMethodRequest(d,p)}},this.onRelayEventResponse=function(){var l=(0,w.Z)(function*(d){const{topic:p,payload:E}=d,F=(yield a.core.history.get(p,E.id)).request.method;return"wc_pairingPing"===F?a.onPairingPingResponse(p,E):a.onUnknownRpcMethodResponse(F)});return function(d){return l.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var l=(0,w.Z)(function*(d,p){const{id:E}=p;try{a.isValidPing({topic:d}),yield a.sendResult(E,d,!0),a.events.emit("pairing_ping",{id:E,topic:d})}catch(F){yield a.sendError(E,d,F),a.logger.error(F)}});return function(d,p){return l.apply(this,arguments)}}(),this.onPairingPingResponse=(l,d)=>{const{id:p}=d;setTimeout(()=>{kn(d)?this.events.emit(ar("pairing_ping",p),{}):Sn(d)&&this.events.emit(ar("pairing_ping",p),{error:d.error})},500)},this.onPairingDeleteRequest=function(){var l=(0,w.Z)(function*(d,p){const{id:E}=p;try{a.isValidDisconnect({topic:d}),yield a.deletePairing(d),a.events.emit("pairing_delete",{id:E,topic:d})}catch(F){yield a.sendError(E,d,F),a.logger.error(F)}});return function(d,p){return l.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var l=(0,w.Z)(function*(d,p){const{id:E,method:F}=p;try{if(a.registeredMethods.includes(F))return;const P=Wt("WC_METHOD_UNSUPPORTED",F);yield a.sendError(E,d,P),a.logger.error(P)}catch(P){yield a.sendError(E,d,P),a.logger.error(P)}});return function(d,p){return l.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=l=>{this.registeredMethods.includes(l)||this.logger.error(Wt("WC_METHOD_UNSUPPORTED",l))},this.isValidPair=l=>{var d;if(!Kr(l)){const{message:E}=Le("MISSING_OR_INVALID",`pair() params: ${l}`);throw new Error(E)}if(!function x0(o){if(Dr(o,!1))try{return typeof new URL(o)<"u"}catch{return!1}return!1}(l.uri)){const{message:E}=Le("MISSING_OR_INVALID",`pair() uri: ${l.uri}`);throw new Error(E)}const p=kl(l.uri);if(null==(d=p?.relay)||!d.protocol){const{message:E}=Le("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(E)}if(null==p||!p.symKey){const{message:E}=Le("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(E)}if(null!=p&&p.expiryTimestamp&&(0,Be.toMiliseconds)(p?.expiryTimestamp)<Date.now()){const{message:E}=Le("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(E)}},this.isValidPing=function(){var l=(0,w.Z)(function*(d){if(!Kr(d)){const{message:E}=Le("MISSING_OR_INVALID",`ping() params: ${d}`);throw new Error(E)}const{topic:p}=d;yield a.isValidPairingTopic(p)});return function(d){return l.apply(this,arguments)}}(),this.isValidDisconnect=function(){var l=(0,w.Z)(function*(d){if(!Kr(d)){const{message:E}=Le("MISSING_OR_INVALID",`disconnect() params: ${d}`);throw new Error(E)}const{topic:p}=d;yield a.isValidPairingTopic(p)});return function(d){return l.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var l=(0,w.Z)(function*(d){if(!Dr(d,!1)){const{message:p}=Le("MISSING_OR_INVALID",`pairing topic should be a string: ${d}`);throw new Error(p)}if(!a.pairings.keys.includes(d)){const{message:p}=Le("NO_MATCHING_KEY",`pairing topic doesn't exist: ${d}`);throw new Error(p)}if(hi(a.pairings.get(d).expiry)){yield a.deletePairing(d);const{message:p}=Le("EXPIRED",`pairing topic: ${d}`);throw new Error(p)}});return function(d){return l.apply(this,arguments)}}(),this.core=e,this.logger=Gr(t,this.name),this.pairings=new Ko(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Wr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){var e=this;this.core.relayer.on("relayer_message",function(){var t=(0,w.Z)(function*(a){const{topic:l,message:d}=a;if(!e.pairings.keys.includes(l)||e.ignoredPayloadTypes.includes(e.core.crypto.getPayloadType(d)))return;const p=yield e.core.crypto.decode(l,d);try{Zu(p)?(e.core.history.set(l,p),e.onRelayEventRequest({topic:l,payload:p})):Zo(p)&&(yield e.core.history.resolve(p),yield e.onRelayEventResponse({topic:l,payload:p}),e.core.history.delete(l,p.id))}catch(E){e.logger.error(E)}});return function(a){return t.apply(this,arguments)}}())}registerExpirerEvents(){var e=this;this.core.expirer.on(dn_expired,function(){var t=(0,w.Z)(function*(a){const{topic:l}=ql(a.target);l&&e.pairings.keys.includes(l)&&(yield e.deletePairing(l,!0),e.events.emit("pairing_expire",{topic:l}))});return function(a){return t.apply(this,arguments)}}())}}class i1 extends q_{constructor(e,t){var a;super(e,t),a=this,this.core=e,this.logger=t,this.records=new Map,this.events=new Re.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=di,this.init=(0,w.Z)(function*(){a.initialized||(a.logger.trace("Initialized"),yield a.restore(),a.cached.forEach(l=>a.records.set(l.id,l)),a.cached=[],a.registerEventListeners(),a.initialized=!0)}),this.set=(l,d,p)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:l,request:d,chainId:p}),this.records.has(d.id))return;const E={id:d.id,topic:l,request:{method:d.method,params:d.params||null},chainId:p,expiry:nn(Be.THIRTY_DAYS)};this.records.set(E.id,E),this.events.emit("history_created",E)},this.resolve=function(){var l=(0,w.Z)(function*(d){if(a.isInitialized(),a.logger.debug("Updating JSON-RPC response history record"),a.logger.trace({type:"method",method:"update",response:d}),!a.records.has(d.id))return;const p=yield a.getRecord(d.id);typeof p.response>"u"&&(p.response=Sn(d)?{error:d.error}:{result:d.result},a.records.set(p.id,p),a.events.emit("history_updated",p))});return function(d){return l.apply(this,arguments)}}(),this.get=function(){var l=(0,w.Z)(function*(d,p){return a.isInitialized(),a.logger.debug("Getting record"),a.logger.trace({type:"method",method:"get",topic:d,id:p}),yield a.getRecord(p)});return function(d,p){return l.apply(this,arguments)}}(),this.delete=(l,d)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:d}),this.values.forEach(p=>{if(p.topic===l){if(typeof d<"u"&&p.id!==d)return;this.records.delete(p.id),this.events.emit("history_deleted",p)}})},this.exists=function(){var l=(0,w.Z)(function*(d,p){return a.isInitialized(),!!a.records.has(p)&&(yield a.getRecord(p)).topic===d});return function(d,p){return l.apply(this,arguments)}}(),this.on=(l,d)=>{this.events.on(l,d)},this.once=(l,d)=>{this.events.once(l,d)},this.off=(l,d)=>{this.events.off(l,d)},this.removeListener=(l,d)=>{this.events.removeListener(l,d)},this.logger=Gr(t,this.name)}get context(){return Wr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const a={topic:t.topic,request:as(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(a)}),e}setJsonRpcRecords(e){var t=this;return(0,w.Z)(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getJsonRpcRecords(){var e=this;return(0,w.Z)(function*(){return yield e.core.storage.getItem(e.storageKey)})()}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:a}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(a)}return t}persist(){var e=this;return(0,w.Z)(function*(){yield e.setJsonRpcRecords(e.values),e.events.emit("history_sync")})()}restore(){var e=this;return(0,w.Z)(function*(){try{const t=yield e.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(e.records.size){const{message:a}=Le("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(a),new Error(a)}e.cached=t,e.logger.debug(`Successfully Restored records for ${e.name}`),e.logger.trace({type:"method",method:"restore",records:e.values})}catch(t){e.logger.debug(`Failed to Restore records for ${e.name}`),e.logger.error(t)}})()}registerEventListeners(){this.events.on("history_created",e=>{const t="history_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on("history_updated",e=>{const t="history_updated";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on("history_deleted",e=>{const t="history_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(Us.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,Be.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}class s1 extends J_{constructor(e,t){var a;super(e,t),a=this,this.core=e,this.logger=t,this.expirations=new Map,this.events=new Re.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=di,this.init=(0,w.Z)(function*(){a.initialized||(a.logger.trace("Initialized"),yield a.restore(),a.cached.forEach(l=>a.expirations.set(l.target,l)),a.cached=[],a.registerEventListeners(),a.initialized=!0)}),this.has=l=>{try{const d=this.formatTarget(l);return typeof this.getExpiration(d)<"u"}catch{return!1}},this.set=(l,d)=>{this.isInitialized();const p=this.formatTarget(l),E={target:p,expiry:d};this.expirations.set(p,E),this.checkExpiry(p,E),this.events.emit("expirer_created",{target:p,expiration:E})},this.get=l=>{this.isInitialized();const d=this.formatTarget(l);return this.getExpiration(d)},this.del=l=>{if(this.isInitialized(),this.has(l)){const d=this.formatTarget(l),p=this.getExpiration(d);this.expirations.delete(d),this.events.emit("expirer_deleted",{target:d,expiration:p})}},this.on=(l,d)=>{this.events.on(l,d)},this.once=(l,d)=>{this.events.once(l,d)},this.off=(l,d)=>{this.events.off(l,d)},this.removeListener=(l,d)=>{this.events.removeListener(l,d)},this.logger=Gr(t,this.name)}get context(){return Wr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function kg(o){return Zl("topic",o)}(e);if("number"==typeof e)return function Wg(o){return Zl("id",o)}(e);const{message:t}=Le("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}setExpirations(e){var t=this;return(0,w.Z)(function*(){yield t.core.storage.setItem(t.storageKey,e)})()}getExpirations(){var e=this;return(0,w.Z)(function*(){return yield e.core.storage.getItem(e.storageKey)})()}persist(){var e=this;return(0,w.Z)(function*(){yield e.setExpirations(e.values),e.events.emit("expirer_sync")})()}restore(){var e=this;return(0,w.Z)(function*(){try{const t=yield e.getExpirations();if(typeof t>"u"||!t.length)return;if(e.expirations.size){const{message:a}=Le("RESTORE_WILL_OVERRIDE",e.name);throw e.logger.error(a),new Error(a)}e.cached=t,e.logger.debug(`Successfully Restored expirations for ${e.name}`),e.logger.trace({type:"method",method:"restore",expirations:e.values})}catch(t){e.logger.debug(`Failed to Restore expirations for ${e.name}`),e.logger.error(t)}})()}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:a}=Le("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(a),new Error(a)}return t}checkExpiry(e,t){const{expiry:a}=t;(0,Be.toMiliseconds)(a)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(dn_expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Us.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",e=>{const t="expirer_created";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(dn_expired,e=>{const t=dn_expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on("expirer_deleted",e=>{const t="expirer_deleted";this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Le("NOT_INITIALIZED",this.name);throw new Error(e)}}}class o1 extends Y_{constructor(e,t){var a;super(e,t),a=this,this.projectId=e,this.logger=t,this.name=Wu,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=function(){var l=(0,w.Z)(function*(d){if(a.verifyDisabled||Xi()||!es())return;const p=a.getVerifyUrl(d?.verifyUrl);a.verifyUrl!==p&&a.removeIframe(),a.verifyUrl=p;try{yield a.createIframe()}catch(E){a.logger.info(`Verify iframe failed to load: ${a.verifyUrl}`),a.logger.info(E)}if(!a.initialized){a.removeIframe(),a.verifyUrl=Gu;try{yield a.createIframe()}catch(E){a.logger.info(`Verify iframe failed to load: ${a.verifyUrl}`),a.logger.info(E),a.verifyDisabled=!0}}});return function(d){return l.apply(this,arguments)}}(),this.register=function(){var l=(0,w.Z)(function*(d){a.initialized?a.sendPost(d.attestationId):(a.addToQueue(d.attestationId),yield a.init())});return function(d){return l.apply(this,arguments)}}(),this.resolve=function(){var l=(0,w.Z)(function*(d){if(a.isDevEnv)return"";const p=a.getVerifyUrl(d?.verifyUrl);let E;try{E=yield a.fetchAttestation(d.attestationId,p)}catch(F){a.logger.info(`failed to resolve attestation: ${d.attestationId} from url: ${p}`),a.logger.info(F),E=yield a.fetchAttestation(d.attestationId,Gu)}return E});return function(d){return l.apply(this,arguments)}}(),this.fetchAttestation=function(){var l=(0,w.Z)(function*(d,p){a.logger.info(`resolving attestation: ${d} from url: ${p}`);const E=a.startAbortTimer(2*Be.ONE_SECOND),F=yield fetch(`${p}/attestation/${d}`,{signal:a.abortController.signal});return clearTimeout(E),200===F.status?yield F.json():void 0});return function(d,p){return l.apply(this,arguments)}}(),this.addToQueue=l=>{this.queue.push(l)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach(l=>this.sendPost(l)),this.queue=[])},this.sendPost=l=>{var d;try{if(!this.iframe)return;null==(d=this.iframe.contentWindow)||d.postMessage(l,"*"),this.logger.info(`postMessage sent: ${l} ${this.verifyUrl}`)}catch{}},this.createIframe=(0,w.Z)(function*(){let l;const d=p=>{"verify_ready"===p.data&&(a.initialized=!0,a.processQueue(),window.removeEventListener("message",d),l())};yield Promise.race([new Promise(p=>{if(document.getElementById(Wu))return p();window.addEventListener("message",d);const E=document.createElement("iframe");E.id=Wu,E.src=`${a.verifyUrl}/${a.projectId}`,E.style.display="none",document.body.append(E),a.iframe=E,l=p}),new Promise((p,E)=>setTimeout(()=>{window.removeEventListener("message",d),E("verify iframe load timeout")},(0,Be.toMiliseconds)(Be.FIVE_SECONDS)))])}),this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=l=>{let d=l||us;return Um.includes(d)||(this.logger.info(`verify url: ${d}, not included in trusted list, assigning default: ${us}`),d=us),d},this.logger=Gr(t,this.name),this.verifyUrl=us,this.abortController=new AbortController,this.isDevEnv=xu()&&process.env.IS_VITEST}get context(){return Wr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Be.toMiliseconds)(e))}}class a1 extends Q_{constructor(e,t){var a;super(e,t),a=this,this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=function(){var l=(0,w.Z)(function*(d){const{clientId:p,token:E,notificationType:F,enableEncrypted:P=!1}=d,j=`https://echo.walletconnect.com/${a.projectId}/clients`;yield My()(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:p,type:F,token:E,always_raw:P})})});return function(d){return l.apply(this,arguments)}}(),this.logger=Gr(t,this.context)}}var u1=Object.defineProperty,uh=Object.getOwnPropertySymbols,c1=Object.prototype.hasOwnProperty,l1=Object.prototype.propertyIsEnumerable,ch=(o,e,t)=>e in o?u1(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,lh=(o,e)=>{for(var t in e||(e={}))c1.call(e,t)&&ch(o,t,e[t]);if(uh)for(var t of uh(e))l1.call(e,t)&&ch(o,t,e[t]);return o};class Yu extends Z_{constructor(e){super(e),this.protocol="wc",this.version=2,this.name="core",this.events=new Re.EventEmitter,this.initialized=!1,this.on=(a,l)=>this.events.on(a,l),this.once=(a,l)=>this.events.once(a,l),this.off=(a,l)=>this.events.off(a,l),this.removeListener=(a,l)=>this.events.removeListener(a,l),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Xf,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:Uo()(Mo({level:e?.logger||"error"}));this.logger=Gr(t,this.name),this.heartbeat=new Us.HeartBeat,this.crypto=new zm(this,this.logger,e?.keychain),this.history=new i1(this,this.logger),this.expirer=new s1(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new O_(lh(lh({},cm),e?.storageOptions)),this.relayer=new Xm({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new n1(this,this.logger),this.verify=new o1(this.projectId||"",this.logger),this.echoClient=new a1(this.projectId||"",this.logger)}static init(e){return(0,w.Z)(function*(){const t=new Yu(e);yield t.initialize();const a=yield t.crypto.getClientId();return yield t.storage.setItem("WALLETCONNECT_CLIENT_ID",a),t})()}get context(){return Wr(this.logger)}start(){var e=this;return(0,w.Z)(function*(){e.initialized||(yield e.initialize())})()}initialize(){var e=this;return(0,w.Z)(function*(){e.logger.trace("Initialized");try{yield e.crypto.init(),yield e.history.init(),yield e.expirer.init(),yield e.relayer.init(),yield e.heartbeat.init(),yield e.pairing.init(),e.initialized=!0,e.logger.info("Core Initialization Success")}catch(t){throw e.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),e.logger.error(t.message),t}})()}}const f1=Yu,Qu="wc@2:client:",ph="WALLETCONNECT_DEEPLINK_CHOICE",gh="Proposal expired",Vo=Be.SEVEN_DAYS,Jn={wc_sessionPropose:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1115}}},ec={min:Be.FIVE_MINUTES,max:Be.SEVEN_DAYS},_1=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var y1=Object.defineProperty,v1=Object.defineProperties,m1=Object.getOwnPropertyDescriptors,_h=Object.getOwnPropertySymbols,b1=Object.prototype.hasOwnProperty,w1=Object.prototype.propertyIsEnumerable,yh=(o,e,t)=>e in o?y1(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,zr=(o,e)=>{for(var t in e||(e={}))b1.call(e,t)&&yh(o,t,e[t]);if(_h)for(var t of _h(e))w1.call(e,t)&&yh(o,t,e[t]);return o},cs=(o,e)=>v1(o,m1(e));class E1 extends ey{constructor(e){var t;super(e),t=this,this.name="engine",this.events=new(Ae()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.requestQueue={state:"IDLE",queue:[]},this.sessionRequestQueue={state:"IDLE",queue:[]},this.requestQueueDelay=Be.ONE_SECOND,this.init=(0,w.Z)(function*(){t.initialized||(yield t.cleanup(),t.registerRelayerEvents(),t.registerExpirerEvents(),t.registerPairingEvents(),t.client.core.pairing.register({methods:Object.keys(Jn)}),t.initialized=!0,setTimeout(()=>{t.sessionRequestQueue.queue=t.getPendingSessionRequests(),t.processSessionRequestQueue()},(0,Be.toMiliseconds)(t.requestQueueDelay)))}),this.connect=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized();const d=cs(zr({},l),{requiredNamespaces:l.requiredNamespaces||{},optionalNamespaces:l.optionalNamespaces||{}});yield t.isValidConnect(d);const{pairingTopic:p,requiredNamespaces:E,optionalNamespaces:F,sessionProperties:P,relays:j}=d;let be,ie=p,Ne=!1;if(ie&&(Ne=t.client.core.pairing.pairings.get(ie).active),!ie||!Ne){const{topic:Dt,uri:_t}=yield t.client.core.pairing.create();ie=Dt,be=_t}const ye=yield t.client.core.crypto.generateKeyPair(),Me=Jn.wc_sessionPropose.req.ttl||Be.FIVE_MINUTES,We=nn(Me),Ye=zr({requiredNamespaces:E,optionalNamespaces:F,relays:j??[{protocol:"irn"}],proposer:{publicKey:ye,metadata:t.client.metadata},expiryTimestamp:We},P&&{sessionProperties:P}),{reject:Ct,resolve:it,done:lt}=rs(Me,gh);if(t.events.once(ar("session_connect"),function(){var Dt=(0,w.Z)(function*({error:_t,session:Nt}){if(_t)Ct(_t);else if(Nt){Nt.self.publicKey=ye;const Nr=cs(zr({},Nt),{requiredNamespaces:Ye.requiredNamespaces,optionalNamespaces:Ye.optionalNamespaces});yield t.client.session.set(Nt.topic,Nr),yield t.setExpiry(Nt.topic,Nt.expiry),ie&&(yield t.client.core.pairing.updateMetadata({topic:ie,metadata:Nt.peer.metadata})),it(Nr)}});return function(_t){return Dt.apply(this,arguments)}}()),!ie){const{message:Dt}=Le("NO_MATCHING_KEY",`connect() pairing topic: ${ie}`);throw new Error(Dt)}const ut=yield t.sendRequest({topic:ie,method:"wc_sessionPropose",params:Ye,throwOnFailedPublish:!0});return yield t.setProposal(ut,zr({id:ut},Ye)),{uri:be,approval:lt}});return function(l){return a.apply(this,arguments)}}(),this.pair=function(){var a=(0,w.Z)(function*(l){return yield t.isInitialized(),yield t.client.core.pairing.pair(l)});return function(l){return a.apply(this,arguments)}}(),this.approve=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidApprove(l);const{id:d,relayProtocol:p,namespaces:E,sessionProperties:F}=l,P=t.client.proposal.get(d);let{pairingTopic:j,proposer:ie,requiredNamespaces:be,optionalNamespaces:Ne}=P;j=j||"";const ye=yield t.client.core.crypto.generateKeyPair(),Me=ie.publicKey,We=yield t.client.core.crypto.generateSharedKey(ye,Me);j&&d&&(yield t.client.core.pairing.updateMetadata({topic:j,metadata:ie.metadata}),yield t.sendResult({id:d,topic:j,result:{relay:{protocol:p??"irn"},responderPublicKey:ye}}),yield t.client.proposal.delete(d,Wt("USER_DISCONNECTED")),yield t.client.core.pairing.activate({topic:j}));const Ye=zr({relay:{protocol:p??"irn"},namespaces:E,pairingTopic:j,controller:{publicKey:ye,metadata:t.client.metadata},expiry:nn(Vo)},F&&{sessionProperties:F});yield t.client.core.relayer.subscribe(We);const Ct=cs(zr({},Ye),{topic:We,requiredNamespaces:be,optionalNamespaces:Ne,pairingTopic:j,acknowledged:!1,self:Ye.controller,peer:{publicKey:ie.publicKey,metadata:ie.metadata},controller:ye});yield t.client.session.set(We,Ct);try{yield t.sendRequest({topic:We,method:"wc_sessionSettle",params:Ye,throwOnFailedPublish:!0})}catch(it){throw t.client.logger.error(it),t.client.session.delete(We,Wt("USER_DISCONNECTED")),yield t.client.core.relayer.unsubscribe(We),it}return yield t.setExpiry(We,nn(Vo)),{topic:We,acknowledged:()=>new Promise(it=>setTimeout(()=>it(t.client.session.get(We)),500))}});return function(l){return a.apply(this,arguments)}}(),this.reject=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidReject(l);const{id:d,reason:p}=l,{pairingTopic:E}=t.client.proposal.get(d);E&&(yield t.sendError(d,E,p),yield t.client.proposal.delete(d,Wt("USER_DISCONNECTED")))});return function(l){return a.apply(this,arguments)}}(),this.update=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidUpdate(l);const{topic:d,namespaces:p}=l,E=yield t.sendRequest({topic:d,method:"wc_sessionUpdate",params:{namespaces:p}}),{done:F,resolve:P,reject:j}=rs();return t.events.once(ar("session_update",E),({error:ie})=>{ie?j(ie):P()}),yield t.client.session.update(d,{namespaces:p}),{acknowledged:F}});return function(l){return a.apply(this,arguments)}}(),this.extend=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidExtend(l);const{topic:d}=l,p=yield t.sendRequest({topic:d,method:"wc_sessionExtend",params:{}}),{done:E,resolve:F,reject:P}=rs();return t.events.once(ar("session_extend",p),({error:j})=>{j?P(j):F()}),yield t.setExpiry(d,nn(Vo)),{acknowledged:E}});return function(l){return a.apply(this,arguments)}}(),this.request=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidRequest(l);const{chainId:d,request:p,topic:E,expiry:F=Jn.wc_sessionRequest.req.ttl}=l,P=Hu(),{done:j,resolve:ie,reject:be}=rs(F,"Request expired. Please try again.");return t.events.once(ar("session_request",P),({error:Ne,result:ye})=>{Ne?be(Ne):ie(ye)}),yield Promise.all([new Promise(function(){var Ne=(0,w.Z)(function*(ye){yield t.sendRequest({clientRpcId:P,topic:E,method:"wc_sessionRequest",params:{request:cs(zr({},p),{expiryTimestamp:nn(F)}),chainId:d},expiry:F,throwOnFailedPublish:!0}).catch(Me=>be(Me)),t.client.events.emit("session_request_sent",{topic:E,request:p,chainId:d,id:P}),ye()});return function(ye){return Ne.apply(this,arguments)}}()),new Promise(function(){var Ne=(0,w.Z)(function*(ye){const Me=yield function Jg(o,e){return Iu.apply(this,arguments)}(t.client.core.storage,ph);(function Gg(o){Du.apply(this,arguments)})({id:P,topic:E,wcDeepLink:Me}),ye()});return function(ye){return Ne.apply(this,arguments)}}()),j()]).then(Ne=>Ne[2])});return function(l){return a.apply(this,arguments)}}(),this.respond=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidRespond(l);const{topic:d,response:p}=l,{id:E}=p;kn(p)?yield t.sendResult({id:E,topic:d,result:p.result,throwOnFailedPublish:!0}):Sn(p)&&(yield t.sendError(E,d,p.error)),t.cleanupAfterResponse(l)});return function(l){return a.apply(this,arguments)}}(),this.ping=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidPing(l);const{topic:d}=l;if(t.client.session.keys.includes(d)){const p=yield t.sendRequest({topic:d,method:"wc_sessionPing",params:{}}),{done:E,resolve:F,reject:P}=rs();t.events.once(ar("session_ping",p),({error:j})=>{j?P(j):F()}),yield E()}else t.client.core.pairing.pairings.keys.includes(d)&&(yield t.client.core.pairing.ping({topic:d}))});return function(l){return a.apply(this,arguments)}}(),this.emit=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidEmit(l);const{topic:d,event:p,chainId:E}=l;yield t.sendRequest({topic:d,method:"wc_sessionEvent",params:{event:p,chainId:E}})});return function(l){return a.apply(this,arguments)}}(),this.disconnect=function(){var a=(0,w.Z)(function*(l){yield t.isInitialized(),yield t.isValidDisconnect(l);const{topic:d}=l;if(t.client.session.keys.includes(d))yield t.sendRequest({topic:d,method:"wc_sessionDelete",params:Wt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),yield t.deleteSession({topic:d,emitEvent:!1});else{if(!t.client.core.pairing.pairings.keys.includes(d)){const{message:p}=Le("MISMATCHED_TOPIC",`Session or pairing topic not found: ${d}`);throw new Error(p)}yield t.client.core.pairing.disconnect({topic:d})}});return function(l){return a.apply(this,arguments)}}(),this.find=a=>(this.isInitialized(),this.client.session.getAll().filter(l=>function w0(o,e){const{requiredNamespaces:t}=e,a=Object.keys(o.namespaces),l=Object.keys(t);let d=!0;return!!Ri(l,a)&&(a.forEach(p=>{const{accounts:E,methods:F,events:P}=o.namespaces[p],j=ns(E),ie=t[p];Ri(gu(p,ie),j)&&Ri(ie.methods,F)&&Ri(ie.events,P)||(d=!1)}),d)}(l,a))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=function(){var a=(0,w.Z)(function*(l){if(l.pairingTopic)try{const d=t.client.core.pairing.pairings.get(l.pairingTopic),p=t.client.core.pairing.pairings.getAll().filter(E=>{var F,P;return(null==(F=E.peerMetadata)?void 0:F.url)&&(null==(P=E.peerMetadata)?void 0:P.url)===l.peer.metadata.url&&E.topic&&E.topic!==d.topic});if(0===p.length)return;t.client.logger.info(`Cleaning up ${p.length} duplicate pairing(s)`),yield Promise.all(p.map(E=>t.client.core.pairing.disconnect({topic:E.topic}))),t.client.logger.info("Duplicate pairings clean up finished")}catch(d){t.client.logger.error(d)}});return function(l){return a.apply(this,arguments)}}(),this.deleteSession=function(){var a=(0,w.Z)(function*(l){const{topic:d,expirerHasDeleted:p=!1,emitEvent:E=!0,id:F=0}=l,{self:P}=t.client.session.get(d);yield t.client.core.relayer.unsubscribe(d),yield t.client.session.delete(d,Wt("USER_DISCONNECTED")),t.client.core.crypto.keychain.has(P.publicKey)&&(yield t.client.core.crypto.deleteKeyPair(P.publicKey)),t.client.core.crypto.keychain.has(d)&&(yield t.client.core.crypto.deleteSymKey(d)),p||t.client.core.expirer.del(d),t.client.core.storage.removeItem(ph).catch(j=>t.client.logger.warn(j)),t.getPendingSessionRequests().forEach(j=>{j.topic===d&&t.deletePendingSessionRequest(j.id,Wt("USER_DISCONNECTED"))}),E&&t.client.events.emit("session_delete",{id:F,topic:d})});return function(l){return a.apply(this,arguments)}}(),this.deleteProposal=function(){var a=(0,w.Z)(function*(l,d){yield Promise.all([t.client.proposal.delete(l,Wt("USER_DISCONNECTED")),d?Promise.resolve():t.client.core.expirer.del(l)])});return function(l,d){return a.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var a=(0,w.Z)(function*(l,d,p=!1){yield Promise.all([t.client.pendingRequest.delete(l,d),p?Promise.resolve():t.client.core.expirer.del(l)]),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter(E=>E.id!==l),p&&(t.sessionRequestQueue.state="IDLE",t.client.events.emit("session_request_expire",{id:l}))});return function(l,d){return a.apply(this,arguments)}}(),this.setExpiry=function(){var a=(0,w.Z)(function*(l,d){t.client.session.keys.includes(l)&&(yield t.client.session.update(l,{expiry:d})),t.client.core.expirer.set(l,d)});return function(l,d){return a.apply(this,arguments)}}(),this.setProposal=function(){var a=(0,w.Z)(function*(l,d){yield t.client.proposal.set(l,d),t.client.core.expirer.set(l,nn(Jn.wc_sessionPropose.req.ttl))});return function(l,d){return a.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var a=(0,w.Z)(function*(l){const{id:d,topic:p,params:E,verifyContext:F}=l,P=E.request.expiryTimestamp||nn(Jn.wc_sessionRequest.req.ttl);yield t.client.pendingRequest.set(d,{id:d,topic:p,params:E,verifyContext:F}),P&&t.client.core.expirer.set(d,P)});return function(l){return a.apply(this,arguments)}}(),this.sendRequest=function(){var a=(0,w.Z)(function*(l){const{topic:d,method:p,params:E,expiry:F,relayRpcId:P,clientRpcId:j,throwOnFailedPublish:ie}=l,be=as(p,E,j);if(es()&&_1.includes(p)){const Me=Qi(JSON.stringify(be));t.client.core.verify.register({attestationId:Me})}const Ne=yield t.client.core.crypto.encode(d,be),ye=Jn[p].req;return F&&(ye.ttl=F),P&&(ye.id=P),t.client.core.history.set(d,be),ie?(ye.internal=cs(zr({},ye.internal),{throwOnFailedPublish:!0}),yield t.client.core.relayer.publish(d,Ne,ye)):t.client.core.relayer.publish(d,Ne,ye).catch(Me=>t.client.logger.error(Me)),be.id});return function(l){return a.apply(this,arguments)}}(),this.sendResult=function(){var a=(0,w.Z)(function*(l){const{id:d,topic:p,result:E,throwOnFailedPublish:F}=l,P=Bo(d,E),j=yield t.client.core.crypto.encode(p,P),ie=yield t.client.core.history.get(p,d),be=Jn[ie.request.method].res;F?(be.internal=cs(zr({},be.internal),{throwOnFailedPublish:!0}),yield t.client.core.relayer.publish(p,j,be)):t.client.core.relayer.publish(p,j,be).catch(Ne=>t.client.logger.error(Ne)),yield t.client.core.history.resolve(P)});return function(l){return a.apply(this,arguments)}}(),this.sendError=function(){var a=(0,w.Z)(function*(l,d,p){const E=Ho(l,p),F=yield t.client.core.crypto.encode(d,E),P=yield t.client.core.history.get(d,l);t.client.core.relayer.publish(d,F,Jn[P.request.method].res),yield t.client.core.history.resolve(E)});return function(l,d,p){return a.apply(this,arguments)}}(),this.cleanup=(0,w.Z)(function*(){const a=[],l=[];t.client.session.getAll().forEach(d=>{let p=!1;hi(d.expiry)&&(p=!0),t.client.core.crypto.keychain.has(d.topic)||(p=!0),p&&a.push(d.topic)}),t.client.proposal.getAll().forEach(d=>{hi(d.expiryTimestamp)&&l.push(d.id)}),yield Promise.all([...a.map(d=>t.deleteSession({topic:d})),...l.map(d=>t.deleteProposal(d))])}),this.onRelayEventRequest=function(){var a=(0,w.Z)(function*(l){t.requestQueue.queue.push(l),yield t.processRequestsQueue()});return function(l){return a.apply(this,arguments)}}(),this.processRequestsQueue=(0,w.Z)(function*(){if("ACTIVE"!==t.requestQueue.state){for(t.client.logger.info(`Request queue starting with ${t.requestQueue.queue.length} requests`);t.requestQueue.queue.length>0;){t.requestQueue.state="ACTIVE";const a=t.requestQueue.queue.shift();if(a)try{t.processRequest(a),yield new Promise(l=>setTimeout(l,300))}catch(l){t.client.logger.warn(l)}}t.requestQueue.state="IDLE"}else t.client.logger.info("Request queue already active, skipping...")}),this.processRequest=a=>{const{topic:l,payload:d}=a,p=d.method;switch(p){case"wc_sessionPropose":return this.onSessionProposeRequest(l,d);case"wc_sessionSettle":return this.onSessionSettleRequest(l,d);case"wc_sessionUpdate":return this.onSessionUpdateRequest(l,d);case"wc_sessionExtend":return this.onSessionExtendRequest(l,d);case"wc_sessionPing":return this.onSessionPingRequest(l,d);case"wc_sessionDelete":return this.onSessionDeleteRequest(l,d);case"wc_sessionRequest":return this.onSessionRequest(l,d);case"wc_sessionEvent":return this.onSessionEventRequest(l,d);default:return this.client.logger.info(`Unsupported request method ${p}`)}},this.onRelayEventResponse=function(){var a=(0,w.Z)(function*(l){const{topic:d,payload:p}=l,E=(yield t.client.core.history.get(d,p.id)).request.method;switch(E){case"wc_sessionPropose":return t.onSessionProposeResponse(d,p);case"wc_sessionSettle":return t.onSessionSettleResponse(d,p);case"wc_sessionUpdate":return t.onSessionUpdateResponse(d,p);case"wc_sessionExtend":return t.onSessionExtendResponse(d,p);case"wc_sessionPing":return t.onSessionPingResponse(d,p);case"wc_sessionRequest":return t.onSessionRequestResponse(d,p);default:return t.client.logger.info(`Unsupported response method ${E}`)}});return function(l){return a.apply(this,arguments)}}(),this.onRelayEventUnknownPayload=a=>{const{topic:l}=a,{message:d}=Le("MISSING_OR_INVALID",`Decoded payload on topic ${l} is not identifiable as a JSON-RPC request or a response.`);throw new Error(d)},this.onSessionProposeRequest=function(){var a=(0,w.Z)(function*(l,d){const{params:p,id:E}=d;try{t.isValidConnect(zr({},d.params));const F=p.expiryTimestamp||nn(Jn.wc_sessionPropose.req.ttl),P=zr({id:E,pairingTopic:l,expiryTimestamp:F},p);yield t.setProposal(E,P);const j=Qi(JSON.stringify(d)),ie=yield t.getVerifyContext(j,P.proposer.metadata);t.client.events.emit("session_proposal",{id:E,params:P,verifyContext:ie})}catch(F){yield t.sendError(E,l,F),t.client.logger.error(F)}});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var a=(0,w.Z)(function*(l,d){const{id:p}=d;if(kn(d)){const{result:E}=d;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:E});const F=t.client.proposal.get(p);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:F});const P=F.proposer.publicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:P});const j=E.responderPublicKey;t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:j});const ie=yield t.client.core.crypto.generateSharedKey(P,j);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:ie});const be=yield t.client.core.relayer.subscribe(ie);t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:be}),yield t.client.core.pairing.activate({topic:l})}else Sn(d)&&(yield t.client.proposal.delete(p,Wt("USER_DISCONNECTED")),t.events.emit(ar("session_connect"),{error:d.error}))});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var a=(0,w.Z)(function*(l,d){const{id:p,params:E}=d;try{t.isValidSessionSettleRequest(E);const{relay:F,controller:P,expiry:j,namespaces:ie,sessionProperties:be,pairingTopic:Ne}=d.params,ye=zr({topic:l,relay:F,expiry:j,namespaces:ie,acknowledged:!0,pairingTopic:Ne,requiredNamespaces:{},optionalNamespaces:{},controller:P.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:P.publicKey,metadata:P.metadata}},be&&{sessionProperties:be});yield t.sendResult({id:d.id,topic:l,result:!0}),t.events.emit(ar("session_connect"),{session:ye}),t.cleanupDuplicatePairings(ye)}catch(F){yield t.sendError(p,l,F),t.client.logger.error(F)}});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var a=(0,w.Z)(function*(l,d){const{id:p}=d;kn(d)?(yield t.client.session.update(l,{acknowledged:!0}),t.events.emit(ar("session_approve",p),{})):Sn(d)&&(yield t.client.session.delete(l,Wt("USER_DISCONNECTED")),t.events.emit(ar("session_approve",p),{error:d.error}))});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var a=(0,w.Z)(function*(l,d){const{params:p,id:E}=d;try{const F=`${l}_session_update`,P=To.get(F);if(P&&t.isRequestOutOfSync(P,E))return void t.client.logger.info(`Discarding out of sync request - ${E}`);t.isValidUpdate(zr({topic:l},p)),yield t.client.session.update(l,{namespaces:p.namespaces}),yield t.sendResult({id:E,topic:l,result:!0}),t.client.events.emit("session_update",{id:E,topic:l,params:p}),To.set(F,E)}catch(F){yield t.sendError(E,l,F),t.client.logger.error(F)}});return function(l,d){return a.apply(this,arguments)}}(),this.isRequestOutOfSync=(a,l)=>parseInt(l.toString().slice(0,-3))<=parseInt(a.toString().slice(0,-3)),this.onSessionUpdateResponse=(a,l)=>{const{id:d}=l;kn(l)?this.events.emit(ar("session_update",d),{}):Sn(l)&&this.events.emit(ar("session_update",d),{error:l.error})},this.onSessionExtendRequest=function(){var a=(0,w.Z)(function*(l,d){const{id:p}=d;try{t.isValidExtend({topic:l}),yield t.setExpiry(l,nn(Vo)),yield t.sendResult({id:p,topic:l,result:!0}),t.client.events.emit("session_extend",{id:p,topic:l})}catch(E){yield t.sendError(p,l,E),t.client.logger.error(E)}});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionExtendResponse=(a,l)=>{const{id:d}=l;kn(l)?this.events.emit(ar("session_extend",d),{}):Sn(l)&&this.events.emit(ar("session_extend",d),{error:l.error})},this.onSessionPingRequest=function(){var a=(0,w.Z)(function*(l,d){const{id:p}=d;try{t.isValidPing({topic:l}),yield t.sendResult({id:p,topic:l,result:!0}),t.client.events.emit("session_ping",{id:p,topic:l})}catch(E){yield t.sendError(p,l,E),t.client.logger.error(E)}});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionPingResponse=(a,l)=>{const{id:d}=l;setTimeout(()=>{kn(l)?this.events.emit(ar("session_ping",d),{}):Sn(l)&&this.events.emit(ar("session_ping",d),{error:l.error})},500)},this.onSessionDeleteRequest=function(){var a=(0,w.Z)(function*(l,d){const{id:p}=d;try{t.isValidDisconnect({topic:l,reason:d.params}),yield Promise.all([new Promise(E=>{t.client.core.relayer.once("relayer_publish",(0,w.Z)(function*(){E(yield t.deleteSession({topic:l,id:p}))}))}),t.sendResult({id:p,topic:l,result:!0}),t.cleanupPendingSentRequestsForTopic({topic:l,error:Wt("USER_DISCONNECTED")})])}catch(E){t.client.logger.error(E)}});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionRequest=function(){var a=(0,w.Z)(function*(l,d){const{id:p,params:E}=d;try{t.isValidRequest(zr({topic:l},E));const F=Qi(JSON.stringify(as("wc_sessionRequest",E,p))),P=t.client.session.get(l),ie={id:p,topic:l,params:E,verifyContext:yield t.getVerifyContext(F,P.peer.metadata)};yield t.setPendingSessionRequest(ie),t.addSessionRequestToSessionRequestQueue(ie),t.processSessionRequestQueue()}catch(F){yield t.sendError(p,l,F),t.client.logger.error(F)}});return function(l,d){return a.apply(this,arguments)}}(),this.onSessionRequestResponse=(a,l)=>{const{id:d}=l;kn(l)?this.events.emit(ar("session_request",d),{result:l.result}):Sn(l)&&this.events.emit(ar("session_request",d),{error:l.error})},this.onSessionEventRequest=function(){var a=(0,w.Z)(function*(l,d){const{id:p,params:E}=d;try{const F=`${l}_session_event_${E.event.name}`,P=To.get(F);if(P&&t.isRequestOutOfSync(P,p))return void t.client.logger.info(`Discarding out of sync request - ${p}`);t.isValidEmit(zr({topic:l},E)),t.client.events.emit("session_event",{id:p,topic:l,params:E}),To.set(F,p)}catch(F){yield t.sendError(p,l,F),t.client.logger.error(F)}});return function(l,d){return a.apply(this,arguments)}}(),this.addSessionRequestToSessionRequestQueue=a=>{this.sessionRequestQueue.queue.push(a)},this.cleanupAfterResponse=a=>{this.deletePendingSessionRequest(a.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state="IDLE",this.processSessionRequestQueue()},(0,Be.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:a,error:l})=>{const d=this.client.core.history.pending;d.length>0&&d.filter(p=>p.topic===a&&"wc_sessionRequest"===p.request.method).forEach(p=>{this.events.emit(ar("session_request",p.request.id),{error:l})})},this.processSessionRequestQueue=()=>{if("ACTIVE"===this.sessionRequestQueue.state)return void this.client.logger.info("session request queue is already active.");const a=this.sessionRequestQueue.queue[0];if(a)try{this.sessionRequestQueue.state="ACTIVE",this.client.events.emit("session_request",a)}catch(l){this.client.logger.error(l)}else this.client.logger.info("session request queue is empty.")},this.onPairingCreated=a=>{if(a.active)return;const l=this.client.proposal.getAll().find(d=>d.pairingTopic===a.topic);l&&this.onSessionProposeRequest(a.topic,as("wc_sessionPropose",{requiredNamespaces:l.requiredNamespaces,optionalNamespaces:l.optionalNamespaces,relays:l.relays,proposer:l.proposer,sessionProperties:l.sessionProperties},l.id))},this.isValidConnect=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:j}=Le("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(l)}`);throw new Error(j)}const{pairingTopic:d,requiredNamespaces:p,optionalNamespaces:E,sessionProperties:F,relays:P}=l;if(Mr(d)||(yield t.isValidPairingTopic(d)),!function N0(o,e){let t=!1;return e&&!o?t=!0:o&&Mn(o)&&o.length&&o.forEach(a=>{t=Xl(a)}),t}(P,!0)){const{message:j}=Le("MISSING_OR_INVALID",`connect() relays: ${P}`);throw new Error(j)}!Mr(p)&&0!==ss(p)&&t.validateNamespaces(p,"requiredNamespaces"),!Mr(E)&&0!==ss(E)&&t.validateNamespaces(E,"optionalNamespaces"),Mr(F)||t.validateSessionProps(F,"sessionProperties")});return function(l){return a.apply(this,arguments)}}(),this.validateNamespaces=(a,l)=>{const d=function T0(o,e,t){let a=null;if(o&&ss(o)){const l=Ql(o,e);l&&(a=l);const d=function P0(o,e,t){let a=null;return Object.entries(o).forEach(([l,d])=>{if(a)return;const p=function O0(o,e,t){let a=null;return Mn(e)&&e.length?e.forEach(l=>{a||Co(l)||(a=Wt("UNSUPPORTED_CHAINS",`${t}, chain ${l} should be a string and conform to "namespace:chainId" format`))}):Co(o)||(a=Wt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a}(l,gu(l,d),`${e} ${t}`);p&&(a=p)}),a}(o,e,t);d&&(a=d)}else a=Le("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return a}(a,"connect()",l);if(d)throw new Error(d.message)},this.isValidApprove=function(){var a=(0,w.Z)(function*(l){if(!Kr(l))throw new Error(Le("MISSING_OR_INVALID",`approve() params: ${l}`).message);const{id:d,namespaces:p,relayProtocol:E,sessionProperties:F}=l;yield t.isValidProposalId(d);const P=t.client.proposal.get(d),j=Ro(p,"approve()");if(j)throw new Error(j.message);const ie=Pu(P.requiredNamespaces,p,"approve()");if(ie)throw new Error(ie.message);if(!Dr(E,!0)){const{message:be}=Le("MISSING_OR_INVALID",`approve() relayProtocol: ${E}`);throw new Error(be)}Mr(F)||t.validateSessionProps(F,"sessionProperties")});return function(l){return a.apply(this,arguments)}}(),this.isValidReject=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:E}=Le("MISSING_OR_INVALID",`reject() params: ${l}`);throw new Error(E)}const{id:d,reason:p}=l;if(yield t.isValidProposalId(d),!function U0(o){return!!(o&&"object"==typeof o&&o.code&&Ou(o.code,!1)&&o.message&&Dr(o.message,!1))}(p)){const{message:E}=Le("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(p)}`);throw new Error(E)}});return function(l){return a.apply(this,arguments)}}(),this.isValidSessionSettleRequest=a=>{if(!Kr(a)){const{message:j}=Le("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${a}`);throw new Error(j)}const{relay:l,controller:d,namespaces:p,expiry:E}=a;if(!Xl(l)){const{message:j}=Le("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(j)}const F=function S0(o,e){let t=null;return Dr(o?.publicKey,!1)||(t=Le("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}(d,"onSessionSettleRequest()");if(F)throw new Error(F.message);const P=Ro(p,"onSessionSettleRequest()");if(P)throw new Error(P.message);if(hi(E)){const{message:j}=Le("EXPIRED","onSessionSettleRequest()");throw new Error(j)}},this.isValidUpdate=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:j}=Le("MISSING_OR_INVALID",`update() params: ${l}`);throw new Error(j)}const{topic:d,namespaces:p}=l;yield t.isValidSessionTopic(d);const E=t.client.session.get(d),F=Ro(p,"update()");if(F)throw new Error(F.message);const P=Pu(E.requiredNamespaces,p,"update()");if(P)throw new Error(P.message)});return function(l){return a.apply(this,arguments)}}(),this.isValidExtend=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:p}=Le("MISSING_OR_INVALID",`extend() params: ${l}`);throw new Error(p)}const{topic:d}=l;yield t.isValidSessionTopic(d)});return function(l){return a.apply(this,arguments)}}(),this.isValidRequest=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:j}=Le("MISSING_OR_INVALID",`request() params: ${l}`);throw new Error(j)}const{topic:d,request:p,chainId:E,expiry:F}=l;yield t.isValidSessionTopic(d);const{namespaces:P}=t.client.session.get(d);if(!ef(P,E)){const{message:j}=Le("MISSING_OR_INVALID",`request() chainId: ${E}`);throw new Error(j)}if(!function j0(o){return!(Mr(o)||!Dr(o.method,!1))}(p)){const{message:j}=Le("MISSING_OR_INVALID",`request() ${JSON.stringify(p)}`);throw new Error(j)}if(!function z0(o,e,t){return!!Dr(t,!1)&&function y0(o,e){const t=[];return Object.values(o).forEach(a=>{ns(a.accounts).includes(e)&&t.push(...a.methods)}),t}(o,e).includes(t)}(P,E,p.method)){const{message:j}=Le("MISSING_OR_INVALID",`request() method: ${p.method}`);throw new Error(j)}if(F&&!function Z0(o,e){return Ou(o,!1)&&o<=e.max&&o>=e.min}(F,ec)){const{message:j}=Le("MISSING_OR_INVALID",`request() expiry: ${F}. Expiry must be a number (in seconds) between ${ec.min} and ${ec.max}`);throw new Error(j)}});return function(l){return a.apply(this,arguments)}}(),this.isValidRespond=function(){var a=(0,w.Z)(function*(l){var d;if(!Kr(l)){const{message:F}=Le("MISSING_OR_INVALID",`respond() params: ${l}`);throw new Error(F)}const{topic:p,response:E}=l;try{yield t.isValidSessionTopic(p)}catch(F){throw null!=(d=l?.response)&&d.id&&t.cleanupAfterResponse(l),F}if(!function L0(o){return!(Mr(o)||Mr(o.result)&&Mr(o.error)||!Ou(o.id,!1)||!Dr(o.jsonrpc,!1))}(E)){const{message:F}=Le("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(E)}`);throw new Error(F)}});return function(l){return a.apply(this,arguments)}}(),this.isValidPing=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:p}=Le("MISSING_OR_INVALID",`ping() params: ${l}`);throw new Error(p)}const{topic:d}=l;yield t.isValidSessionOrPairingTopic(d)});return function(l){return a.apply(this,arguments)}}(),this.isValidEmit=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:P}=Le("MISSING_OR_INVALID",`emit() params: ${l}`);throw new Error(P)}const{topic:d,event:p,chainId:E}=l;yield t.isValidSessionTopic(d);const{namespaces:F}=t.client.session.get(d);if(!ef(F,E)){const{message:P}=Le("MISSING_OR_INVALID",`emit() chainId: ${E}`);throw new Error(P)}if(!function M0(o){return!(Mr(o)||!Dr(o.name,!1))}(p)){const{message:P}=Le("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(p)}`);throw new Error(P)}if(!function $0(o,e,t){return!!Dr(t,!1)&&function v0(o,e){const t=[];return Object.values(o).forEach(a=>{ns(a.accounts).includes(e)&&t.push(...a.events)}),t}(o,e).includes(t)}(F,E,p.name)){const{message:P}=Le("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(p)}`);throw new Error(P)}});return function(l){return a.apply(this,arguments)}}(),this.isValidDisconnect=function(){var a=(0,w.Z)(function*(l){if(!Kr(l)){const{message:p}=Le("MISSING_OR_INVALID",`disconnect() params: ${l}`);throw new Error(p)}const{topic:d}=l;yield t.isValidSessionOrPairingTopic(d)});return function(l){return a.apply(this,arguments)}}(),this.getVerifyContext=function(){var a=(0,w.Z)(function*(l,d){const p={verified:{verifyUrl:d.verifyUrl||us,validation:"UNKNOWN",origin:d.url||""}};try{const E=yield t.client.core.verify.resolve({attestationId:l,verifyUrl:d.verifyUrl});E&&(p.verified.origin=E.origin,p.verified.isScam=E.isScam,p.verified.validation=E.origin===new URL(d.url).origin?"VALID":"INVALID")}catch(E){t.client.logger.info(E)}return t.client.logger.info(`Verify context: ${JSON.stringify(p)}`),p});return function(l,d){return a.apply(this,arguments)}}(),this.validateSessionProps=(a,l)=>{Object.values(a).forEach(d=>{if(!Dr(d,!1)){const{message:p}=Le("MISSING_OR_INVALID",`${l} must be in Record<string, string> format. Received: ${JSON.stringify(d)}`);throw new Error(p)}})}}isInitialized(){var e=this;return(0,w.Z)(function*(){if(!e.initialized){const{message:t}=Le("NOT_INITIALIZED",e.name);throw new Error(t)}yield e.client.core.relayer.confirmOnlineStateOrThrow()})()}registerRelayerEvents(){var e=this;this.client.core.relayer.on("relayer_message",function(){var t=(0,w.Z)(function*(a){const{topic:l,message:d}=a;if(e.ignoredPayloadTypes.includes(e.client.core.crypto.getPayloadType(d)))return;const p=yield e.client.core.crypto.decode(l,d);try{Zu(p)?(e.client.core.history.set(l,p),e.onRelayEventRequest({topic:l,payload:p})):Zo(p)?(yield e.client.core.history.resolve(p),yield e.onRelayEventResponse({topic:l,payload:p}),e.client.core.history.delete(l,p.id)):e.onRelayEventUnknownPayload({topic:l,payload:p})}catch(E){e.client.logger.error(E)}});return function(a){return t.apply(this,arguments)}}())}registerExpirerEvents(){var e=this;this.client.core.expirer.on(dn_expired,function(){var t=(0,w.Z)(function*(a){const{topic:l,id:d}=ql(a.target);if(d&&e.client.pendingRequest.keys.includes(d))return yield e.deletePendingSessionRequest(d,Le("EXPIRED"),!0);l?e.client.session.keys.includes(l)&&(yield e.deleteSession({topic:l,expirerHasDeleted:!0}),e.client.events.emit("session_expire",{topic:l})):d&&(yield e.deleteProposal(d,!0),e.client.events.emit("proposal_expire",{id:d}))});return function(a){return t.apply(this,arguments)}}())}registerPairingEvents(){this.client.core.pairing.events.on("pairing_create",e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!Dr(e,!1)){const{message:t}=Le("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=Le("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(hi(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=Le("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}isValidSessionTopic(e){var t=this;return(0,w.Z)(function*(){if(!Dr(e,!1)){const{message:a}=Le("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(a)}if(!t.client.session.keys.includes(e)){const{message:a}=Le("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(a)}if(hi(t.client.session.get(e).expiry)){yield t.deleteSession({topic:e});const{message:a}=Le("EXPIRED",`session topic: ${e}`);throw new Error(a)}if(!t.client.core.crypto.keychain.has(e)){const{message:a}=Le("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw yield t.deleteSession({topic:e}),new Error(a)}})()}isValidSessionOrPairingTopic(e){var t=this;return(0,w.Z)(function*(){if(t.client.session.keys.includes(e))yield t.isValidSessionTopic(e);else{if(!t.client.core.pairing.pairings.keys.includes(e)){if(Dr(e,!1)){const{message:a}=Le("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(a)}{const{message:a}=Le("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(a)}}t.isValidPairingTopic(e)}})()}isValidProposalId(e){var t=this;return(0,w.Z)(function*(){if(!function F0(o){return"number"==typeof o}(e)){const{message:a}=Le("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(a)}if(!t.client.proposal.keys.includes(e)){const{message:a}=Le("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(a)}if(hi(t.client.proposal.get(e).expiryTimestamp)){yield t.deleteProposal(e);const{message:a}=Le("EXPIRED",`proposal id: ${e}`);throw new Error(a)}})()}}class x1 extends Ko{constructor(e,t){super(e,t,"proposal",Qu),this.core=e,this.logger=t}}class D1 extends Ko{constructor(e,t){super(e,t,"session",Qu),this.core=e,this.logger=t}}class I1 extends Ko{constructor(e,t){super(e,t,"request",Qu,a=>a.id),this.core=e,this.logger=t}}class tc extends X_{constructor(e){var t;super(e),t=this,this.protocol="wc",this.version=2,this.name="client",this.events=new Re.EventEmitter,this.on=(l,d)=>this.events.on(l,d),this.once=(l,d)=>this.events.once(l,d),this.off=(l,d)=>this.events.off(l,d),this.removeListener=(l,d)=>this.events.removeListener(l,d),this.removeAllListeners=l=>this.events.removeAllListeners(l),this.connect=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.connect(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.pair=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.pair(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.approve=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.approve(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.reject=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.reject(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.update=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.update(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.extend=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.extend(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.request=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.request(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.respond=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.respond(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.ping=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.ping(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.emit=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.emit(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.disconnect=function(){var l=(0,w.Z)(function*(d){try{return yield t.engine.disconnect(d)}catch(p){throw t.logger.error(p.message),p}});return function(d){return l.apply(this,arguments)}}(),this.find=l=>{try{return this.engine.find(l)}catch(d){throw this.logger.error(d.message),d}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(l){throw this.logger.error(l.message),l}},this.name=e?.name||"client",this.metadata=e?.metadata||function zg(){return(0,Zr.D)()||{name:"",description:"",url:"",icons:[""]}}();const a=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:Uo()(Mo({level:e?.logger||"error"}));this.core=e?.core||new f1(e),this.logger=Gr(a,this.name),this.session=new D1(this.core,this.logger),this.proposal=new x1(this.core,this.logger),this.pendingRequest=new I1(this.core,this.logger),this.engine=new E1(this)}static init(e){return(0,w.Z)(function*(){const t=new tc(e);return yield t.initialize(),t})()}get context(){return Wr(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var e=this;return(0,w.Z)(function*(){e.logger.trace("Initialized");try{yield e.core.start(),yield e.session.init(),yield e.proposal.init(),yield e.pendingRequest.init(),yield e.engine.init(),e.core.verify.init({verifyUrl:e.metadata.verifyUrl}),e.logger.info("SignClient Initialization Success")}catch(t){throw e.logger.info("SignClient Initialization Failure"),e.logger.error(t.message),t}})()}}var S1=q(2055),vh=q.n(S1);const mh={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class wh{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new Re.EventEmitter,this.isAvailable=!1,this.registering=!1,!Pf(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(e=this.url){var t=this;return(0,w.Z)(function*(){yield t.register(e)})()}close(){var e=this;return(0,w.Z)(function*(){if(!e.isAvailable)throw new Error("Connection already closed");e.onClose()})()}send(e,t){var a=this;return(0,w.Z)(function*(){a.isAvailable||(yield a.register());try{const l=Ti(e),p=yield(yield vh()(a.url,Object.assign(Object.assign({},mh),{body:l}))).json();a.onPayload({data:p})}catch(l){a.onError(e.id,l)}})()}register(e=this.url){var t=this;return(0,w.Z)(function*(){if(!Pf(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(t.registering){const a=t.events.getMaxListeners();return(t.events.listenerCount("register_error")>=a||t.events.listenerCount("open")>=a)&&t.events.setMaxListeners(a+1),new Promise((l,d)=>{t.events.once("register_error",p=>{t.resetMaxListeners(),d(p)}),t.events.once("open",()=>{if(t.resetMaxListeners(),typeof t.isAvailable>"u")return d(new Error("HTTP connection is missing or invalid"));l()})})}t.url=e,t.registering=!0;try{if(!t.disableProviderPing){const a=Ti({id:1,jsonrpc:"2.0",method:"test",params:[]});yield vh()(e,Object.assign(Object.assign({},mh),{body:a}))}t.onOpen()}catch(a){const l=t.parseError(a);throw t.events.emit("register_error",l),t.onClose(),l}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Fs(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const a=this.parseError(t),d=Ho(e,a.message||a.toString());this.events.emit("payload",d)}parseError(e,t=this.url){return If(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Ni=wh,xh="wc@2:universal_provider:";var o,e,Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rc={exports:{}};o=rc,e=rc.exports,function(){var t,p="Expected a function",F="__lodash_hash_undefined__",j="__lodash_placeholder__",Ui=1/0,gi=9007199254740991,$n=4294967295,bb=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ls="[object Arguments]",ea="[object Array]",qs="[object Boolean]",Ks="[object Date]",ta="[object Error]",ra="[object Function]",Mh="[object GeneratorFunction]",Pn="[object Map]",Vs="[object Number]",Xn="[object Object]",zh="[object Promise]",ks="[object RegExp]",An="[object Set]",Ws="[object String]",na="[object Symbol]",Gs="[object WeakMap]",Js="[object ArrayBuffer]",fs="[object DataView]",uc="[object Float32Array]",cc="[object Float64Array]",lc="[object Int8Array]",fc="[object Int16Array]",hc="[object Int32Array]",dc="[object Uint8Array]",pc="[object Uint8ClampedArray]",gc="[object Uint16Array]",_c="[object Uint32Array]",Ob=/\b__p \+= '';/g,Pb=/\b(__p \+=) '' \+/g,Ab=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$h=/&(?:amp|lt|gt|quot|#39);/g,Bh=/[&<>"']/g,Cb=RegExp($h.source),Rb=RegExp(Bh.source),Tb=/<%-([\s\S]+?)%>/g,Nb=/<%([\s\S]+?)%>/g,Hh=/<%=([\s\S]+?)%>/g,Fb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ub=/^\w*$/,jb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yc=/[\\^$.*+?()[\]{}|]/g,Lb=RegExp(yc.source),vc=/^\s+/,Mb=/\s/,zb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$b=/\{\n\/\* \[wrapped with (.+)\] \*/,Bb=/,? & /,Hb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zb=/[()=,{}\[\]\/\s]/,qb=/\\(\\)?/g,Kb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zh=/\w*$/,Vb=/^[-+]0x[0-9a-f]+$/i,kb=/^0b[01]+$/i,Wb=/^\[object .+?Constructor\]$/,Gb=/^0o[0-7]+$/i,Jb=/^(?:0|[1-9]\d*)$/,Yb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ia=/($^)/,Qb=/['\n\r\u2028\u2029\\]/g,sa="\\ud800-\\udfff",qh="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Kh="\\u2700-\\u27bf",Vh="a-z\\xdf-\\xf6\\xf8-\\xff",kh="A-Z\\xc0-\\xd6\\xd8-\\xde",Wh="\\ufe0e\\ufe0f",Gh="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ow="["+sa+"]",Jh="["+Gh+"]",oa="["+qh+"]",Yh="\\d+",aw="["+Kh+"]",Qh="["+Vh+"]",Xh="[^"+sa+Gh+Yh+Kh+Vh+kh+"]",bc="\\ud83c[\\udffb-\\udfff]",ed="[^"+sa+"]",wc="(?:\\ud83c[\\udde6-\\uddff]){2}",Ec="[\\ud800-\\udbff][\\udc00-\\udfff]",hs="["+kh+"]",rd="(?:"+Qh+"|"+Xh+")",cw="(?:"+hs+"|"+Xh+")",nd="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",id="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",sd="(?:"+oa+"|"+bc+")?",od="["+Wh+"]?",ad=od+sd+"(?:\\u200d(?:"+[ed,wc,Ec].join("|")+")"+od+sd+")*",dw="(?:"+[aw,wc,Ec].join("|")+")"+ad,pw="(?:"+[ed+oa+"?",oa,wc,Ec,ow].join("|")+")",gw=RegExp("['\u2019]","g"),_w=RegExp(oa,"g"),xc=RegExp(bc+"(?="+bc+")|"+pw+ad,"g"),yw=RegExp([hs+"?"+Qh+"+"+nd+"(?="+[Jh,hs,"$"].join("|")+")",cw+"+"+id+"(?="+[Jh,hs+rd,"$"].join("|")+")",hs+"?"+rd+"+"+nd,hs+"+"+id,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yh,dw].join("|"),"g"),vw=RegExp("[\\u200d"+sa+qh+Wh+"]"),mw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bw=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ww=-1,kt={};kt[uc]=kt[cc]=kt[lc]=kt[fc]=kt[hc]=kt[dc]=kt[pc]=kt[gc]=kt[_c]=!0,kt[ls]=kt[ea]=kt[Js]=kt[qs]=kt[fs]=kt[Ks]=kt[ta]=kt[ra]=kt[Pn]=kt[Vs]=kt[Xn]=kt[ks]=kt[An]=kt[Ws]=kt[Gs]=!1;var Zt={};Zt[ls]=Zt[ea]=Zt[Js]=Zt[fs]=Zt[qs]=Zt[Ks]=Zt[uc]=Zt[cc]=Zt[lc]=Zt[fc]=Zt[hc]=Zt[Pn]=Zt[Vs]=Zt[Xn]=Zt[ks]=Zt[An]=Zt[Ws]=Zt[na]=Zt[dc]=Zt[pc]=Zt[gc]=Zt[_c]=!0,Zt[ta]=Zt[ra]=Zt[Gs]=!1;var Iw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sw=parseFloat,Ow=parseInt,ud="object"==typeof Hs&&Hs&&Hs.Object===Object&&Hs,Pw="object"==typeof self&&self&&self.Object===Object&&self,Cr=ud||Pw||Function("return this")(),Dc=e&&!e.nodeType&&e,ji=Dc&&o&&!o.nodeType&&o,cd=ji&&ji.exports===Dc,Ic=cd&&ud.process,pn=function(){try{return ji&&ji.require&&ji.require("util").types||Ic&&Ic.binding&&Ic.binding("util")}catch{}}(),ld=pn&&pn.isArrayBuffer,fd=pn&&pn.isDate,hd=pn&&pn.isMap,dd=pn&&pn.isRegExp,pd=pn&&pn.isSet,gd=pn&&pn.isTypedArray;function sn(ne,Ee,ve){switch(ve.length){case 0:return ne.call(Ee);case 1:return ne.call(Ee,ve[0]);case 2:return ne.call(Ee,ve[0],ve[1]);case 3:return ne.call(Ee,ve[0],ve[1],ve[2])}return ne.apply(Ee,ve)}function Aw(ne,Ee,ve,qe){for(var st=-1,jt=null==ne?0:ne.length;++st<jt;){var mr=ne[st];Ee(qe,mr,ve(mr),ne)}return qe}function gn(ne,Ee){for(var ve=-1,qe=null==ne?0:ne.length;++ve<qe&&!1!==Ee(ne[ve],ve,ne););return ne}function Cw(ne,Ee){for(var ve=null==ne?0:ne.length;ve--&&!1!==Ee(ne[ve],ve,ne););return ne}function _d(ne,Ee){for(var ve=-1,qe=null==ne?0:ne.length;++ve<qe;)if(!Ee(ne[ve],ve,ne))return!1;return!0}function _i(ne,Ee){for(var ve=-1,qe=null==ne?0:ne.length,st=0,jt=[];++ve<qe;){var mr=ne[ve];Ee(mr,ve,ne)&&(jt[st++]=mr)}return jt}function aa(ne,Ee){return!(null==ne||!ne.length)&&ds(ne,Ee,0)>-1}function Sc(ne,Ee,ve){for(var qe=-1,st=null==ne?0:ne.length;++qe<st;)if(ve(Ee,ne[qe]))return!0;return!1}function Jt(ne,Ee){for(var ve=-1,qe=null==ne?0:ne.length,st=Array(qe);++ve<qe;)st[ve]=Ee(ne[ve],ve,ne);return st}function yi(ne,Ee){for(var ve=-1,qe=Ee.length,st=ne.length;++ve<qe;)ne[st+ve]=Ee[ve];return ne}function Oc(ne,Ee,ve,qe){var st=-1,jt=null==ne?0:ne.length;for(qe&&jt&&(ve=ne[++st]);++st<jt;)ve=Ee(ve,ne[st],st,ne);return ve}function Rw(ne,Ee,ve,qe){var st=null==ne?0:ne.length;for(qe&&st&&(ve=ne[--st]);st--;)ve=Ee(ve,ne[st],st,ne);return ve}function Pc(ne,Ee){for(var ve=-1,qe=null==ne?0:ne.length;++ve<qe;)if(Ee(ne[ve],ve,ne))return!0;return!1}var Tw=Ac("length");function yd(ne,Ee,ve){var qe;return ve(ne,function(st,jt,mr){if(Ee(st,jt,mr))return qe=jt,!1}),qe}function ua(ne,Ee,ve,qe){for(var st=ne.length,jt=ve+(qe?1:-1);qe?jt--:++jt<st;)if(Ee(ne[jt],jt,ne))return jt;return-1}function ds(ne,Ee,ve){return Ee==Ee?function Vw(ne,Ee,ve){for(var qe=ve-1,st=ne.length;++qe<st;)if(ne[qe]===Ee)return qe;return-1}(ne,Ee,ve):ua(ne,vd,ve)}function Uw(ne,Ee,ve,qe){for(var st=ve-1,jt=ne.length;++st<jt;)if(qe(ne[st],Ee))return st;return-1}function vd(ne){return ne!=ne}function md(ne,Ee){var ve=null==ne?0:ne.length;return ve?Rc(ne,Ee)/ve:NaN}function Ac(ne){return function(Ee){return null==Ee?t:Ee[ne]}}function Cc(ne){return function(Ee){return null==ne?t:ne[Ee]}}function bd(ne,Ee,ve,qe,st){return st(ne,function(jt,mr,Bt){ve=qe?(qe=!1,jt):Ee(ve,jt,mr,Bt)}),ve}function Rc(ne,Ee){for(var ve,qe=-1,st=ne.length;++qe<st;){var jt=Ee(ne[qe]);jt!==t&&(ve=ve===t?jt:ve+jt)}return ve}function Tc(ne,Ee){for(var ve=-1,qe=Array(ne);++ve<ne;)qe[ve]=Ee(ve);return qe}function wd(ne){return ne&&ne.slice(0,Id(ne)+1).replace(vc,"")}function on(ne){return function(Ee){return ne(Ee)}}function Nc(ne,Ee){return Jt(Ee,function(ve){return ne[ve]})}function Ys(ne,Ee){return ne.has(Ee)}function Ed(ne,Ee){for(var ve=-1,qe=ne.length;++ve<qe&&ds(Ee,ne[ve],0)>-1;);return ve}function xd(ne,Ee){for(var ve=ne.length;ve--&&ds(Ee,ne[ve],0)>-1;);return ve}var zw=Cc({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),$w=Cc({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Bw(ne){return"\\"+Iw[ne]}function ps(ne){return vw.test(ne)}function Fc(ne){var Ee=-1,ve=Array(ne.size);return ne.forEach(function(qe,st){ve[++Ee]=[st,qe]}),ve}function Dd(ne,Ee){return function(ve){return ne(Ee(ve))}}function vi(ne,Ee){for(var ve=-1,qe=ne.length,st=0,jt=[];++ve<qe;){var mr=ne[ve];(mr===Ee||mr===j)&&(ne[ve]=j,jt[st++]=ve)}return jt}function ca(ne){var Ee=-1,ve=Array(ne.size);return ne.forEach(function(qe){ve[++Ee]=qe}),ve}function gs(ne){return ps(ne)?function Gw(ne){for(var Ee=xc.lastIndex=0;xc.test(ne);)++Ee;return Ee}(ne):Tw(ne)}function Cn(ne){return ps(ne)?function Jw(ne){return ne.match(xc)||[]}(ne):function Nw(ne){return ne.split("")}(ne)}function Id(ne){for(var Ee=ne.length;Ee--&&Mb.test(ne.charAt(Ee)););return Ee}var Ww=Cc({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_s=function ne(Ee){var r,ve=(Ee=null==Ee?Cr:_s.defaults(Cr.Object(),Ee,_s.pick(Cr,bw))).Array,qe=Ee.Date,st=Ee.Error,jt=Ee.Function,mr=Ee.Math,Bt=Ee.Object,Uc=Ee.RegExp,Xw=Ee.String,_n=Ee.TypeError,la=ve.prototype,ys=Bt.prototype,fa=Ee["__core-js_shared__"],ha=jt.prototype.toString,Mt=ys.hasOwnProperty,tE=0,Sd=(r=/[^.]+$/.exec(fa&&fa.keys&&fa.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",da=ys.toString,rE=ha.call(Bt),nE=Cr._,iE=Uc("^"+ha.call(Mt).replace(yc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pa=cd?Ee.Buffer:t,mi=Ee.Symbol,ga=Ee.Uint8Array,Od=pa?pa.allocUnsafe:t,_a=Dd(Bt.getPrototypeOf,Bt),Pd=Bt.create,Ad=ys.propertyIsEnumerable,ya=la.splice,Cd=mi?mi.isConcatSpreadable:t,Qs=mi?mi.iterator:t,Li=mi?mi.toStringTag:t,va=function(){try{var r=Hi(Bt,"defineProperty");return r({},"",{}),r}catch{}}(),sE=Ee.clearTimeout!==Cr.clearTimeout&&Ee.clearTimeout,oE=qe&&qe.now!==Cr.Date.now&&qe.now,aE=Ee.setTimeout!==Cr.setTimeout&&Ee.setTimeout,ma=mr.ceil,ba=mr.floor,jc=Bt.getOwnPropertySymbols,uE=pa?pa.isBuffer:t,Rd=Ee.isFinite,cE=la.join,lE=Dd(Bt.keys,Bt),br=mr.max,Fr=mr.min,fE=qe.now,hE=Ee.parseInt,Td=mr.random,dE=la.reverse,Lc=Hi(Ee,"DataView"),Xs=Hi(Ee,"Map"),Mc=Hi(Ee,"Promise"),vs=Hi(Ee,"Set"),eo=Hi(Ee,"WeakMap"),to=Hi(Bt,"create"),wa=eo&&new eo,ms={},pE=Zi(Lc),gE=Zi(Xs),_E=Zi(Mc),yE=Zi(vs),vE=Zi(eo),Ea=mi?mi.prototype:t,ro=Ea?Ea.valueOf:t,Nd=Ea?Ea.toString:t;function I(r){if(nr(r)&&!ct(r)&&!(r instanceof It)){if(r instanceof yn)return r;if(Mt.call(r,"__wrapped__"))return Fp(r)}return new yn(r)}var bs=function(){function r(){}return function(n){if(!Yt(n))return{};if(Pd)return Pd(n);r.prototype=n;var f=new r;return r.prototype=t,f}}();function xa(){}function yn(r,n){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function It(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$n,this.__views__=[]}function Mi(r){var n=-1,f=null==r?0:r.length;for(this.clear();++n<f;){var g=r[n];this.set(g[0],g[1])}}function ei(r){var n=-1,f=null==r?0:r.length;for(this.clear();++n<f;){var g=r[n];this.set(g[0],g[1])}}function ti(r){var n=-1,f=null==r?0:r.length;for(this.clear();++n<f;){var g=r[n];this.set(g[0],g[1])}}function zi(r){var n=-1,f=null==r?0:r.length;for(this.__data__=new ti;++n<f;)this.add(r[n])}function Rn(r){var n=this.__data__=new ei(r);this.size=n.size}function Fd(r,n){var f=ct(r),g=!f&&qi(r),m=!f&&!g&&Di(r),A=!f&&!g&&!m&&Ds(r),z=f||g||m||A,k=z?Tc(r.length,Xw):[],se=k.length;for(var De in r)(n||Mt.call(r,De))&&(!z||!("length"==De||m&&("offset"==De||"parent"==De)||A&&("buffer"==De||"byteLength"==De||"byteOffset"==De)||si(De,se)))&&k.push(De);return k}function Ud(r){var n=r.length;return n?r[Gc(0,n-1)]:t}function qE(r,n){return La(Jr(r),$i(n,0,r.length))}function KE(r){return La(Jr(r))}function zc(r,n,f){(f!==t&&!Tn(r[n],f)||f===t&&!(n in r))&&ri(r,n,f)}function no(r,n,f){var g=r[n];(!Mt.call(r,n)||!Tn(g,f)||f===t&&!(n in r))&&ri(r,n,f)}function Da(r,n){for(var f=r.length;f--;)if(Tn(r[f][0],n))return f;return-1}function VE(r,n,f,g){return bi(r,function(m,A,z){n(g,m,f(m),z)}),g}function jd(r,n){return r&&Hn(n,Sr(n),r)}function ri(r,n,f){"__proto__"==n&&va?va(r,n,{configurable:!0,enumerable:!0,value:f,writable:!0}):r[n]=f}function $c(r,n){for(var f=-1,g=n.length,m=ve(g),A=null==r;++f<g;)m[f]=A?t:bl(r,n[f]);return m}function $i(r,n,f){return r==r&&(f!==t&&(r=r<=f?r:f),n!==t&&(r=r>=n?r:n)),r}function vn(r,n,f,g,m,A){var z,k=1&n,se=2&n,De=4&n;if(f&&(z=m?f(r,g,m,A):f(r)),z!==t)return z;if(!Yt(r))return r;var Se=ct(r);if(Se){if(z=function U3(r){var n=r.length,f=new r.constructor(n);return n&&"string"==typeof r[0]&&Mt.call(r,"index")&&(f.index=r.index,f.input=r.input),f}(r),!k)return Jr(r,z)}else{var Te=Ur(r),ze=Te==ra||Te==Mh;if(Di(r))return op(r,k);if(Te==Xn||Te==ls||ze&&!m){if(z=se||ze?{}:Ip(r),!k)return se?function D3(r,n){return Hn(r,xp(r),n)}(r,function kE(r,n){return r&&Hn(n,Qr(n),r)}(z,r)):function x3(r,n){return Hn(r,cl(r),n)}(r,jd(z,r))}else{if(!Zt[Te])return m?r:{};z=function j3(r,n,f){var g=r.constructor;switch(n){case Js:return rl(r);case qs:case Ks:return new g(+r);case fs:return function m3(r,n){var f=n?rl(r.buffer):r.buffer;return new r.constructor(f,r.byteOffset,r.byteLength)}(r,f);case uc:case cc:case lc:case fc:case hc:case dc:case pc:case gc:case _c:return ap(r,f);case Pn:return new g;case Vs:case Ws:return new g(r);case ks:return function b3(r){var n=new r.constructor(r.source,Zh.exec(r));return n.lastIndex=r.lastIndex,n}(r);case An:return new g;case na:return function w3(r){return ro?Bt(ro.call(r)):{}}(r)}}(r,Te,k)}}A||(A=new Rn);var ke=A.get(r);if(ke)return ke;A.set(r,z),eg(r)?r.forEach(function(Xe){z.add(vn(Xe,n,f,Xe,r,A))}):Qp(r)&&r.forEach(function(Xe,wt){z.set(wt,vn(Xe,n,f,wt,r,A))});var dt=Se?t:(De?se?ol:sl:se?Qr:Sr)(r);return gn(dt||r,function(Xe,wt){dt&&(Xe=r[wt=Xe]),no(z,wt,vn(Xe,n,f,wt,r,A))}),z}function Ld(r,n,f){var g=f.length;if(null==r)return!g;for(r=Bt(r);g--;){var m=f[g],z=r[m];if(z===t&&!(m in r)||!(0,n[m])(z))return!1}return!0}function Md(r,n,f){if("function"!=typeof r)throw new _n(p);return lo(function(){r.apply(t,f)},n)}function io(r,n,f,g){var m=-1,A=aa,z=!0,k=r.length,se=[],De=n.length;if(!k)return se;f&&(n=Jt(n,on(f))),g?(A=Sc,z=!1):n.length>=200&&(A=Ys,z=!1,n=new zi(n));e:for(;++m<k;){var Se=r[m],Te=null==f?Se:f(Se);if(Se=g||0!==Se?Se:0,z&&Te==Te){for(var ze=De;ze--;)if(n[ze]===Te)continue e;se.push(Se)}else A(n,Te,g)||se.push(Se)}return se}I.templateSettings={escape:Tb,evaluate:Nb,interpolate:Hh,variable:"",imports:{_:I}},(I.prototype=xa.prototype).constructor=I,(yn.prototype=bs(xa.prototype)).constructor=yn,(It.prototype=bs(xa.prototype)).constructor=It,Mi.prototype.clear=function EE(){this.__data__=to?to(null):{},this.size=0},Mi.prototype.delete=function xE(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n},Mi.prototype.get=function DE(r){var n=this.__data__;if(to){var f=n[r];return f===F?t:f}return Mt.call(n,r)?n[r]:t},Mi.prototype.has=function IE(r){var n=this.__data__;return to?n[r]!==t:Mt.call(n,r)},Mi.prototype.set=function SE(r,n){var f=this.__data__;return this.size+=this.has(r)?0:1,f[r]=to&&n===t?F:n,this},ei.prototype.clear=function OE(){this.__data__=[],this.size=0},ei.prototype.delete=function PE(r){var n=this.__data__,f=Da(n,r);return!(f<0||(f==n.length-1?n.pop():ya.call(n,f,1),--this.size,0))},ei.prototype.get=function AE(r){var n=this.__data__,f=Da(n,r);return f<0?t:n[f][1]},ei.prototype.has=function CE(r){return Da(this.__data__,r)>-1},ei.prototype.set=function RE(r,n){var f=this.__data__,g=Da(f,r);return g<0?(++this.size,f.push([r,n])):f[g][1]=n,this},ti.prototype.clear=function TE(){this.size=0,this.__data__={hash:new Mi,map:new(Xs||ei),string:new Mi}},ti.prototype.delete=function NE(r){var n=ja(this,r).delete(r);return this.size-=n?1:0,n},ti.prototype.get=function FE(r){return ja(this,r).get(r)},ti.prototype.has=function UE(r){return ja(this,r).has(r)},ti.prototype.set=function jE(r,n){var f=ja(this,r),g=f.size;return f.set(r,n),this.size+=f.size==g?0:1,this},zi.prototype.add=zi.prototype.push=function LE(r){return this.__data__.set(r,F),this},zi.prototype.has=function ME(r){return this.__data__.has(r)},Rn.prototype.clear=function zE(){this.__data__=new ei,this.size=0},Rn.prototype.delete=function $E(r){var n=this.__data__,f=n.delete(r);return this.size=n.size,f},Rn.prototype.get=function BE(r){return this.__data__.get(r)},Rn.prototype.has=function HE(r){return this.__data__.has(r)},Rn.prototype.set=function ZE(r,n){var f=this.__data__;if(f instanceof ei){var g=f.__data__;if(!Xs||g.length<199)return g.push([r,n]),this.size=++f.size,this;f=this.__data__=new ti(g)}return f.set(r,n),this.size=f.size,this};var bi=fp(Bn),zd=fp(Hc,!0);function GE(r,n){var f=!0;return bi(r,function(g,m,A){return f=!!n(g,m,A)}),f}function Ia(r,n,f){for(var g=-1,m=r.length;++g<m;){var A=r[g],z=n(A);if(null!=z&&(k===t?z==z&&!un(z):f(z,k)))var k=z,se=A}return se}function $d(r,n){var f=[];return bi(r,function(g,m,A){n(g,m,A)&&f.push(g)}),f}function Rr(r,n,f,g,m){var A=-1,z=r.length;for(f||(f=M3),m||(m=[]);++A<z;){var k=r[A];n>0&&f(k)?n>1?Rr(k,n-1,f,g,m):yi(m,k):g||(m[m.length]=k)}return m}var Bc=hp(),Bd=hp(!0);function Bn(r,n){return r&&Bc(r,n,Sr)}function Hc(r,n){return r&&Bd(r,n,Sr)}function Sa(r,n){return _i(n,function(f){return oi(r[f])})}function Bi(r,n){for(var f=0,g=(n=Ei(n,r)).length;null!=r&&f<g;)r=r[Zn(n[f++])];return f&&f==g?r:t}function Hd(r,n,f){var g=n(r);return ct(r)?g:yi(g,f(r))}function $r(r){return null==r?r===t?"[object Undefined]":"[object Null]":Li&&Li in Bt(r)?function T3(r){var n=Mt.call(r,Li),f=r[Li];try{r[Li]=t;var g=!0}catch{}var m=da.call(r);return g&&(n?r[Li]=f:delete r[Li]),m}(r):function K3(r){return da.call(r)}(r)}function Zc(r,n){return r>n}function YE(r,n){return null!=r&&Mt.call(r,n)}function QE(r,n){return null!=r&&n in Bt(r)}function qc(r,n,f){for(var g=f?Sc:aa,m=r[0].length,A=r.length,z=A,k=ve(A),se=1/0,De=[];z--;){var Se=r[z];z&&n&&(Se=Jt(Se,on(n))),se=Fr(Se.length,se),k[z]=!f&&(n||m>=120&&Se.length>=120)?new zi(z&&Se):t}Se=r[0];var Te=-1,ze=k[0];e:for(;++Te<m&&De.length<se;){var ke=Se[Te],Qe=n?n(ke):ke;if(ke=f||0!==ke?ke:0,!(ze?Ys(ze,Qe):g(De,Qe,f))){for(z=A;--z;){var dt=k[z];if(!(dt?Ys(dt,Qe):g(r[z],Qe,f)))continue e}ze&&ze.push(Qe),De.push(ke)}}return De}function so(r,n,f){var g=null==(r=Ap(r,n=Ei(n,r)))?r:r[Zn(bn(n))];return null==g?t:sn(g,r,f)}function Zd(r){return nr(r)&&$r(r)==ls}function oo(r,n,f,g,m){return r===n||(null==r||null==n||!nr(r)&&!nr(n)?r!=r&&n!=n:function n3(r,n,f,g,m,A){var z=ct(r),k=ct(n),se=z?ea:Ur(r),De=k?ea:Ur(n),Se=(se=se==ls?Xn:se)==Xn,Te=(De=De==ls?Xn:De)==Xn,ze=se==De;if(ze&&Di(r)){if(!Di(n))return!1;z=!0,Se=!1}if(ze&&!Se)return A||(A=new Rn),z||Ds(r)?Ep(r,n,f,g,m,A):function C3(r,n,f,g,m,A,z){switch(f){case fs:if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case Js:return!(r.byteLength!=n.byteLength||!A(new ga(r),new ga(n)));case qs:case Ks:case Vs:return Tn(+r,+n);case ta:return r.name==n.name&&r.message==n.message;case ks:case Ws:return r==n+"";case Pn:var k=Fc;case An:if(k||(k=ca),r.size!=n.size&&!(1&g))return!1;var De=z.get(r);if(De)return De==n;g|=2,z.set(r,n);var Se=Ep(k(r),k(n),g,m,A,z);return z.delete(r),Se;case na:if(ro)return ro.call(r)==ro.call(n)}return!1}(r,n,se,f,g,m,A);if(!(1&f)){var ke=Se&&Mt.call(r,"__wrapped__"),Qe=Te&&Mt.call(n,"__wrapped__");if(ke||Qe){var dt=ke?r.value():r,Xe=Qe?n.value():n;return A||(A=new Rn),m(dt,Xe,f,g,A)}}return!!ze&&(A||(A=new Rn),function R3(r,n,f,g,m,A){var z=1&f,k=sl(r),se=k.length;if(se!=sl(n).length&&!z)return!1;for(var Te=se;Te--;){var ze=k[Te];if(!(z?ze in n:Mt.call(n,ze)))return!1}var ke=A.get(r),Qe=A.get(n);if(ke&&Qe)return ke==n&&Qe==r;var dt=!0;A.set(r,n),A.set(n,r);for(var Xe=z;++Te<se;){var wt=r[ze=k[Te]],Ot=n[ze];if(g)var cn=z?g(Ot,wt,ze,n,r,A):g(wt,Ot,ze,r,n,A);if(!(cn===t?wt===Ot||m(wt,Ot,f,g,A):cn)){dt=!1;break}Xe||(Xe="constructor"==ze)}if(dt&&!Xe){var Hr=r.constructor,ln=n.constructor;Hr!=ln&&"constructor"in r&&"constructor"in n&&!("function"==typeof Hr&&Hr instanceof Hr&&"function"==typeof ln&&ln instanceof ln)&&(dt=!1)}return A.delete(r),A.delete(n),dt}(r,n,f,g,m,A))}(r,n,f,g,oo,m))}function Kc(r,n,f,g){var m=f.length,A=m,z=!g;if(null==r)return!A;for(r=Bt(r);m--;){var k=f[m];if(z&&k[2]?k[1]!==r[k[0]]:!(k[0]in r))return!1}for(;++m<A;){var se=(k=f[m])[0],De=r[se],Se=k[1];if(z&&k[2]){if(De===t&&!(se in r))return!1}else{var Te=new Rn;if(g)var ze=g(De,Se,se,r,n,Te);if(!(ze===t?oo(Se,De,3,g,Te):ze))return!1}}return!0}function qd(r){return!(!Yt(r)||function $3(r){return!!Sd&&Sd in r}(r))&&(oi(r)?iE:Wb).test(Zi(r))}function Kd(r){return"function"==typeof r?r:null==r?Xr:"object"==typeof r?ct(r)?Wd(r[0],r[1]):kd(r):dg(r)}function Vc(r){if(!co(r))return lE(r);var n=[];for(var f in Bt(r))Mt.call(r,f)&&"constructor"!=f&&n.push(f);return n}function kc(r,n){return r<n}function Vd(r,n){var f=-1,g=Yr(r)?ve(r.length):[];return bi(r,function(m,A,z){g[++f]=n(m,A,z)}),g}function kd(r){var n=ul(r);return 1==n.length&&n[0][2]?Op(n[0][0],n[0][1]):function(f){return f===r||Kc(f,r,n)}}function Wd(r,n){return ll(r)&&Sp(n)?Op(Zn(r),n):function(f){var g=bl(f,r);return g===t&&g===n?wl(f,r):oo(n,g,3)}}function Oa(r,n,f,g,m){r!==n&&Bc(n,function(A,z){if(m||(m=new Rn),Yt(A))!function c3(r,n,f,g,m,A,z){var k=hl(r,f),se=hl(n,f),De=z.get(se);if(De)zc(r,f,De);else{var Se=A?A(k,se,f+"",r,n,z):t,Te=Se===t;if(Te){var ze=ct(se),ke=!ze&&Di(se),Qe=!ze&&!ke&&Ds(se);Se=se,ze||ke||Qe?ct(k)?Se=k:ur(k)?Se=Jr(k):ke?(Te=!1,Se=op(se,!0)):Qe?(Te=!1,Se=ap(se,!0)):Se=[]:fo(se)||qi(se)?(Se=k,qi(k)?Se=ng(k):(!Yt(k)||oi(k))&&(Se=Ip(se))):Te=!1}Te&&(z.set(se,Se),m(Se,se,g,A,z),z.delete(se)),zc(r,f,Se)}}(r,n,z,f,Oa,g,m);else{var k=g?g(hl(r,z),A,z+"",r,n,m):t;k===t&&(k=A),zc(r,z,k)}},Qr)}function Gd(r,n){var f=r.length;if(f)return si(n+=n<0?f:0,f)?r[n]:t}function Jd(r,n,f){n=n.length?Jt(n,function(A){return ct(A)?function(z){return Bi(z,1===A.length?A[0]:A)}:A}):[Xr];var g=-1;return n=Jt(n,on(Je())),function jw(ne,Ee){var ve=ne.length;for(ne.sort(Ee);ve--;)ne[ve]=ne[ve].value;return ne}(Vd(r,function(A,z,k){return{criteria:Jt(n,function(De){return De(A)}),index:++g,value:A}}),function(A,z){return function E3(r,n,f){for(var g=-1,m=r.criteria,A=n.criteria,z=m.length,k=f.length;++g<z;){var se=up(m[g],A[g]);if(se)return g>=k?se:se*("desc"==f[g]?-1:1)}return r.index-n.index}(A,z,f)})}function Yd(r,n,f){for(var g=-1,m=n.length,A={};++g<m;){var z=n[g],k=Bi(r,z);f(k,z)&&ao(A,Ei(z,r),k)}return A}function Wc(r,n,f,g){var m=g?Uw:ds,A=-1,z=n.length,k=r;for(r===n&&(n=Jr(n)),f&&(k=Jt(r,on(f)));++A<z;)for(var se=0,De=n[A],Se=f?f(De):De;(se=m(k,Se,se,g))>-1;)k!==r&&ya.call(k,se,1),ya.call(r,se,1);return r}function Qd(r,n){for(var f=r?n.length:0,g=f-1;f--;){var m=n[f];if(f==g||m!==A){var A=m;si(m)?ya.call(r,m,1):Qc(r,m)}}return r}function Gc(r,n){return r+ba(Td()*(n-r+1))}function Jc(r,n){var f="";if(!r||n<1||n>gi)return f;do{n%2&&(f+=r),(n=ba(n/2))&&(r+=r)}while(n);return f}function yt(r,n){return dl(Pp(r,n,Xr),r+"")}function d3(r){return Ud(Is(r))}function p3(r,n){var f=Is(r);return La(f,$i(n,0,f.length))}function ao(r,n,f,g){if(!Yt(r))return r;for(var m=-1,A=(n=Ei(n,r)).length,z=A-1,k=r;null!=k&&++m<A;){var se=Zn(n[m]),De=f;if("__proto__"===se||"constructor"===se||"prototype"===se)return r;if(m!=z){var Se=k[se];(De=g?g(Se,se,k):t)===t&&(De=Yt(Se)?Se:si(n[m+1])?[]:{})}no(k,se,De),k=k[se]}return r}var Xd=wa?function(r,n){return wa.set(r,n),r}:Xr,g3=va?function(r,n){return va(r,"toString",{configurable:!0,enumerable:!1,value:xl(n),writable:!0})}:Xr;function _3(r){return La(Is(r))}function mn(r,n,f){var g=-1,m=r.length;n<0&&(n=-n>m?0:m+n),(f=f>m?m:f)<0&&(f+=m),m=n>f?0:f-n>>>0,n>>>=0;for(var A=ve(m);++g<m;)A[g]=r[g+n];return A}function y3(r,n){var f;return bi(r,function(g,m,A){return!(f=n(g,m,A))}),!!f}function Pa(r,n,f){var g=0,m=null==r?g:r.length;if("number"==typeof n&&n==n&&m<=2147483647){for(;g<m;){var A=g+m>>>1,z=r[A];null!==z&&!un(z)&&(f?z<=n:z<n)?g=A+1:m=A}return m}return Yc(r,n,Xr,f)}function Yc(r,n,f,g){var m=0,A=null==r?0:r.length;if(0===A)return 0;for(var z=(n=f(n))!=n,k=null===n,se=un(n),De=n===t;m<A;){var Se=ba((m+A)/2),Te=f(r[Se]),ze=Te!==t,ke=null===Te,Qe=Te==Te,dt=un(Te);if(z)var Xe=g||Qe;else Xe=De?Qe&&(g||ze):k?Qe&&ze&&(g||!ke):se?Qe&&ze&&!ke&&(g||!dt):!ke&&!dt&&(g?Te<=n:Te<n);Xe?m=Se+1:A=Se}return Fr(A,4294967294)}function ep(r,n){for(var f=-1,g=r.length,m=0,A=[];++f<g;){var z=r[f],k=n?n(z):z;if(!f||!Tn(k,se)){var se=k;A[m++]=0===z?0:z}}return A}function tp(r){return"number"==typeof r?r:un(r)?NaN:+r}function an(r){if("string"==typeof r)return r;if(ct(r))return Jt(r,an)+"";if(un(r))return Nd?Nd.call(r):"";var n=r+"";return"0"==n&&1/r==-Ui?"-0":n}function wi(r,n,f){var g=-1,m=aa,A=r.length,z=!0,k=[],se=k;if(f)z=!1,m=Sc;else if(A>=200){var De=n?null:P3(r);if(De)return ca(De);z=!1,m=Ys,se=new zi}else se=n?[]:k;e:for(;++g<A;){var Se=r[g],Te=n?n(Se):Se;if(Se=f||0!==Se?Se:0,z&&Te==Te){for(var ze=se.length;ze--;)if(se[ze]===Te)continue e;n&&se.push(Te),k.push(Se)}else m(se,Te,f)||(se!==k&&se.push(Te),k.push(Se))}return k}function Qc(r,n){return null==(r=Ap(r,n=Ei(n,r)))||delete r[Zn(bn(n))]}function rp(r,n,f,g){return ao(r,n,f(Bi(r,n)),g)}function Aa(r,n,f,g){for(var m=r.length,A=g?m:-1;(g?A--:++A<m)&&n(r[A],A,r););return f?mn(r,g?0:A,g?A+1:m):mn(r,g?A+1:0,g?m:A)}function np(r,n){var f=r;return f instanceof It&&(f=f.value()),Oc(n,function(g,m){return m.func.apply(m.thisArg,yi([g],m.args))},f)}function Xc(r,n,f){var g=r.length;if(g<2)return g?wi(r[0]):[];for(var m=-1,A=ve(g);++m<g;)for(var z=r[m],k=-1;++k<g;)k!=m&&(A[m]=io(A[m]||z,r[k],n,f));return wi(Rr(A,1),n,f)}function ip(r,n,f){for(var g=-1,m=r.length,A=n.length,z={};++g<m;)f(z,r[g],g<A?n[g]:t);return z}function el(r){return ur(r)?r:[]}function tl(r){return"function"==typeof r?r:Xr}function Ei(r,n){return ct(r)?r:ll(r,n)?[r]:Np(Lt(r))}var v3=yt;function xi(r,n,f){var g=r.length;return f=f===t?g:f,!n&&f>=g?r:mn(r,n,f)}var sp=sE||function(r){return Cr.clearTimeout(r)};function op(r,n){if(n)return r.slice();var f=r.length,g=Od?Od(f):new r.constructor(f);return r.copy(g),g}function rl(r){var n=new r.constructor(r.byteLength);return new ga(n).set(new ga(r)),n}function ap(r,n){var f=n?rl(r.buffer):r.buffer;return new r.constructor(f,r.byteOffset,r.length)}function up(r,n){if(r!==n){var f=r!==t,g=null===r,m=r==r,A=un(r),z=n!==t,k=null===n,se=n==n,De=un(n);if(!k&&!De&&!A&&r>n||A&&z&&se&&!k&&!De||g&&z&&se||!f&&se||!m)return 1;if(!g&&!A&&!De&&r<n||De&&f&&m&&!g&&!A||k&&f&&m||!z&&m||!se)return-1}return 0}function cp(r,n,f,g){for(var m=-1,A=r.length,z=f.length,k=-1,se=n.length,De=br(A-z,0),Se=ve(se+De),Te=!g;++k<se;)Se[k]=n[k];for(;++m<z;)(Te||m<A)&&(Se[f[m]]=r[m]);for(;De--;)Se[k++]=r[m++];return Se}function lp(r,n,f,g){for(var m=-1,A=r.length,z=-1,k=f.length,se=-1,De=n.length,Se=br(A-k,0),Te=ve(Se+De),ze=!g;++m<Se;)Te[m]=r[m];for(var ke=m;++se<De;)Te[ke+se]=n[se];for(;++z<k;)(ze||m<A)&&(Te[ke+f[z]]=r[m++]);return Te}function Jr(r,n){var f=-1,g=r.length;for(n||(n=ve(g));++f<g;)n[f]=r[f];return n}function Hn(r,n,f,g){var m=!f;f||(f={});for(var A=-1,z=n.length;++A<z;){var k=n[A],se=g?g(f[k],r[k],k,f,r):t;se===t&&(se=r[k]),m?ri(f,k,se):no(f,k,se)}return f}function Ca(r,n){return function(f,g){var m=ct(f)?Aw:VE,A=n?n():{};return m(f,r,Je(g,2),A)}}function ws(r){return yt(function(n,f){var g=-1,m=f.length,A=m>1?f[m-1]:t,z=m>2?f[2]:t;for(A=r.length>3&&"function"==typeof A?(m--,A):t,z&&Br(f[0],f[1],z)&&(A=m<3?t:A,m=1),n=Bt(n);++g<m;){var k=f[g];k&&r(n,k,g,A)}return n})}function fp(r,n){return function(f,g){if(null==f)return f;if(!Yr(f))return r(f,g);for(var m=f.length,A=n?m:-1,z=Bt(f);(n?A--:++A<m)&&!1!==g(z[A],A,z););return f}}function hp(r){return function(n,f,g){for(var m=-1,A=Bt(n),z=g(n),k=z.length;k--;){var se=z[r?k:++m];if(!1===f(A[se],se,A))break}return n}}function dp(r){return function(n){var f=ps(n=Lt(n))?Cn(n):t,g=f?f[0]:n.charAt(0),m=f?xi(f,1).join(""):n.slice(1);return g[r]()+m}}function Es(r){return function(n){return Oc(fg(lg(n).replace(gw,"")),r,"")}}function uo(r){return function(){var n=arguments;switch(n.length){case 0:return new r;case 1:return new r(n[0]);case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[1],n[2]);case 4:return new r(n[0],n[1],n[2],n[3]);case 5:return new r(n[0],n[1],n[2],n[3],n[4]);case 6:return new r(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new r(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var f=bs(r.prototype),g=r.apply(f,n);return Yt(g)?g:f}}function pp(r){return function(n,f,g){var m=Bt(n);if(!Yr(n)){var A=Je(f,3);n=Sr(n),f=function(k){return A(m[k],k,m)}}var z=r(n,f,g);return z>-1?m[A?n[z]:z]:t}}function gp(r){return ii(function(n){var f=n.length,g=f,m=yn.prototype.thru;for(r&&n.reverse();g--;){var A=n[g];if("function"!=typeof A)throw new _n(p);if(m&&!z&&"wrapper"==Ua(A))var z=new yn([],!0)}for(g=z?g:f;++g<f;){var k=Ua(A=n[g]),se="wrapper"==k?al(A):t;z=se&&fl(se[0])&&424==se[1]&&!se[4].length&&1==se[9]?z[Ua(se[0])].apply(z,se[3]):1==A.length&&fl(A)?z[k]():z.thru(A)}return function(){var De=arguments,Se=De[0];if(z&&1==De.length&&ct(Se))return z.plant(Se).value();for(var Te=0,ze=f?n[Te].apply(this,De):Se;++Te<f;)ze=n[Te].call(this,ze);return ze}})}function Ra(r,n,f,g,m,A,z,k,se,De){var Se=128&n,Te=1&n,ze=2&n,ke=24&n,Qe=512&n,dt=ze?t:uo(r);return function Xe(){for(var wt=arguments.length,Ot=ve(wt),cn=wt;cn--;)Ot[cn]=arguments[cn];if(ke)var Hr=xs(Xe),ln=function Mw(ne,Ee){for(var ve=ne.length,qe=0;ve--;)ne[ve]===Ee&&++qe;return qe}(Ot,Hr);if(g&&(Ot=cp(Ot,g,m,ke)),A&&(Ot=lp(Ot,A,z,ke)),wt-=ln,ke&&wt<De){var cr=vi(Ot,Hr);return vp(r,n,Ra,Xe.placeholder,f,Ot,cr,k,se,De-wt)}var Nn=Te?f:this,ui=ze?Nn[r]:r;return wt=Ot.length,k?Ot=function V3(r,n){for(var f=r.length,g=Fr(n.length,f),m=Jr(r);g--;){var A=n[g];r[g]=si(A,f)?m[A]:t}return r}(Ot,k):Qe&&wt>1&&Ot.reverse(),Se&&se<wt&&(Ot.length=se),this&&this!==Cr&&this instanceof Xe&&(ui=dt||uo(ui)),ui.apply(Nn,Ot)}}function _p(r,n){return function(f,g){return function e3(r,n,f,g){return Bn(r,function(m,A,z){n(g,f(m),A,z)}),g}(f,r,n(g),{})}}function Ta(r,n){return function(f,g){var m;if(f===t&&g===t)return n;if(f!==t&&(m=f),g!==t){if(m===t)return g;"string"==typeof f||"string"==typeof g?(f=an(f),g=an(g)):(f=tp(f),g=tp(g)),m=r(f,g)}return m}}function nl(r){return ii(function(n){return n=Jt(n,on(Je())),yt(function(f){var g=this;return r(n,function(m){return sn(m,g,f)})})})}function Na(r,n){var f=(n=n===t?" ":an(n)).length;if(f<2)return f?Jc(n,r):n;var g=Jc(n,ma(r/gs(n)));return ps(n)?xi(Cn(g),0,r).join(""):g.slice(0,r)}function yp(r){return function(n,f,g){return g&&"number"!=typeof g&&Br(n,f,g)&&(f=g=t),n=ai(n),f===t?(f=n,n=0):f=ai(f),function h3(r,n,f,g){for(var m=-1,A=br(ma((n-r)/(f||1)),0),z=ve(A);A--;)z[g?A:++m]=r,r+=f;return z}(n,f,g=g===t?n<f?1:-1:ai(g),r)}}function Fa(r){return function(n,f){return"string"==typeof n&&"string"==typeof f||(n=wn(n),f=wn(f)),r(n,f)}}function vp(r,n,f,g,m,A,z,k,se,De){var Se=8&n;n|=Se?32:64,4&(n&=~(Se?64:32))||(n&=-4);var dt=[r,n,m,Se?A:t,Se?z:t,Se?t:A,Se?t:z,k,se,De],Xe=f.apply(t,dt);return fl(r)&&Cp(Xe,dt),Xe.placeholder=g,Rp(Xe,r,n)}function il(r){var n=mr[r];return function(f,g){if(f=wn(f),(g=null==g?0:Fr(ft(g),292))&&Rd(f)){var m=(Lt(f)+"e").split("e");return+((m=(Lt(n(m[0]+"e"+(+m[1]+g)))+"e").split("e"))[0]+"e"+(+m[1]-g))}return n(f)}}var P3=vs&&1/ca(new vs([,-0]))[1]==Ui?function(r){return new vs(r)}:Sl;function mp(r){return function(n){var f=Ur(n);return f==Pn?Fc(n):f==An?function Kw(ne){var Ee=-1,ve=Array(ne.size);return ne.forEach(function(qe){ve[++Ee]=[qe,qe]}),ve}(n):function Lw(ne,Ee){return Jt(Ee,function(ve){return[ve,ne[ve]]})}(n,r(n))}}function ni(r,n,f,g,m,A,z,k){var se=2&n;if(!se&&"function"!=typeof r)throw new _n(p);var De=g?g.length:0;if(De||(n&=-97,g=m=t),z=z===t?z:br(ft(z),0),k=k===t?k:ft(k),De-=m?m.length:0,64&n){var Se=g,Te=m;g=m=t}var ze=se?t:al(r),ke=[r,n,f,g,m,Se,Te,A,z,k];if(ze&&function Z3(r,n){var f=r[1],g=n[1],m=f|g;if(!(m<131)&&!(128==g&&8==f||128==g&&256==f&&r[7].length<=n[8]||384==g&&n[7].length<=n[8]&&8==f))return r;1&g&&(r[2]=n[2],m|=1&f?0:4);var k=n[3];if(k){var se=r[3];r[3]=se?cp(se,k,n[4]):k,r[4]=se?vi(r[3],j):n[4]}(k=n[5])&&(r[5]=(se=r[5])?lp(se,k,n[6]):k,r[6]=se?vi(r[5],j):n[6]),(k=n[7])&&(r[7]=k),128&g&&(r[8]=null==r[8]?n[8]:Fr(r[8],n[8])),null==r[9]&&(r[9]=n[9]),r[0]=n[0],r[1]=m}(ke,ze),r=ke[0],n=ke[1],f=ke[2],g=ke[3],m=ke[4],!(k=ke[9]=ke[9]===t?se?0:r.length:br(ke[9]-De,0))&&24&n&&(n&=-25),n&&1!=n)Qe=8==n||16==n?function S3(r,n,f){var g=uo(r);return function m(){for(var A=arguments.length,z=ve(A),k=A,se=xs(m);k--;)z[k]=arguments[k];var De=A<3&&z[0]!==se&&z[A-1]!==se?[]:vi(z,se);return(A-=De.length)<f?vp(r,n,Ra,m.placeholder,t,z,De,t,t,f-A):sn(this&&this!==Cr&&this instanceof m?g:r,this,z)}}(r,n,k):32!=n&&33!=n||m.length?Ra.apply(t,ke):function O3(r,n,f,g){var m=1&n,A=uo(r);return function z(){for(var k=-1,se=arguments.length,De=-1,Se=g.length,Te=ve(Se+se),ze=this&&this!==Cr&&this instanceof z?A:r;++De<Se;)Te[De]=g[De];for(;se--;)Te[De++]=arguments[++k];return sn(ze,m?f:this,Te)}}(r,n,f,g);else var Qe=function I3(r,n,f){var g=1&n,m=uo(r);return function A(){return(this&&this!==Cr&&this instanceof A?m:r).apply(g?f:this,arguments)}}(r,n,f);return Rp((ze?Xd:Cp)(Qe,ke),r,n)}function bp(r,n,f,g){return r===t||Tn(r,ys[f])&&!Mt.call(g,f)?n:r}function wp(r,n,f,g,m,A){return Yt(r)&&Yt(n)&&(A.set(n,r),Oa(r,n,t,wp,A),A.delete(n)),r}function A3(r){return fo(r)?t:r}function Ep(r,n,f,g,m,A){var z=1&f,k=r.length,se=n.length;if(k!=se&&!(z&&se>k))return!1;var De=A.get(r),Se=A.get(n);if(De&&Se)return De==n&&Se==r;var Te=-1,ze=!0,ke=2&f?new zi:t;for(A.set(r,n),A.set(n,r);++Te<k;){var Qe=r[Te],dt=n[Te];if(g)var Xe=z?g(dt,Qe,Te,n,r,A):g(Qe,dt,Te,r,n,A);if(Xe!==t){if(Xe)continue;ze=!1;break}if(ke){if(!Pc(n,function(wt,Ot){if(!Ys(ke,Ot)&&(Qe===wt||m(Qe,wt,f,g,A)))return ke.push(Ot)})){ze=!1;break}}else if(Qe!==dt&&!m(Qe,dt,f,g,A)){ze=!1;break}}return A.delete(r),A.delete(n),ze}function ii(r){return dl(Pp(r,t,Lp),r+"")}function sl(r){return Hd(r,Sr,cl)}function ol(r){return Hd(r,Qr,xp)}var al=wa?function(r){return wa.get(r)}:Sl;function Ua(r){for(var n=r.name+"",f=ms[n],g=Mt.call(ms,n)?f.length:0;g--;){var m=f[g],A=m.func;if(null==A||A==r)return m.name}return n}function xs(r){return(Mt.call(I,"placeholder")?I:r).placeholder}function Je(){var r=I.iteratee||Dl;return r=r===Dl?Kd:r,arguments.length?r(arguments[0],arguments[1]):r}function ja(r,n){var f=r.__data__;return function z3(r){var n=typeof r;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r}(n)?f["string"==typeof n?"string":"hash"]:f.map}function ul(r){for(var n=Sr(r),f=n.length;f--;){var g=n[f],m=r[g];n[f]=[g,m,Sp(m)]}return n}function Hi(r,n){var f=function Hw(ne,Ee){return null==ne?t:ne[Ee]}(r,n);return qd(f)?f:t}var cl=jc?function(r){return null==r?[]:(r=Bt(r),_i(jc(r),function(n){return Ad.call(r,n)}))}:Ol,xp=jc?function(r){for(var n=[];r;)yi(n,cl(r)),r=_a(r);return n}:Ol,Ur=$r;function Dp(r,n,f){for(var g=-1,m=(n=Ei(n,r)).length,A=!1;++g<m;){var z=Zn(n[g]);if(!(A=null!=r&&f(r,z)))break;r=r[z]}return A||++g!=m?A:!!(m=null==r?0:r.length)&&Za(m)&&si(z,m)&&(ct(r)||qi(r))}function Ip(r){return"function"!=typeof r.constructor||co(r)?{}:bs(_a(r))}function M3(r){return ct(r)||qi(r)||!!(Cd&&r&&r[Cd])}function si(r,n){var f=typeof r;return!!(n=n??gi)&&("number"==f||"symbol"!=f&&Jb.test(r))&&r>-1&&r%1==0&&r<n}function Br(r,n,f){if(!Yt(f))return!1;var g=typeof n;return!!("number"==g?Yr(f)&&si(n,f.length):"string"==g&&n in f)&&Tn(f[n],r)}function ll(r,n){if(ct(r))return!1;var f=typeof r;return!("number"!=f&&"symbol"!=f&&"boolean"!=f&&null!=r&&!un(r))||Ub.test(r)||!Fb.test(r)||null!=n&&r in Bt(n)}function fl(r){var n=Ua(r),f=I[n];if("function"!=typeof f||!(n in It.prototype))return!1;if(r===f)return!0;var g=al(f);return!!g&&r===g[0]}(Lc&&Ur(new Lc(new ArrayBuffer(1)))!=fs||Xs&&Ur(new Xs)!=Pn||Mc&&Ur(Mc.resolve())!=zh||vs&&Ur(new vs)!=An||eo&&Ur(new eo)!=Gs)&&(Ur=function(r){var n=$r(r),f=n==Xn?r.constructor:t,g=f?Zi(f):"";if(g)switch(g){case pE:return fs;case gE:return Pn;case _E:return zh;case yE:return An;case vE:return Gs}return n});var B3=fa?oi:Pl;function co(r){var n=r&&r.constructor;return r===("function"==typeof n&&n.prototype||ys)}function Sp(r){return r==r&&!Yt(r)}function Op(r,n){return function(f){return null!=f&&f[r]===n&&(n!==t||r in Bt(f))}}function Pp(r,n,f){return n=br(n===t?r.length-1:n,0),function(){for(var g=arguments,m=-1,A=br(g.length-n,0),z=ve(A);++m<A;)z[m]=g[n+m];m=-1;for(var k=ve(n+1);++m<n;)k[m]=g[m];return k[n]=f(z),sn(r,this,k)}}function Ap(r,n){return n.length<2?r:Bi(r,mn(n,0,-1))}function hl(r,n){if(("constructor"!==n||"function"!=typeof r[n])&&"__proto__"!=n)return r[n]}var Cp=Tp(Xd),lo=aE||function(r,n){return Cr.setTimeout(r,n)},dl=Tp(g3);function Rp(r,n,f){var g=n+"";return dl(r,function L3(r,n){var f=n.length;if(!f)return r;var g=f-1;return n[g]=(f>1?"& ":"")+n[g],n=n.join(f>2?", ":" "),r.replace(zb,"{\n/* [wrapped with "+n+"] */\n")}(g,function k3(r,n){return gn(bb,function(f){var g="_."+f[0];n&f[1]&&!aa(r,g)&&r.push(g)}),r.sort()}(function F3(r){var n=r.match($b);return n?n[1].split(Bb):[]}(g),f)))}function Tp(r){var n=0,f=0;return function(){var g=fE(),m=16-(g-f);if(f=g,m>0){if(++n>=800)return arguments[0]}else n=0;return r.apply(t,arguments)}}function La(r,n){var f=-1,g=r.length,m=g-1;for(n=n===t?g:n;++f<n;){var A=Gc(f,m),z=r[A];r[A]=r[f],r[f]=z}return r.length=n,r}var Np=function H3(r){var n=Ba(r,function(g){return 500===f.size&&f.clear(),g}),f=n.cache;return n}(function(r){var n=[];return 46===r.charCodeAt(0)&&n.push(""),r.replace(jb,function(f,g,m,A){n.push(m?A.replace(qb,"$1"):g||f)}),n});function Zn(r){if("string"==typeof r||un(r))return r;var n=r+"";return"0"==n&&1/r==-Ui?"-0":n}function Zi(r){if(null!=r){try{return ha.call(r)}catch{}try{return r+""}catch{}}return""}function Fp(r){if(r instanceof It)return r.clone();var n=new yn(r.__wrapped__,r.__chain__);return n.__actions__=Jr(r.__actions__),n.__index__=r.__index__,n.__values__=r.__values__,n}var Y3=yt(function(r,n){return ur(r)?io(r,Rr(n,1,ur,!0)):[]}),Q3=yt(function(r,n){var f=bn(n);return ur(f)&&(f=t),ur(r)?io(r,Rr(n,1,ur,!0),Je(f,2)):[]}),X3=yt(function(r,n){var f=bn(n);return ur(f)&&(f=t),ur(r)?io(r,Rr(n,1,ur,!0),t,f):[]});function Up(r,n,f){var g=null==r?0:r.length;if(!g)return-1;var m=null==f?0:ft(f);return m<0&&(m=br(g+m,0)),ua(r,Je(n,3),m)}function jp(r,n,f){var g=null==r?0:r.length;if(!g)return-1;var m=g-1;return f!==t&&(m=ft(f),m=f<0?br(g+m,0):Fr(m,g-1)),ua(r,Je(n,3),m,!0)}function Lp(r){return null!=r&&r.length?Rr(r,1):[]}function Mp(r){return r&&r.length?r[0]:t}var l6=yt(function(r){var n=Jt(r,el);return n.length&&n[0]===r[0]?qc(n):[]}),f6=yt(function(r){var n=bn(r),f=Jt(r,el);return n===bn(f)?n=t:f.pop(),f.length&&f[0]===r[0]?qc(f,Je(n,2)):[]}),h6=yt(function(r){var n=bn(r),f=Jt(r,el);return(n="function"==typeof n?n:t)&&f.pop(),f.length&&f[0]===r[0]?qc(f,t,n):[]});function bn(r){var n=null==r?0:r.length;return n?r[n-1]:t}var _6=yt(zp);function zp(r,n){return r&&r.length&&n&&n.length?Wc(r,n):r}var m6=ii(function(r,n){var f=null==r?0:r.length,g=$c(r,n);return Qd(r,Jt(n,function(m){return si(m,f)?+m:m}).sort(up)),g});function pl(r){return null==r?r:dE.call(r)}var U6=yt(function(r){return wi(Rr(r,1,ur,!0))}),j6=yt(function(r){var n=bn(r);return ur(n)&&(n=t),wi(Rr(r,1,ur,!0),Je(n,2))}),L6=yt(function(r){var n=bn(r);return n="function"==typeof n?n:t,wi(Rr(r,1,ur,!0),t,n)});function gl(r){if(!r||!r.length)return[];var n=0;return r=_i(r,function(f){if(ur(f))return n=br(f.length,n),!0}),Tc(n,function(f){return Jt(r,Ac(f))})}function $p(r,n){if(!r||!r.length)return[];var f=gl(r);return null==n?f:Jt(f,function(g){return sn(n,t,g)})}var B6=yt(function(r,n){return ur(r)?io(r,n):[]}),H6=yt(function(r){return Xc(_i(r,ur))}),Z6=yt(function(r){var n=bn(r);return ur(n)&&(n=t),Xc(_i(r,ur),Je(n,2))}),q6=yt(function(r){var n=bn(r);return n="function"==typeof n?n:t,Xc(_i(r,ur),t,n)}),K6=yt(gl),W6=yt(function(r){var n=r.length,f=n>1?r[n-1]:t;return f="function"==typeof f?(r.pop(),f):t,$p(r,f)});function Bp(r){var n=I(r);return n.__chain__=!0,n}function Ma(r,n){return n(r)}var J6=ii(function(r){var n=r.length,f=n?r[0]:0,g=this.__wrapped__,m=function(A){return $c(A,r)};return!(n>1||this.__actions__.length)&&g instanceof It&&si(f)?((g=g.slice(f,+f+(n?1:0))).__actions__.push({func:Ma,args:[m],thisArg:t}),new yn(g,this.__chain__).thru(function(A){return n&&!A.length&&A.push(t),A})):this.thru(m)}),ix=Ca(function(r,n,f){Mt.call(r,f)?++r[f]:ri(r,f,1)}),ax=pp(Up),ux=pp(jp);function Hp(r,n){return(ct(r)?gn:bi)(r,Je(n,3))}function Zp(r,n){return(ct(r)?Cw:zd)(r,Je(n,3))}var hx=Ca(function(r,n,f){Mt.call(r,f)?r[f].push(n):ri(r,f,[n])}),px=yt(function(r,n,f){var g=-1,m="function"==typeof n,A=Yr(r)?ve(r.length):[];return bi(r,function(z){A[++g]=m?sn(n,z,f):so(z,n,f)}),A}),gx=Ca(function(r,n,f){ri(r,f,n)});function za(r,n){return(ct(r)?Jt:Vd)(r,Je(n,3))}var yx=Ca(function(r,n,f){r[f?0:1].push(n)},function(){return[[],[]]}),Sx=yt(function(r,n){if(null==r)return[];var f=n.length;return f>1&&Br(r,n[0],n[1])?n=[]:f>2&&Br(n[0],n[1],n[2])&&(n=[n[0]]),Jd(r,Rr(n,1),[])}),$a=oE||function(){return Cr.Date.now()};function qp(r,n,f){return n=f?t:n,ni(r,128,t,t,t,t,n=r&&null==n?r.length:n)}function Kp(r,n){var f;if("function"!=typeof n)throw new _n(p);return r=ft(r),function(){return--r>0&&(f=n.apply(this,arguments)),r<=1&&(n=t),f}}var _l=yt(function(r,n,f){var g=1;if(f.length){var m=vi(f,xs(_l));g|=32}return ni(r,g,n,f,m)}),Vp=yt(function(r,n,f){var g=3;if(f.length){var m=vi(f,xs(Vp));g|=32}return ni(n,g,r,f,m)});function Gp(r,n,f){var g,m,A,z,k,se,De=0,Se=!1,Te=!1,ze=!0;if("function"!=typeof r)throw new _n(p);function ke(cr){var Nn=g,ui=m;return g=m=t,De=cr,z=r.apply(ui,Nn)}function Xe(cr){var Nn=cr-se;return se===t||Nn>=n||Nn<0||Te&&cr-De>=A}function wt(){var cr=$a();if(Xe(cr))return Ot(cr);k=lo(wt,function dt(cr){var pg=n-(cr-se);return Te?Fr(pg,A-(cr-De)):pg}(cr))}function Ot(cr){return k=t,ze&&g?ke(cr):(g=m=t,z)}function ln(){var cr=$a(),Nn=Xe(cr);if(g=arguments,m=this,se=cr,Nn){if(k===t)return function Qe(cr){return De=cr,k=lo(wt,n),Se?ke(cr):z}(se);if(Te)return sp(k),k=lo(wt,n),ke(se)}return k===t&&(k=lo(wt,n)),z}return n=wn(n)||0,Yt(f)&&(Se=!!f.leading,A=(Te="maxWait"in f)?br(wn(f.maxWait)||0,n):A,ze="trailing"in f?!!f.trailing:ze),ln.cancel=function cn(){k!==t&&sp(k),De=0,g=se=m=k=t},ln.flush=function Hr(){return k===t?z:Ot($a())},ln}var Px=yt(function(r,n){return Md(r,1,n)}),Ax=yt(function(r,n,f){return Md(r,wn(n)||0,f)});function Ba(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new _n(p);var f=function(){var g=arguments,m=n?n.apply(this,g):g[0],A=f.cache;if(A.has(m))return A.get(m);var z=r.apply(this,g);return f.cache=A.set(m,z)||A,z};return f.cache=new(Ba.Cache||ti),f}function Ha(r){if("function"!=typeof r)throw new _n(p);return function(){var n=arguments;switch(n.length){case 0:return!r.call(this);case 1:return!r.call(this,n[0]);case 2:return!r.call(this,n[0],n[1]);case 3:return!r.call(this,n[0],n[1],n[2])}return!r.apply(this,n)}}Ba.Cache=ti;var Tx=v3(function(r,n){var f=(n=1==n.length&&ct(n[0])?Jt(n[0],on(Je())):Jt(Rr(n,1),on(Je()))).length;return yt(function(g){for(var m=-1,A=Fr(g.length,f);++m<A;)g[m]=n[m].call(this,g[m]);return sn(r,this,g)})}),yl=yt(function(r,n){var f=vi(n,xs(yl));return ni(r,32,t,n,f)}),Jp=yt(function(r,n){var f=vi(n,xs(Jp));return ni(r,64,t,n,f)}),Nx=ii(function(r,n){return ni(r,256,t,t,t,n)});function Tn(r,n){return r===n||r!=r&&n!=n}var Kx=Fa(Zc),Vx=Fa(function(r,n){return r>=n}),qi=Zd(function(){return arguments}())?Zd:function(r){return nr(r)&&Mt.call(r,"callee")&&!Ad.call(r,"callee")},ct=ve.isArray,kx=ld?on(ld):function t3(r){return nr(r)&&$r(r)==Js};function Yr(r){return null!=r&&Za(r.length)&&!oi(r)}function ur(r){return nr(r)&&Yr(r)}var Di=uE||Pl,Gx=fd?on(fd):function r3(r){return nr(r)&&$r(r)==Ks};function vl(r){if(!nr(r))return!1;var n=$r(r);return n==ta||"[object DOMException]"==n||"string"==typeof r.message&&"string"==typeof r.name&&!fo(r)}function oi(r){if(!Yt(r))return!1;var n=$r(r);return n==ra||n==Mh||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Yp(r){return"number"==typeof r&&r==ft(r)}function Za(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=gi}function Yt(r){var n=typeof r;return null!=r&&("object"==n||"function"==n)}function nr(r){return null!=r&&"object"==typeof r}var Qp=hd?on(hd):function i3(r){return nr(r)&&Ur(r)==Pn};function Xp(r){return"number"==typeof r||nr(r)&&$r(r)==Vs}function fo(r){if(!nr(r)||$r(r)!=Xn)return!1;var n=_a(r);if(null===n)return!0;var f=Mt.call(n,"constructor")&&n.constructor;return"function"==typeof f&&f instanceof f&&ha.call(f)==rE}var ml=dd?on(dd):function s3(r){return nr(r)&&$r(r)==ks},eg=pd?on(pd):function o3(r){return nr(r)&&Ur(r)==An};function qa(r){return"string"==typeof r||!ct(r)&&nr(r)&&$r(r)==Ws}function un(r){return"symbol"==typeof r||nr(r)&&$r(r)==na}var Ds=gd?on(gd):function a3(r){return nr(r)&&Za(r.length)&&!!kt[$r(r)]},f2=Fa(kc),h2=Fa(function(r,n){return r<=n});function tg(r){if(!r)return[];if(Yr(r))return qa(r)?Cn(r):Jr(r);if(Qs&&r[Qs])return function qw(ne){for(var Ee,ve=[];!(Ee=ne.next()).done;)ve.push(Ee.value);return ve}(r[Qs]());var n=Ur(r);return(n==Pn?Fc:n==An?ca:Is)(r)}function ai(r){return r?(r=wn(r))===Ui||r===-Ui?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}function ft(r){var n=ai(r),f=n%1;return n==n?f?n-f:n:0}function rg(r){return r?$i(ft(r),0,$n):0}function wn(r){if("number"==typeof r)return r;if(un(r))return NaN;if(Yt(r)){var n="function"==typeof r.valueOf?r.valueOf():r;r=Yt(n)?n+"":n}if("string"!=typeof r)return 0===r?r:+r;r=wd(r);var f=kb.test(r);return f||Gb.test(r)?Ow(r.slice(2),f?2:8):Vb.test(r)?NaN:+r}function ng(r){return Hn(r,Qr(r))}function Lt(r){return null==r?"":an(r)}var p2=ws(function(r,n){if(co(n)||Yr(n))Hn(n,Sr(n),r);else for(var f in n)Mt.call(n,f)&&no(r,f,n[f])}),ig=ws(function(r,n){Hn(n,Qr(n),r)}),Ka=ws(function(r,n,f,g){Hn(n,Qr(n),r,g)}),g2=ws(function(r,n,f,g){Hn(n,Sr(n),r,g)}),_2=ii($c),v2=yt(function(r,n){r=Bt(r);var f=-1,g=n.length,m=g>2?n[2]:t;for(m&&Br(n[0],n[1],m)&&(g=1);++f<g;)for(var A=n[f],z=Qr(A),k=-1,se=z.length;++k<se;){var De=z[k],Se=r[De];(Se===t||Tn(Se,ys[De])&&!Mt.call(r,De))&&(r[De]=A[De])}return r}),m2=yt(function(r){return r.push(t,wp),sn(sg,t,r)});function bl(r,n,f){var g=null==r?t:Bi(r,n);return g===t?f:g}function wl(r,n){return null!=r&&Dp(r,n,QE)}var A2=_p(function(r,n,f){null!=n&&"function"!=typeof n.toString&&(n=da.call(n)),r[n]=f},xl(Xr)),C2=_p(function(r,n,f){null!=n&&"function"!=typeof n.toString&&(n=da.call(n)),Mt.call(r,n)?r[n].push(f):r[n]=[f]},Je),R2=yt(so);function Sr(r){return Yr(r)?Fd(r):Vc(r)}function Qr(r){return Yr(r)?Fd(r,!0):function u3(r){if(!Yt(r))return function q3(r){var n=[];if(null!=r)for(var f in Bt(r))n.push(f);return n}(r);var n=co(r),f=[];for(var g in r)"constructor"==g&&(n||!Mt.call(r,g))||f.push(g);return f}(r)}var F2=ws(function(r,n,f){Oa(r,n,f)}),sg=ws(function(r,n,f,g){Oa(r,n,f,g)}),U2=ii(function(r,n){var f={};if(null==r)return f;var g=!1;n=Jt(n,function(A){return A=Ei(A,r),g||(g=A.length>1),A}),Hn(r,ol(r),f),g&&(f=vn(f,7,A3));for(var m=n.length;m--;)Qc(f,n[m]);return f}),L2=ii(function(r,n){return null==r?{}:function l3(r,n){return Yd(r,n,function(f,g){return wl(r,g)})}(r,n)});function og(r,n){if(null==r)return{};var f=Jt(ol(r),function(g){return[g]});return n=Je(n),Yd(r,f,function(g,m){return n(g,m[0])})}var ag=mp(Sr),ug=mp(Qr);function Is(r){return null==r?[]:Nc(r,Sr(r))}var G2=Es(function(r,n,f){return n=n.toLowerCase(),r+(f?cg(n):n)});function cg(r){return El(Lt(r).toLowerCase())}function lg(r){return(r=Lt(r))&&r.replace(Yb,zw).replace(_w,"")}var X2=Es(function(r,n,f){return r+(f?"-":"")+n.toLowerCase()}),eD=Es(function(r,n,f){return r+(f?" ":"")+n.toLowerCase()}),tD=dp("toLowerCase"),uD=Es(function(r,n,f){return r+(f?"_":"")+n.toLowerCase()}),lD=Es(function(r,n,f){return r+(f?" ":"")+El(n)}),bD=Es(function(r,n,f){return r+(f?" ":"")+n.toUpperCase()}),El=dp("toUpperCase");function fg(r,n,f){return r=Lt(r),(n=f?t:n)===t?function Zw(ne){return mw.test(ne)}(r)?function Yw(ne){return ne.match(yw)||[]}(r):function Fw(ne){return ne.match(Hb)||[]}(r):r.match(n)||[]}var hg=yt(function(r,n){try{return sn(r,t,n)}catch(f){return vl(f)?f:new st(f)}}),wD=ii(function(r,n){return gn(n,function(f){f=Zn(f),ri(r,f,_l(r[f],r))}),r});function xl(r){return function(){return r}}var ID=gp(),SD=gp(!0);function Xr(r){return r}function Dl(r){return Kd("function"==typeof r?r:vn(r,1))}var AD=yt(function(r,n){return function(f){return so(f,r,n)}}),CD=yt(function(r,n){return function(f){return so(r,f,n)}});function Il(r,n,f){var g=Sr(n),m=Sa(n,g);null==f&&(!Yt(n)||!m.length&&g.length)&&(f=n,n=r,r=this,m=Sa(n,Sr(n)));var A=!(Yt(f)&&"chain"in f&&!f.chain),z=oi(r);return gn(m,function(k){var se=n[k];r[k]=se,z&&(r.prototype[k]=function(){var De=this.__chain__;if(A||De){var Se=r(this.__wrapped__);return(Se.__actions__=Jr(this.__actions__)).push({func:se,args:arguments,thisArg:r}),Se.__chain__=De,Se}return se.apply(r,yi([this.value()],arguments))})}),r}function Sl(){}var ND=nl(Jt),FD=nl(_d),UD=nl(Pc);function dg(r){return ll(r)?Ac(Zn(r)):function f3(r){return function(n){return Bi(n,r)}}(r)}var LD=yp(),MD=yp(!0);function Ol(){return[]}function Pl(){return!1}var KD=Ta(function(r,n){return r+n},0),VD=il("ceil"),kD=Ta(function(r,n){return r/n},1),WD=il("floor"),t5=Ta(function(r,n){return r*n},1),r5=il("round"),n5=Ta(function(r,n){return r-n},0);return I.after=function Ox(r,n){if("function"!=typeof n)throw new _n(p);return r=ft(r),function(){if(--r<1)return n.apply(this,arguments)}},I.ary=qp,I.assign=p2,I.assignIn=ig,I.assignInWith=Ka,I.assignWith=g2,I.at=_2,I.before=Kp,I.bind=_l,I.bindAll=wD,I.bindKey=Vp,I.castArray=function zx(){if(!arguments.length)return[];var r=arguments[0];return ct(r)?r:[r]},I.chain=Bp,I.chunk=function W3(r,n,f){n=(f?Br(r,n,f):n===t)?1:br(ft(n),0);var g=null==r?0:r.length;if(!g||n<1)return[];for(var m=0,A=0,z=ve(ma(g/n));m<g;)z[A++]=mn(r,m,m+=n);return z},I.compact=function G3(r){for(var n=-1,f=null==r?0:r.length,g=0,m=[];++n<f;){var A=r[n];A&&(m[g++]=A)}return m},I.concat=function J3(){var r=arguments.length;if(!r)return[];for(var n=ve(r-1),f=arguments[0],g=r;g--;)n[g-1]=arguments[g];return yi(ct(f)?Jr(f):[f],Rr(n,1))},I.cond=function ED(r){var n=null==r?0:r.length,f=Je();return r=n?Jt(r,function(g){if("function"!=typeof g[1])throw new _n(p);return[f(g[0]),g[1]]}):[],yt(function(g){for(var m=-1;++m<n;){var A=r[m];if(sn(A[0],this,g))return sn(A[1],this,g)}})},I.conforms=function xD(r){return function WE(r){var n=Sr(r);return function(f){return Ld(f,r,n)}}(vn(r,1))},I.constant=xl,I.countBy=ix,I.create=function y2(r,n){var f=bs(r);return null==n?f:jd(f,n)},I.curry=function kp(r,n,f){var g=ni(r,8,t,t,t,t,t,n=f?t:n);return g.placeholder=kp.placeholder,g},I.curryRight=function Wp(r,n,f){var g=ni(r,16,t,t,t,t,t,n=f?t:n);return g.placeholder=Wp.placeholder,g},I.debounce=Gp,I.defaults=v2,I.defaultsDeep=m2,I.defer=Px,I.delay=Ax,I.difference=Y3,I.differenceBy=Q3,I.differenceWith=X3,I.drop=function e6(r,n,f){var g=null==r?0:r.length;return g?mn(r,(n=f||n===t?1:ft(n))<0?0:n,g):[]},I.dropRight=function t6(r,n,f){var g=null==r?0:r.length;return g?mn(r,0,(n=g-(n=f||n===t?1:ft(n)))<0?0:n):[]},I.dropRightWhile=function r6(r,n){return r&&r.length?Aa(r,Je(n,3),!0,!0):[]},I.dropWhile=function n6(r,n){return r&&r.length?Aa(r,Je(n,3),!0):[]},I.fill=function i6(r,n,f,g){var m=null==r?0:r.length;return m?(f&&"number"!=typeof f&&Br(r,n,f)&&(f=0,g=m),function JE(r,n,f,g){var m=r.length;for((f=ft(f))<0&&(f=-f>m?0:m+f),(g=g===t||g>m?m:ft(g))<0&&(g+=m),g=f>g?0:rg(g);f<g;)r[f++]=n;return r}(r,n,f,g)):[]},I.filter=function ox(r,n){return(ct(r)?_i:$d)(r,Je(n,3))},I.flatMap=function cx(r,n){return Rr(za(r,n),1)},I.flatMapDeep=function lx(r,n){return Rr(za(r,n),Ui)},I.flatMapDepth=function fx(r,n,f){return f=f===t?1:ft(f),Rr(za(r,n),f)},I.flatten=Lp,I.flattenDeep=function s6(r){return null!=r&&r.length?Rr(r,Ui):[]},I.flattenDepth=function o6(r,n){return null!=r&&r.length?Rr(r,n=n===t?1:ft(n)):[]},I.flip=function Cx(r){return ni(r,512)},I.flow=ID,I.flowRight=SD,I.fromPairs=function a6(r){for(var n=-1,f=null==r?0:r.length,g={};++n<f;){var m=r[n];g[m[0]]=m[1]}return g},I.functions=function S2(r){return null==r?[]:Sa(r,Sr(r))},I.functionsIn=function O2(r){return null==r?[]:Sa(r,Qr(r))},I.groupBy=hx,I.initial=function c6(r){return null!=r&&r.length?mn(r,0,-1):[]},I.intersection=l6,I.intersectionBy=f6,I.intersectionWith=h6,I.invert=A2,I.invertBy=C2,I.invokeMap=px,I.iteratee=Dl,I.keyBy=gx,I.keys=Sr,I.keysIn=Qr,I.map=za,I.mapKeys=function T2(r,n){var f={};return n=Je(n,3),Bn(r,function(g,m,A){ri(f,n(g,m,A),g)}),f},I.mapValues=function N2(r,n){var f={};return n=Je(n,3),Bn(r,function(g,m,A){ri(f,m,n(g,m,A))}),f},I.matches=function OD(r){return kd(vn(r,1))},I.matchesProperty=function PD(r,n){return Wd(r,vn(n,1))},I.memoize=Ba,I.merge=F2,I.mergeWith=sg,I.method=AD,I.methodOf=CD,I.mixin=Il,I.negate=Ha,I.nthArg=function TD(r){return r=ft(r),yt(function(n){return Gd(n,r)})},I.omit=U2,I.omitBy=function j2(r,n){return og(r,Ha(Je(n)))},I.once=function Rx(r){return Kp(2,r)},I.orderBy=function _x(r,n,f,g){return null==r?[]:(ct(n)||(n=null==n?[]:[n]),ct(f=g?t:f)||(f=null==f?[]:[f]),Jd(r,n,f))},I.over=ND,I.overArgs=Tx,I.overEvery=FD,I.overSome=UD,I.partial=yl,I.partialRight=Jp,I.partition=yx,I.pick=L2,I.pickBy=og,I.property=dg,I.propertyOf=function jD(r){return function(n){return null==r?t:Bi(r,n)}},I.pull=_6,I.pullAll=zp,I.pullAllBy=function y6(r,n,f){return r&&r.length&&n&&n.length?Wc(r,n,Je(f,2)):r},I.pullAllWith=function v6(r,n,f){return r&&r.length&&n&&n.length?Wc(r,n,t,f):r},I.pullAt=m6,I.range=LD,I.rangeRight=MD,I.rearg=Nx,I.reject=function bx(r,n){return(ct(r)?_i:$d)(r,Ha(Je(n,3)))},I.remove=function b6(r,n){var f=[];if(!r||!r.length)return f;var g=-1,m=[],A=r.length;for(n=Je(n,3);++g<A;){var z=r[g];n(z,g,r)&&(f.push(z),m.push(g))}return Qd(r,m),f},I.rest=function Fx(r,n){if("function"!=typeof r)throw new _n(p);return yt(r,n=n===t?n:ft(n))},I.reverse=pl,I.sampleSize=function Ex(r,n,f){return n=(f?Br(r,n,f):n===t)?1:ft(n),(ct(r)?qE:p3)(r,n)},I.set=function z2(r,n,f){return null==r?r:ao(r,n,f)},I.setWith=function $2(r,n,f,g){return g="function"==typeof g?g:t,null==r?r:ao(r,n,f,g)},I.shuffle=function xx(r){return(ct(r)?KE:_3)(r)},I.slice=function w6(r,n,f){var g=null==r?0:r.length;return g?(f&&"number"!=typeof f&&Br(r,n,f)?(n=0,f=g):(n=null==n?0:ft(n),f=f===t?g:ft(f)),mn(r,n,f)):[]},I.sortBy=Sx,I.sortedUniq=function P6(r){return r&&r.length?ep(r):[]},I.sortedUniqBy=function A6(r,n){return r&&r.length?ep(r,Je(n,2)):[]},I.split=function cD(r,n,f){return f&&"number"!=typeof f&&Br(r,n,f)&&(n=f=t),(f=f===t?$n:f>>>0)?(r=Lt(r))&&("string"==typeof n||null!=n&&!ml(n))&&!(n=an(n))&&ps(r)?xi(Cn(r),0,f):r.split(n,f):[]},I.spread=function Ux(r,n){if("function"!=typeof r)throw new _n(p);return n=null==n?0:br(ft(n),0),yt(function(f){var g=f[n],m=xi(f,0,n);return g&&yi(m,g),sn(r,this,m)})},I.tail=function C6(r){var n=null==r?0:r.length;return n?mn(r,1,n):[]},I.take=function R6(r,n,f){return r&&r.length?mn(r,0,(n=f||n===t?1:ft(n))<0?0:n):[]},I.takeRight=function T6(r,n,f){var g=null==r?0:r.length;return g?mn(r,(n=g-(n=f||n===t?1:ft(n)))<0?0:n,g):[]},I.takeRightWhile=function N6(r,n){return r&&r.length?Aa(r,Je(n,3),!1,!0):[]},I.takeWhile=function F6(r,n){return r&&r.length?Aa(r,Je(n,3)):[]},I.tap=function G6(r,n){return n(r),r},I.throttle=function jx(r,n,f){var g=!0,m=!0;if("function"!=typeof r)throw new _n(p);return Yt(f)&&(g="leading"in f?!!f.leading:g,m="trailing"in f?!!f.trailing:m),Gp(r,n,{leading:g,maxWait:n,trailing:m})},I.thru=Ma,I.toArray=tg,I.toPairs=ag,I.toPairsIn=ug,I.toPath=function ZD(r){return ct(r)?Jt(r,Zn):un(r)?[r]:Jr(Np(Lt(r)))},I.toPlainObject=ng,I.transform=function B2(r,n,f){var g=ct(r),m=g||Di(r)||Ds(r);if(n=Je(n,4),null==f){var A=r&&r.constructor;f=m?g?new A:[]:Yt(r)&&oi(A)?bs(_a(r)):{}}return(m?gn:Bn)(r,function(z,k,se){return n(f,z,k,se)}),f},I.unary=function Lx(r){return qp(r,1)},I.union=U6,I.unionBy=j6,I.unionWith=L6,I.uniq=function M6(r){return r&&r.length?wi(r):[]},I.uniqBy=function z6(r,n){return r&&r.length?wi(r,Je(n,2)):[]},I.uniqWith=function $6(r,n){return n="function"==typeof n?n:t,r&&r.length?wi(r,t,n):[]},I.unset=function H2(r,n){return null==r||Qc(r,n)},I.unzip=gl,I.unzipWith=$p,I.update=function Z2(r,n,f){return null==r?r:rp(r,n,tl(f))},I.updateWith=function q2(r,n,f,g){return g="function"==typeof g?g:t,null==r?r:rp(r,n,tl(f),g)},I.values=Is,I.valuesIn=function K2(r){return null==r?[]:Nc(r,Qr(r))},I.without=B6,I.words=fg,I.wrap=function Mx(r,n){return yl(tl(n),r)},I.xor=H6,I.xorBy=Z6,I.xorWith=q6,I.zip=K6,I.zipObject=function V6(r,n){return ip(r||[],n||[],no)},I.zipObjectDeep=function k6(r,n){return ip(r||[],n||[],ao)},I.zipWith=W6,I.entries=ag,I.entriesIn=ug,I.extend=ig,I.extendWith=Ka,Il(I,I),I.add=KD,I.attempt=hg,I.camelCase=G2,I.capitalize=cg,I.ceil=VD,I.clamp=function V2(r,n,f){return f===t&&(f=n,n=t),f!==t&&(f=(f=wn(f))==f?f:0),n!==t&&(n=(n=wn(n))==n?n:0),$i(wn(r),n,f)},I.clone=function $x(r){return vn(r,4)},I.cloneDeep=function Hx(r){return vn(r,5)},I.cloneDeepWith=function Zx(r,n){return vn(r,5,n="function"==typeof n?n:t)},I.cloneWith=function Bx(r,n){return vn(r,4,n="function"==typeof n?n:t)},I.conformsTo=function qx(r,n){return null==n||Ld(r,n,Sr(n))},I.deburr=lg,I.defaultTo=function DD(r,n){return null==r||r!=r?n:r},I.divide=kD,I.endsWith=function J2(r,n,f){r=Lt(r),n=an(n);var g=r.length,m=f=f===t?g:$i(ft(f),0,g);return(f-=n.length)>=0&&r.slice(f,m)==n},I.eq=Tn,I.escape=function Y2(r){return(r=Lt(r))&&Rb.test(r)?r.replace(Bh,$w):r},I.escapeRegExp=function Q2(r){return(r=Lt(r))&&Lb.test(r)?r.replace(yc,"\\$&"):r},I.every=function sx(r,n,f){var g=ct(r)?_d:GE;return f&&Br(r,n,f)&&(n=t),g(r,Je(n,3))},I.find=ax,I.findIndex=Up,I.findKey=function b2(r,n){return yd(r,Je(n,3),Bn)},I.findLast=ux,I.findLastIndex=jp,I.findLastKey=function w2(r,n){return yd(r,Je(n,3),Hc)},I.floor=WD,I.forEach=Hp,I.forEachRight=Zp,I.forIn=function E2(r,n){return null==r?r:Bc(r,Je(n,3),Qr)},I.forInRight=function x2(r,n){return null==r?r:Bd(r,Je(n,3),Qr)},I.forOwn=function D2(r,n){return r&&Bn(r,Je(n,3))},I.forOwnRight=function I2(r,n){return r&&Hc(r,Je(n,3))},I.get=bl,I.gt=Kx,I.gte=Vx,I.has=function P2(r,n){return null!=r&&Dp(r,n,YE)},I.hasIn=wl,I.head=Mp,I.identity=Xr,I.includes=function dx(r,n,f,g){r=Yr(r)?r:Is(r),f=f&&!g?ft(f):0;var m=r.length;return f<0&&(f=br(m+f,0)),qa(r)?f<=m&&r.indexOf(n,f)>-1:!!m&&ds(r,n,f)>-1},I.indexOf=function u6(r,n,f){var g=null==r?0:r.length;if(!g)return-1;var m=null==f?0:ft(f);return m<0&&(m=br(g+m,0)),ds(r,n,m)},I.inRange=function k2(r,n,f){return n=ai(n),f===t?(f=n,n=0):f=ai(f),function XE(r,n,f){return r>=Fr(n,f)&&r<br(n,f)}(r=wn(r),n,f)},I.invoke=R2,I.isArguments=qi,I.isArray=ct,I.isArrayBuffer=kx,I.isArrayLike=Yr,I.isArrayLikeObject=ur,I.isBoolean=function Wx(r){return!0===r||!1===r||nr(r)&&$r(r)==qs},I.isBuffer=Di,I.isDate=Gx,I.isElement=function Jx(r){return nr(r)&&1===r.nodeType&&!fo(r)},I.isEmpty=function Yx(r){if(null==r)return!0;if(Yr(r)&&(ct(r)||"string"==typeof r||"function"==typeof r.splice||Di(r)||Ds(r)||qi(r)))return!r.length;var n=Ur(r);if(n==Pn||n==An)return!r.size;if(co(r))return!Vc(r).length;for(var f in r)if(Mt.call(r,f))return!1;return!0},I.isEqual=function Qx(r,n){return oo(r,n)},I.isEqualWith=function Xx(r,n,f){var g=(f="function"==typeof f?f:t)?f(r,n):t;return g===t?oo(r,n,t,f):!!g},I.isError=vl,I.isFinite=function e2(r){return"number"==typeof r&&Rd(r)},I.isFunction=oi,I.isInteger=Yp,I.isLength=Za,I.isMap=Qp,I.isMatch=function t2(r,n){return r===n||Kc(r,n,ul(n))},I.isMatchWith=function r2(r,n,f){return f="function"==typeof f?f:t,Kc(r,n,ul(n),f)},I.isNaN=function n2(r){return Xp(r)&&r!=+r},I.isNative=function i2(r){if(B3(r))throw new st("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qd(r)},I.isNil=function o2(r){return null==r},I.isNull=function s2(r){return null===r},I.isNumber=Xp,I.isObject=Yt,I.isObjectLike=nr,I.isPlainObject=fo,I.isRegExp=ml,I.isSafeInteger=function a2(r){return Yp(r)&&r>=-gi&&r<=gi},I.isSet=eg,I.isString=qa,I.isSymbol=un,I.isTypedArray=Ds,I.isUndefined=function u2(r){return r===t},I.isWeakMap=function c2(r){return nr(r)&&Ur(r)==Gs},I.isWeakSet=function l2(r){return nr(r)&&"[object WeakSet]"==$r(r)},I.join=function d6(r,n){return null==r?"":cE.call(r,n)},I.kebabCase=X2,I.last=bn,I.lastIndexOf=function p6(r,n,f){var g=null==r?0:r.length;if(!g)return-1;var m=g;return f!==t&&(m=(m=ft(f))<0?br(g+m,0):Fr(m,g-1)),n==n?function kw(ne,Ee,ve){for(var qe=ve+1;qe--;)if(ne[qe]===Ee)return qe;return qe}(r,n,m):ua(r,vd,m,!0)},I.lowerCase=eD,I.lowerFirst=tD,I.lt=f2,I.lte=h2,I.max=function GD(r){return r&&r.length?Ia(r,Xr,Zc):t},I.maxBy=function JD(r,n){return r&&r.length?Ia(r,Je(n,2),Zc):t},I.mean=function YD(r){return md(r,Xr)},I.meanBy=function QD(r,n){return md(r,Je(n,2))},I.min=function XD(r){return r&&r.length?Ia(r,Xr,kc):t},I.minBy=function e5(r,n){return r&&r.length?Ia(r,Je(n,2),kc):t},I.stubArray=Ol,I.stubFalse=Pl,I.stubObject=function zD(){return{}},I.stubString=function $D(){return""},I.stubTrue=function BD(){return!0},I.multiply=t5,I.nth=function g6(r,n){return r&&r.length?Gd(r,ft(n)):t},I.noConflict=function RD(){return Cr._===this&&(Cr._=nE),this},I.noop=Sl,I.now=$a,I.pad=function rD(r,n,f){r=Lt(r);var g=(n=ft(n))?gs(r):0;if(!n||g>=n)return r;var m=(n-g)/2;return Na(ba(m),f)+r+Na(ma(m),f)},I.padEnd=function nD(r,n,f){r=Lt(r);var g=(n=ft(n))?gs(r):0;return n&&g<n?r+Na(n-g,f):r},I.padStart=function iD(r,n,f){r=Lt(r);var g=(n=ft(n))?gs(r):0;return n&&g<n?Na(n-g,f)+r:r},I.parseInt=function sD(r,n,f){return f||null==n?n=0:n&&(n=+n),hE(Lt(r).replace(vc,""),n||0)},I.random=function W2(r,n,f){if(f&&"boolean"!=typeof f&&Br(r,n,f)&&(n=f=t),f===t&&("boolean"==typeof n?(f=n,n=t):"boolean"==typeof r&&(f=r,r=t)),r===t&&n===t?(r=0,n=1):(r=ai(r),n===t?(n=r,r=0):n=ai(n)),r>n){var g=r;r=n,n=g}if(f||r%1||n%1){var m=Td();return Fr(r+m*(n-r+Sw("1e-"+((m+"").length-1))),n)}return Gc(r,n)},I.reduce=function vx(r,n,f){var g=ct(r)?Oc:bd,m=arguments.length<3;return g(r,Je(n,4),f,m,bi)},I.reduceRight=function mx(r,n,f){var g=ct(r)?Rw:bd,m=arguments.length<3;return g(r,Je(n,4),f,m,zd)},I.repeat=function oD(r,n,f){return n=(f?Br(r,n,f):n===t)?1:ft(n),Jc(Lt(r),n)},I.replace=function aD(){var r=arguments,n=Lt(r[0]);return r.length<3?n:n.replace(r[1],r[2])},I.result=function M2(r,n,f){var g=-1,m=(n=Ei(n,r)).length;for(m||(m=1,r=t);++g<m;){var A=null==r?t:r[Zn(n[g])];A===t&&(g=m,A=f),r=oi(A)?A.call(r):A}return r},I.round=r5,I.runInContext=ne,I.sample=function wx(r){return(ct(r)?Ud:d3)(r)},I.size=function Dx(r){if(null==r)return 0;if(Yr(r))return qa(r)?gs(r):r.length;var n=Ur(r);return n==Pn||n==An?r.size:Vc(r).length},I.snakeCase=uD,I.some=function Ix(r,n,f){var g=ct(r)?Pc:y3;return f&&Br(r,n,f)&&(n=t),g(r,Je(n,3))},I.sortedIndex=function E6(r,n){return Pa(r,n)},I.sortedIndexBy=function x6(r,n,f){return Yc(r,n,Je(f,2))},I.sortedIndexOf=function D6(r,n){var f=null==r?0:r.length;if(f){var g=Pa(r,n);if(g<f&&Tn(r[g],n))return g}return-1},I.sortedLastIndex=function I6(r,n){return Pa(r,n,!0)},I.sortedLastIndexBy=function S6(r,n,f){return Yc(r,n,Je(f,2),!0)},I.sortedLastIndexOf=function O6(r,n){if(null!=r&&r.length){var g=Pa(r,n,!0)-1;if(Tn(r[g],n))return g}return-1},I.startCase=lD,I.startsWith=function fD(r,n,f){return r=Lt(r),f=null==f?0:$i(ft(f),0,r.length),n=an(n),r.slice(f,f+n.length)==n},I.subtract=n5,I.sum=function i5(r){return r&&r.length?Rc(r,Xr):0},I.sumBy=function s5(r,n){return r&&r.length?Rc(r,Je(n,2)):0},I.template=function hD(r,n,f){var g=I.templateSettings;f&&Br(r,n,f)&&(n=t),r=Lt(r),n=Ka({},n,g,bp);var k,se,m=Ka({},n.imports,g.imports,bp),A=Sr(m),z=Nc(m,A),De=0,Se=n.interpolate||ia,Te="__p += '",ze=Uc((n.escape||ia).source+"|"+Se.source+"|"+(Se===Hh?Kb:ia).source+"|"+(n.evaluate||ia).source+"|$","g"),ke="//# sourceURL="+(Mt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ww+"]")+"\n";r.replace(ze,function(Xe,wt,Ot,cn,Hr,ln){return Ot||(Ot=cn),Te+=r.slice(De,ln).replace(Qb,Bw),wt&&(k=!0,Te+="' +\n__e("+wt+") +\n'"),Hr&&(se=!0,Te+="';\n"+Hr+";\n__p += '"),Ot&&(Te+="' +\n((__t = ("+Ot+")) == null ? '' : __t) +\n'"),De=ln+Xe.length,Xe}),Te+="';\n";var Qe=Mt.call(n,"variable")&&n.variable;if(Qe){if(Zb.test(Qe))throw new st("Invalid `variable` option passed into `_.template`")}else Te="with (obj) {\n"+Te+"\n}\n";Te=(se?Te.replace(Ob,""):Te).replace(Pb,"$1").replace(Ab,"$1;"),Te="function("+(Qe||"obj")+") {\n"+(Qe?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(k?", __e = _.escape":"")+(se?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Te+"return __p\n}";var dt=hg(function(){return jt(A,ke+"return "+Te).apply(t,z)});if(dt.source=Te,vl(dt))throw dt;return dt},I.times=function HD(r,n){if((r=ft(r))<1||r>gi)return[];var f=$n,g=Fr(r,$n);n=Je(n),r-=$n;for(var m=Tc(g,n);++f<r;)n(f);return m},I.toFinite=ai,I.toInteger=ft,I.toLength=rg,I.toLower=function dD(r){return Lt(r).toLowerCase()},I.toNumber=wn,I.toSafeInteger=function d2(r){return r?$i(ft(r),-gi,gi):0===r?r:0},I.toString=Lt,I.toUpper=function pD(r){return Lt(r).toUpperCase()},I.trim=function gD(r,n,f){if((r=Lt(r))&&(f||n===t))return wd(r);if(!r||!(n=an(n)))return r;var g=Cn(r),m=Cn(n);return xi(g,Ed(g,m),xd(g,m)+1).join("")},I.trimEnd=function _D(r,n,f){if((r=Lt(r))&&(f||n===t))return r.slice(0,Id(r)+1);if(!r||!(n=an(n)))return r;var g=Cn(r);return xi(g,0,xd(g,Cn(n))+1).join("")},I.trimStart=function yD(r,n,f){if((r=Lt(r))&&(f||n===t))return r.replace(vc,"");if(!r||!(n=an(n)))return r;var g=Cn(r);return xi(g,Ed(g,Cn(n))).join("")},I.truncate=function vD(r,n){var f=30,g="...";if(Yt(n)){var m="separator"in n?n.separator:m;f="length"in n?ft(n.length):f,g="omission"in n?an(n.omission):g}var A=(r=Lt(r)).length;if(ps(r)){var z=Cn(r);A=z.length}if(f>=A)return r;var k=f-gs(g);if(k<1)return g;var se=z?xi(z,0,k).join(""):r.slice(0,k);if(m===t)return se+g;if(z&&(k+=se.length-k),ml(m)){if(r.slice(k).search(m)){var De,Se=se;for(m.global||(m=Uc(m.source,Lt(Zh.exec(m))+"g")),m.lastIndex=0;De=m.exec(Se);)var Te=De.index;se=se.slice(0,Te===t?k:Te)}}else if(r.indexOf(an(m),k)!=k){var ze=se.lastIndexOf(m);ze>-1&&(se=se.slice(0,ze))}return se+g},I.unescape=function mD(r){return(r=Lt(r))&&Cb.test(r)?r.replace($h,Ww):r},I.uniqueId=function qD(r){var n=++tE;return Lt(r)+n},I.upperCase=bD,I.upperFirst=El,I.each=Hp,I.eachRight=Zp,I.first=Mp,Il(I,function(){var r={};return Bn(I,function(n,f){Mt.call(I.prototype,f)||(r[f]=n)}),r}(),{chain:!1}),I.VERSION="4.17.21",gn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){I[r].placeholder=I}),gn(["drop","take"],function(r,n){It.prototype[r]=function(f){f=f===t?1:br(ft(f),0);var g=this.__filtered__&&!n?new It(this):this.clone();return g.__filtered__?g.__takeCount__=Fr(f,g.__takeCount__):g.__views__.push({size:Fr(f,$n),type:r+(g.__dir__<0?"Right":"")}),g},It.prototype[r+"Right"]=function(f){return this.reverse()[r](f).reverse()}}),gn(["filter","map","takeWhile"],function(r,n){var f=n+1,g=1==f||3==f;It.prototype[r]=function(m){var A=this.clone();return A.__iteratees__.push({iteratee:Je(m,3),type:f}),A.__filtered__=A.__filtered__||g,A}}),gn(["head","last"],function(r,n){var f="take"+(n?"Right":"");It.prototype[r]=function(){return this[f](1).value()[0]}}),gn(["initial","tail"],function(r,n){var f="drop"+(n?"":"Right");It.prototype[r]=function(){return this.__filtered__?new It(this):this[f](1)}}),It.prototype.compact=function(){return this.filter(Xr)},It.prototype.find=function(r){return this.filter(r).head()},It.prototype.findLast=function(r){return this.reverse().find(r)},It.prototype.invokeMap=yt(function(r,n){return"function"==typeof r?new It(this):this.map(function(f){return so(f,r,n)})}),It.prototype.reject=function(r){return this.filter(Ha(Je(r)))},It.prototype.slice=function(r,n){r=ft(r);var f=this;return f.__filtered__&&(r>0||n<0)?new It(f):(r<0?f=f.takeRight(-r):r&&(f=f.drop(r)),n!==t&&(f=(n=ft(n))<0?f.dropRight(-n):f.take(n-r)),f)},It.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},It.prototype.toArray=function(){return this.take($n)},Bn(It.prototype,function(r,n){var f=/^(?:filter|find|map|reject)|While$/.test(n),g=/^(?:head|last)$/.test(n),m=I[g?"take"+("last"==n?"Right":""):n],A=g||/^find/.test(n);m&&(I.prototype[n]=function(){var z=this.__wrapped__,k=g?[1]:arguments,se=z instanceof It,De=k[0],Se=se||ct(z),Te=function(wt){var Ot=m.apply(I,yi([wt],k));return g&&ze?Ot[0]:Ot};Se&&f&&"function"==typeof De&&1!=De.length&&(se=Se=!1);var ze=this.__chain__,Qe=A&&!ze,dt=se&&!this.__actions__.length;if(!A&&Se){z=dt?z:new It(this);var Xe=r.apply(z,k);return Xe.__actions__.push({func:Ma,args:[Te],thisArg:t}),new yn(Xe,ze)}return Qe&&dt?r.apply(this,k):(Xe=this.thru(Te),Qe?g?Xe.value()[0]:Xe.value():Xe)})}),gn(["pop","push","shift","sort","splice","unshift"],function(r){var n=la[r],f=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",g=/^(?:pop|shift)$/.test(r);I.prototype[r]=function(){var m=arguments;if(g&&!this.__chain__){var A=this.value();return n.apply(ct(A)?A:[],m)}return this[f](function(z){return n.apply(ct(z)?z:[],m)})}}),Bn(It.prototype,function(r,n){var f=I[n];if(f){var g=f.name+"";Mt.call(ms,g)||(ms[g]=[]),ms[g].push({name:n,func:f})}}),ms[Ra(t,2).name]=[{name:"wrapper",func:t}],It.prototype.clone=function mE(){var r=new It(this.__wrapped__);return r.__actions__=Jr(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Jr(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Jr(this.__views__),r},It.prototype.reverse=function bE(){if(this.__filtered__){var r=new It(this);r.__dir__=-1,r.__filtered__=!0}else(r=this.clone()).__dir__*=-1;return r},It.prototype.value=function wE(){var r=this.__wrapped__.value(),n=this.__dir__,f=ct(r),g=n<0,m=f?r.length:0,A=function N3(r,n,f){for(var g=-1,m=f.length;++g<m;){var A=f[g],z=A.size;switch(A.type){case"drop":r+=z;break;case"dropRight":n-=z;break;case"take":n=Fr(n,r+z);break;case"takeRight":r=br(r,n-z)}}return{start:r,end:n}}(0,m,this.__views__),z=A.start,k=A.end,se=k-z,De=g?k:z-1,Se=this.__iteratees__,Te=Se.length,ze=0,ke=Fr(se,this.__takeCount__);if(!f||!g&&m==se&&ke==se)return np(r,this.__actions__);var Qe=[];e:for(;se--&&ze<ke;){for(var dt=-1,Xe=r[De+=n];++dt<Te;){var wt=Se[dt],cn=wt.type,Hr=(0,wt.iteratee)(Xe);if(2==cn)Xe=Hr;else if(!Hr){if(1==cn)continue e;break e}}Qe[ze++]=Xe}return Qe},I.prototype.at=J6,I.prototype.chain=function Y6(){return Bp(this)},I.prototype.commit=function Q6(){return new yn(this.value(),this.__chain__)},I.prototype.next=function X6(){this.__values__===t&&(this.__values__=tg(this.value()));var r=this.__index__>=this.__values__.length;return{done:r,value:r?t:this.__values__[this.__index__++]}},I.prototype.plant=function tx(r){for(var n,f=this;f instanceof xa;){var g=Fp(f);g.__index__=0,g.__values__=t,n?m.__wrapped__=g:n=g;var m=g;f=f.__wrapped__}return m.__wrapped__=r,n},I.prototype.reverse=function rx(){var r=this.__wrapped__;if(r instanceof It){var n=r;return this.__actions__.length&&(n=new It(this)),(n=n.reverse()).__actions__.push({func:Ma,args:[pl],thisArg:t}),new yn(n,this.__chain__)}return this.thru(pl)},I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=function nx(){return np(this.__wrapped__,this.__actions__)},I.prototype.first=I.prototype.head,Qs&&(I.prototype[Qs]=function ex(){return this}),I}();ji?((ji.exports=_s)._=_s,Dc._=_s):Cr._=_s}.call(Hs);var R1=Object.defineProperty,T1=Object.defineProperties,N1=Object.getOwnPropertyDescriptors,Dh=Object.getOwnPropertySymbols,F1=Object.prototype.hasOwnProperty,U1=Object.prototype.propertyIsEnumerable,Ih=(o,e,t)=>e in o?R1(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,ko=(o,e)=>{for(var t in e||(e={}))F1.call(e,t)&&Ih(o,t,e[t]);if(Dh)for(var t of Dh(e))U1.call(e,t)&&Ih(o,t,e[t]);return o},j1=(o,e)=>T1(o,N1(e));function pi(o,e,t){var a;const l=function Ai(o){const[e,t]=o.split(Pi);return{namespace:e,reference:t}}(o);return(null==(a=e.rpcMap)?void 0:a[l.reference])||`https://rpc.walletconnect.com/v1/?chainId=${l.namespace}:${l.reference}&projectId=${t}`}function Fi(o){return o.includes(":")?o.split(":")[1]:o}function Sh(o){return o.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Oh(o={},e={}){const t=Ph(o),a=Ph(e);return rc.exports.merge(t,a)}function Ph(o){var e,t,a,l;const d={};if(!ss(o))return d;for(const[p,E]of Object.entries(o)){const F=Ao(p)?[p]:E.chains,P=E.methods||[],j=E.events||[],ie=E.rpcMap||{},be=is(p);d[be]=j1(ko(ko({},d[be]),E),{chains:Ln(F,null==(e=d[be])?void 0:e.chains),methods:Ln(P,null==(t=d[be])?void 0:t.methods),events:Ln(j,null==(a=d[be])?void 0:a.events),rpcMap:ko(ko({},ie),null==(l=d[be])?void 0:l.rpcMap)})}return d}function M1(o){return o.includes(":")?o.split(":")[2]:o}function z1(o){const e={};for(const[t,a]of Object.entries(o)){const l=a.methods||[],d=a.events||[],p=a.accounts||[],E=Ao(t)?[t]:a.chains?a.chains:Sh(a.accounts);e[t]={chains:E,methods:l,events:d,accounts:p}}return e}function nc(o){return"number"==typeof o?o:o.includes("0x")?parseInt(o,16):(o=o.includes(":")?o.split(":")[1]:o,isNaN(Number(o))?o:Number(o))}const Ah={},Gt=o=>Ah[o],ic=(o,e)=>{Ah[o]=e};class $1{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const l=Fi(t);e[l]=this.createHttpProvider(l,null==(a=this.namespace.rpcMap)?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||pi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new Wn(new Ni(a,Gt("disableProviderPing")))}}class B1{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(e){var t=this;return(0,w.Z)(function*(){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return t.getAccounts();case"wallet_switchEthereumChain":return yield t.handleSwitchChain(e);case"eth_chainId":return parseInt(t.getDefaultChain())}return t.namespace.methods.includes(e.request.method)?yield t.client.request(e):t.getHttpProvider().request(e.request)})()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit("default_chain_changed",`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const a=t||pi(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new Wn(new wh(a,Gt("disableProviderPing")))}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const l=parseInt(Fi(t));e[l]=this.createHttpProvider(l,null==(a=this.namespace.rpcMap)?void 0:a[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}handleSwitchChain(e){var t=this;return(0,w.Z)(function*(){var a,l;let d=e.request.params?null==(a=e.request.params[0])?void 0:a.chainId:"0x0";d=d.startsWith("0x")?d:`0x${d}`;const p=parseInt(d,16);if(t.isChainApproved(p))t.setDefaultChain(`${p}`);else{if(!t.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${p}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);yield t.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:d}]},chainId:null==(l=t.namespace.chains)?void 0:l[0]}),t.setDefaultChain(`${p}`)}return null})()}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class H1{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const l=Fi(t);e[l]=this.createHttpProvider(l,null==(a=this.namespace.rpcMap)?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||pi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new Wn(new Ni(a,Gt("disableProviderPing")))}}class Z1{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const l=Fi(t);e[l]=this.createHttpProvider(l,null==(a=this.namespace.rpcMap)?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||pi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new Wn(new Ni(a,Gt("disableProviderPing")))}}class q1{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const a=this.getCardanoRPCUrl(t),l=Fi(t);e[l]=this.createHttpProvider(l,a)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||this.getCardanoRPCUrl(e);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new Wn(new Ni(a,Gt("disableProviderPing")))}}class K1{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const l=Fi(t);e[l]=this.createHttpProvider(l,null==(a=this.namespace.rpcMap)?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||pi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new Wn(new Ni(a,Gt("disableProviderPing")))}}class V1{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit("default_chain_changed",`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;const l=Fi(t);e[l]=this.createHttpProvider(l,null==(a=this.namespace.rpcMap)?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||pi(e,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);return new Wn(new Ni(a,Gt("disableProviderPing")))}}class k1{constructor(e){this.name="near",this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const a=t||pi(`${this.name}:${e}`,this.namespace);if(!a)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,a)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var a;e[t]=this.createHttpProvider(t,null==(a=this.namespace.rpcMap)?void 0:a[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const a=this.createHttpProvider(e,t);a&&(this.httpProviders[e]=a)}createHttpProvider(e,t){const a=t||pi(e,this.namespace);return typeof a>"u"?void 0:new Wn(new Ni(a,Gt("disableProviderPing")))}}var W1=Object.defineProperty,G1=Object.defineProperties,J1=Object.getOwnPropertyDescriptors,Ch=Object.getOwnPropertySymbols,Y1=Object.prototype.hasOwnProperty,Q1=Object.prototype.propertyIsEnumerable,Rh=(o,e,t)=>e in o?W1(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Wo=(o,e)=>{for(var t in e||(e={}))Y1.call(e,t)&&Rh(o,t,e[t]);if(Ch)for(var t of Ch(e))Q1.call(e,t)&&Rh(o,t,e[t]);return o},sc=(o,e)=>G1(o,J1(e));class oc{constructor(e){this.events=new(Ae()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:Uo()(Mo({level:e?.logger||"error"})),this.disableProviderPing=e?.disableProviderPing||!1}static init(e){return(0,w.Z)(function*(){const t=new oc(e);return yield t.initialize(),t})()}request(e,t,a){var l=this;return(0,w.Z)(function*(){const[d,p]=l.validateChain(t);if(!l.session)throw new Error("Please call connect() before request()");return yield l.getProvider(d).request({request:Wo({},e),chainId:`${d}:${p}`,topic:l.session.topic,expiry:a})})()}sendAsync(e,t,a,l){const d=(new Date).getTime();this.request(e,a,l).then(p=>t(null,Bo(d,p))).catch(p=>t(p,void 0))}enable(){var e=this;return(0,w.Z)(function*(){if(!e.client)throw new Error("Sign Client not initialized");return e.session||(yield e.connect({namespaces:e.namespaces,optionalNamespaces:e.optionalNamespaces,sessionProperties:e.sessionProperties})),yield e.requestAccounts()})()}disconnect(){var e=this;return(0,w.Z)(function*(){var t;if(!e.session)throw new Error("Please call connect() before enable()");yield e.client.disconnect({topic:null==(t=e.session)?void 0:t.topic,reason:Wt("USER_DISCONNECTED")}),yield e.cleanup()})()}connect(e){var t=this;return(0,w.Z)(function*(){if(!t.client)throw new Error("Sign Client not initialized");if(t.setNamespaces(e),yield t.cleanupPendingPairings(),!e.skipPairing)return yield t.pair(e.pairingTopic)})()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}pair(e){var t=this;return(0,w.Z)(function*(){t.shouldAbortPairingAttempt=!1;let a=0;do{if(t.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(a>=t.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:l,approval:d}=yield t.client.connect({pairingTopic:e,requiredNamespaces:t.namespaces,optionalNamespaces:t.optionalNamespaces,sessionProperties:t.sessionProperties});l&&(t.uri=l,t.events.emit("display_uri",l)),yield d().then(p=>{t.session=p;const E=z1(p.namespaces);t.namespaces=Oh(t.namespaces,E),t.persist("namespaces",t.namespaces)}).catch(p=>{if(p.message!==gh)throw p;a++})}while(!t.session);return t.onConnect(),t.session})()}setDefaultChain(e,t){try{if(!this.session)return;const[a,l]=this.validateChain(e);this.getProvider(a).setDefaultChain(l,t)}catch(a){if(!/Please call connect/.test(a.message))throw a}}cleanupPendingPairings(e={}){var t=this;return(0,w.Z)(function*(){t.logger.info("Cleaning up inactive pairings...");const a=t.client.pairing.getAll();if(Mn(a)){for(const l of a)e.deletePairings?t.client.core.expirer.set(l.topic,0):yield t.client.core.relayer.subscriber.unsubscribe(l.topic);t.logger.info(`Inactive pairings cleared: ${a.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var e=this;return(0,w.Z)(function*(){e.namespaces=yield e.getFromStore("namespaces"),e.optionalNamespaces=(yield e.getFromStore("optionalNamespaces"))||{},e.client.session.length&&(e.session=e.client.session.get(e.client.session.keys[e.client.session.keys.length-1]),e.createProviders())})()}initialize(){var e=this;return(0,w.Z)(function*(){e.logger.trace("Initialized"),yield e.createClient(),yield e.checkStorage(),e.registerEventListeners()})()}createClient(){var e=this;return(0,w.Z)(function*(){e.client=e.providerOpts.client||(yield tc.init({logger:e.providerOpts.logger||"error",relayUrl:e.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:e.providerOpts.projectId,metadata:e.providerOpts.metadata,storageOptions:e.providerOpts.storageOptions,storage:e.providerOpts.storage,name:e.providerOpts.name})),e.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>is(t)))];ic("client",this.client),ic("events",this.events),ic("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const a=function L1(o,e){const t=Object.keys(e.namespaces).filter(l=>l.includes(o));if(!t.length)return[];const a=[];return t.forEach(l=>{a.push(...e.namespaces[l].accounts)}),a}(t,this.session),l=Sh(a),d=Oh(this.namespaces,this.optionalNamespaces),p=sc(Wo({},d[t]),{accounts:a,chains:l});switch(t){case"eip155":this.rpcProviders[t]=new B1({namespace:p});break;case"solana":this.rpcProviders[t]=new H1({namespace:p});break;case"cosmos":this.rpcProviders[t]=new Z1({namespace:p});break;case"polkadot":this.rpcProviders[t]=new $1({namespace:p});break;case"cip34":this.rpcProviders[t]=new q1({namespace:p});break;case"elrond":this.rpcProviders[t]=new K1({namespace:p});break;case"multiversx":this.rpcProviders[t]=new V1({namespace:p});break;case"near":this.rpcProviders[t]=new k1({namespace:p})}})}registerEventListeners(){var e=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:a}=t,{event:l}=a;if("accountsChanged"===l.name){const d=l.data;d&&Mn(d)&&this.events.emit("accountsChanged",d.map(M1))}else if("chainChanged"===l.name){const d=a.chainId,p=a.event.data,E=is(d),F=nc(d)!==nc(p)?`${E}:${nc(p)}`:d;this.onChainChanged(F)}else this.events.emit(l.name,l.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:a})=>{var l;const{namespaces:d}=a,p=null==(l=this.client)?void 0:l.session.get(t);this.session=sc(Wo({},p),{namespaces:d}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:a})}),this.client.on("session_delete",function(){var t=(0,w.Z)(function*(a){yield e.cleanup(),e.events.emit("session_delete",a),e.events.emit("disconnect",sc(Wo({},Wt("USER_DISCONNECTED")),{data:a.topic}))});return function(a){return t.apply(this,arguments)}}()),this.on("default_chain_changed",t=>{this.onChainChanged(t,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:a,sessionProperties:l}=e;t&&Object.keys(t).length&&(this.namespaces=t),a&&Object.keys(a).length&&(this.optionalNamespaces=a),this.sessionProperties=l,this.persist("namespaces",t),this.persist("optionalNamespaces",a)}validateChain(e){const[t,a]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,a];if(t&&!Object.keys(this.namespaces||{}).map(p=>is(p)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&a)return[t,a];const l=is(Object.keys(this.namespaces)[0]);return[l,this.rpcProviders[l].getDefaultChain()]}requestAccounts(){var e=this;return(0,w.Z)(function*(){const[t]=e.validateChain();return yield e.getProvider(t).requestAccounts()})()}onChainChanged(e,t=!1){if(!this.namespaces)return;const[a,l]=this.validateChain(e);l&&(t||this.getProvider(a).setDefaultChain(l),this.namespaces[a]?this.namespaces[a].defaultChain=l:this.namespaces[`${a}:${l}`]?this.namespaces[`${a}:${l}`].defaultChain=l:this.namespaces[`${a}:${l}`]={defaultChain:l},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",l))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var e=this;return(0,w.Z)(function*(){e.session=void 0,e.namespaces=void 0,e.optionalNamespaces=void 0,e.sessionProperties=void 0,e.persist("namespaces",void 0),e.persist("optionalNamespaces",void 0),e.persist("sessionProperties",void 0),yield e.cleanupPendingPairings({deletePairings:!0})})()}persist(e,t){this.client.core.storage.setItem(`${xh}/${e}`,t)}getFromStore(e){var t=this;return(0,w.Z)(function*(){return yield t.client.core.storage.getItem(`${xh}/${e}`)})()}}const X1=oc,Go=["eth_sendTransaction","personal_sign"],Th=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Jo=["chainChanged","accountsChanged"],Nh=["chainChanged","accountsChanged","message","disconnect","connect"];var ib=Object.defineProperty,sb=Object.defineProperties,ob=Object.getOwnPropertyDescriptors,Fh=Object.getOwnPropertySymbols,ab=Object.prototype.hasOwnProperty,ub=Object.prototype.propertyIsEnumerable,Uh=(o,e,t)=>e in o?ib(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Zs=(o,e)=>{for(var t in e||(e={}))ab.call(e,t)&&Uh(o,t,e[t]);if(Fh)for(var t of Fh(e))ub.call(e,t)&&Uh(o,t,e[t]);return o},jh=(o,e)=>sb(o,ob(e));function Yo(o){return Number(o[0].split(":")[1])}function ac(o){return`0x${o.toString(16)}`}class Qo{constructor(){this.events=new Re.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static init(e){return(0,w.Z)(function*(){const t=new Qo;return yield t.initialize(e),t})()}request(e,t){var a=this;return(0,w.Z)(function*(){return yield a.signer.request(e,a.formatChainId(a.chainId),t)})()}sendAsync(e,t,a){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),a)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}enable(){var e=this;return(0,w.Z)(function*(){return e.session||(yield e.connect()),yield e.request({method:"eth_requestAccounts"})})()}connect(e){var t=this;return(0,w.Z)(function*(){if(!t.signer.client)throw new Error("Provider not initialized. Call init() first");t.loadConnectOpts(e);const{required:a,optional:l}=function cb(o){const{chains:e,optionalChains:t,methods:a,optionalMethods:l,events:d,optionalEvents:p,rpcMap:E}=o;if(!Mn(e))throw new Error("Invalid chains");const F={chains:e,methods:a||Go,events:d||Jo,rpcMap:Zs({},e.length?{[Yo(e)]:E[Yo(e)]}:{})},P=d?.filter(Ne=>!Jo.includes(Ne)),j=a?.filter(Ne=>!Go.includes(Ne));if(!(t||p||l||null!=P&&P.length||null!=j&&j.length))return{required:e.length?F:void 0};const be={chains:[...new Set(P?.length&&j?.length||!t?F.chains.concat(t||[]):t)],methods:[...new Set(F.methods.concat(null!=l&&l.length?l:Th))],events:[...new Set(F.events.concat(null!=p&&p.length?p:Nh))],rpcMap:E};return{required:e.length?F:void 0,optional:t.length?be:void 0}}(t.rpc);try{const d=yield new Promise(function(){var E=(0,w.Z)(function*(F,P){var j;t.rpc.showQrModal&&(null==(j=t.modal)||j.subscribeModal(ie=>{!ie.open&&!t.signer.session&&(t.signer.abortPairingAttempt(),P(new Error("Connection request reset. Please try again.")))})),yield t.signer.connect(jh(Zs({namespaces:Zs({},a&&{[t.namespace]:a})},l&&{optionalNamespaces:{[t.namespace]:l}}),{pairingTopic:e?.pairingTopic})).then(ie=>{F(ie)}).catch(ie=>{P(new Error(ie.message))})});return function(F,P){return E.apply(this,arguments)}}());if(!d)return;const p=function mg(o,e=[]){const t=[];return Object.keys(o).forEach(a=>{e.length&&!e.includes(a)||t.push(...o[a].accounts)}),t}(d.namespaces,[t.namespace]);t.setChainIds(t.rpc.chains.length?t.rpc.chains:p),t.setAccounts(p),t.events.emit("connect",{chainId:ac(t.chainId)})}catch(d){throw t.signer.logger.error(d),d}finally{t.modal&&t.modal.closeModal()}})()}disconnect(){var e=this;return(0,w.Z)(function*(){e.session&&(yield e.signer.disconnect()),e.reset()})()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:a}=t;"accountsChanged"===a.name?(this.accounts=this.parseAccounts(a.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===a.name?this.setChainId(this.formatChainId(a.data)):this.events.emit(a.name,a.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",ac(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",jh(Zs({},Wt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,a;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(a=this.modal)||a.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(a=>this.isCompatibleChainId(a)).map(a=>this.parseChainId(a));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",ac(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,a,l]=e.split(":");return{chainId:`${t}:${a}`,address:l}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,a;const l=null!=(t=e?.chains)?t:[],d=null!=(a=e?.optionalChains)?a:[],p=l.concat(d);if(!p.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const E=l.length?e?.methods||Go:[],F=l.length?e?.events||Jo:[],P=e?.optionalMethods||[],j=e?.optionalEvents||[],ie=e?.rpcMap||this.buildRpcMap(p,e.projectId),be=e?.qrModalOptions||void 0;return{chains:l?.map(Ne=>this.formatChainId(Ne)),optionalChains:d.map(Ne=>this.formatChainId(Ne)),methods:E,events:F,optionalMethods:P,optionalEvents:j,rpcMap:ie,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:be,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const a={};return e.forEach(l=>{a[l]=this.getRpcUrl(l,t)}),a}initialize(e){var t=this;return(0,w.Z)(function*(){if(t.rpc=t.getRpcConfig(e),t.chainId=Yo(t.rpc.chains.length?t.rpc.chains:t.rpc.optionalChains),t.signer=yield X1.init({projectId:t.rpc.projectId,metadata:t.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),t.registerEventListeners(),yield t.loadPersistedSession(),t.rpc.showQrModal){let a;try{const{WalletConnectModal:l}=yield q.e(301).then(q.bind(q,3301));a=l}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(a)try{t.modal=new a(Zs({projectId:t.rpc.projectId},t.rpc.qrModalOptions))}catch(l){throw t.signer.logger.error(l),new Error("Could not generate WalletConnectModal Instance")}}})()}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:a,rpcMap:l}=e;t&&Mn(t)&&(this.rpc.chains=t.map(d=>this.formatChainId(d)),t.forEach(d=>{this.rpc.rpcMap[d]=l?.[d]||this.getRpcUrl(d)})),a&&Mn(a)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=a?.map(d=>this.formatChainId(d)),a.forEach(d=>{this.rpc.rpcMap[d]=l?.[d]||this.getRpcUrl(d)}))}getRpcUrl(e,t){var a;return(null==(a=this.rpc.rpcMap)?void 0:a[e])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}loadPersistedSession(){var e=this;return(0,w.Z)(function*(){if(!e.session)return;const t=yield e.signer.client.core.storage.getItem(`${e.STORAGE_KEY}/chainId`),a=e.session.namespaces[`${e.namespace}:${t}`]?e.session.namespaces[`${e.namespace}:${t}`]:e.session.namespaces[e.namespace];e.setChainIds(t?[e.formatChainId(t)]:a?.accounts),e.setAccounts(a?.accounts)})()}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}}const lb=Qo},2108:(He,b,q)=>{"use strict";q.d(b,{q:()=>G});class G{}},699:(He,b,q)=>{"use strict";q.r(b),q.d(b,{IEvents:()=>G.q});var G=q(2108)},4953:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HEARTBEAT_EVENTS=b.HEARTBEAT_INTERVAL=void 0;const G=q(5409);b.HEARTBEAT_INTERVAL=G.FIVE_SECONDS,b.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},5368:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),q(9653).__exportStar(q(4953),b)},9754:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HeartBeat=void 0;const G=q(9653),we=q(2016),Pe=q(5409),Ie=q(2007),Q=q(5368);class le extends Ie.IHeartBeat{constructor(K){super(K),this.events=new we.EventEmitter,this.interval=Q.HEARTBEAT_INTERVAL,this.interval=K?.interval||Q.HEARTBEAT_INTERVAL}static init(K){return G.__awaiter(this,void 0,void 0,function*(){const $=new le(K);return yield $.init(),$})}init(){return G.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(K,$){this.events.on(K,$)}once(K,$){this.events.once(K,$)}off(K,$){this.events.off(K,$)}removeListener(K,$){this.events.removeListener(K,$)}initialize(){return G.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),Pe.toMiliseconds(this.interval))})}pulse(){this.events.emit(Q.HEARTBEAT_EVENTS.pulse)}}b.HeartBeat=le},986:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});const G=q(9653);G.__exportStar(q(9754),b),G.__exportStar(q(2007),b),G.__exportStar(q(5368),b)},7293:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IHeartBeat=void 0;const G=q(699);b.IHeartBeat=class we extends G.IEvents{constructor(Ie){super()}}},2007:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),q(9653).__exportStar(q(7293),b)},36:()=>{},2768:()=>{},6380:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});const G=q(4);G.__exportStar(q(2996),b),G.__exportStar(q(6836),b)},2996:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_THOUSAND=b.ONE_HUNDRED=void 0,b.ONE_HUNDRED=100,b.ONE_THOUSAND=1e3},6836:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_YEAR=b.FOUR_WEEKS=b.THREE_WEEKS=b.TWO_WEEKS=b.ONE_WEEK=b.THIRTY_DAYS=b.SEVEN_DAYS=b.FIVE_DAYS=b.THREE_DAYS=b.ONE_DAY=b.TWENTY_FOUR_HOURS=b.TWELVE_HOURS=b.SIX_HOURS=b.THREE_HOURS=b.ONE_HOUR=b.SIXTY_MINUTES=b.THIRTY_MINUTES=b.TEN_MINUTES=b.FIVE_MINUTES=b.ONE_MINUTE=b.SIXTY_SECONDS=b.THIRTY_SECONDS=b.TEN_SECONDS=b.FIVE_SECONDS=b.ONE_SECOND=void 0,b.ONE_SECOND=1,b.FIVE_SECONDS=5,b.TEN_SECONDS=10,b.THIRTY_SECONDS=30,b.SIXTY_SECONDS=60,b.ONE_MINUTE=b.SIXTY_SECONDS,b.FIVE_MINUTES=5*b.ONE_MINUTE,b.TEN_MINUTES=10*b.ONE_MINUTE,b.THIRTY_MINUTES=30*b.ONE_MINUTE,b.SIXTY_MINUTES=60*b.ONE_MINUTE,b.ONE_HOUR=b.SIXTY_MINUTES,b.THREE_HOURS=3*b.ONE_HOUR,b.SIX_HOURS=6*b.ONE_HOUR,b.TWELVE_HOURS=12*b.ONE_HOUR,b.TWENTY_FOUR_HOURS=24*b.ONE_HOUR,b.ONE_DAY=b.TWENTY_FOUR_HOURS,b.THREE_DAYS=3*b.ONE_DAY,b.FIVE_DAYS=5*b.ONE_DAY,b.SEVEN_DAYS=7*b.ONE_DAY,b.THIRTY_DAYS=30*b.ONE_DAY,b.ONE_WEEK=b.SEVEN_DAYS,b.TWO_WEEKS=2*b.ONE_WEEK,b.THREE_WEEKS=3*b.ONE_WEEK,b.FOUR_WEEKS=4*b.ONE_WEEK,b.ONE_YEAR=365*b.ONE_DAY},5409:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});const G=q(4);G.__exportStar(q(3429),b),G.__exportStar(q(5882),b),G.__exportStar(q(8066),b),G.__exportStar(q(6380),b)},8066:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),q(4).__exportStar(q(8148),b)},8148:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IWatch=void 0,b.IWatch=class q{}},9976:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.fromMiliseconds=b.toMiliseconds=void 0;const G=q(6380);b.toMiliseconds=function we(Ie){return Ie*G.ONE_THOUSAND},b.fromMiliseconds=function Pe(Ie){return Math.floor(Ie/G.ONE_THOUSAND)}},2373:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.delay=void 0,b.delay=function q(G){return new Promise(we=>{setTimeout(()=>{we(!0)},G)})}},3429:(He,b,q)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});const G=q(4);G.__exportStar(q(2373),b),G.__exportStar(q(9976),b)},5882:(He,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Watch=void 0;class q{constructor(){this.timestamps=new Map}start(we){if(this.timestamps.has(we))throw new Error(`Watch already started for label: ${we}`);this.timestamps.set(we,{started:Date.now()})}stop(we){const Pe=this.get(we);if(typeof Pe.elapsed<"u")throw new Error(`Watch already stopped for label: ${we}`);const Ie=Date.now()-Pe.started;this.timestamps.set(we,{started:Pe.started,elapsed:Ie})}get(we){const Pe=this.timestamps.get(we);if(typeof Pe>"u")throw new Error(`No timestamp found for label: ${we}`);return Pe}elapsed(we){const Pe=this.get(we);return Pe.elapsed||Date.now()-Pe.started}}b.Watch=q,b.default=q},439:(He,b)=>{"use strict";function q(me){let ue;return typeof window<"u"&&typeof window[me]<"u"&&(ue=window[me]),ue}function G(me){const ue=q(me);if(!ue)throw new Error(`${me} is not defined in Window`);return ue}Object.defineProperty(b,"__esModule",{value:!0}),b.getLocalStorage=b.getLocalStorageOrThrow=b.getCrypto=b.getCryptoOrThrow=b.getLocation=b.getLocationOrThrow=b.getNavigator=b.getNavigatorOrThrow=b.getDocument=b.getDocumentOrThrow=b.getFromWindowOrThrow=b.getFromWindow=void 0,b.getFromWindow=q,b.getFromWindowOrThrow=G,b.getDocumentOrThrow=function we(){return G("document")},b.getDocument=function Pe(){return q("document")},b.getNavigatorOrThrow=function Ie(){return G("navigator")},b.getNavigator=function Q(){return q("navigator")},b.getLocationOrThrow=function le(){return G("location")},b.getLocation=function V(){return q("location")},b.getCryptoOrThrow=function K(){return G("crypto")},b.getCrypto=function $(){return q("crypto")},b.getLocalStorageOrThrow=function M(){return G("localStorage")},b.getLocalStorage=function fe(){return q("localStorage")}},6534:(He,b,q)=>{"use strict";b.D=void 0;const we=q(439);b.D=function Pe(){let Ie,Q;try{Ie=we.getDocumentOrThrow(),Q=we.getLocationOrThrow()}catch{return null}function V(...w){const Re=Ie.getElementsByTagName("meta");for(let Ae=0;Ae<Re.length;Ae++){const Y=Re[Ae],ge=["itemprop","property","name"].map(pe=>Y.getAttribute(pe)).filter(pe=>!!pe&&w.includes(pe));if(ge.length&&ge){const pe=Y.getAttribute("content");if(pe)return pe}}return""}const M=function K(){let w=V("name","og:site_name","og:title","twitter:title");return w||(w=Ie.title),w}();return{description:function $(){return V("description","og:description","twitter:description","keywords")}(),url:Q.origin,icons:function le(){const w=Ie.getElementsByTagName("link"),Re=[];for(let Ae=0;Ae<w.length;Ae++){const Y=w[Ae],ge=Y.getAttribute("rel");if(ge&&ge.toLowerCase().indexOf("icon")>-1){const pe=Y.getAttribute("href");if(pe)if(-1===pe.toLowerCase().indexOf("https:")&&-1===pe.toLowerCase().indexOf("http:")&&0!==pe.indexOf("//")){let W=Q.protocol+"//"+Q.host;if(0===pe.indexOf("/"))W+=pe;else{const oe=Q.pathname.split("/");oe.pop(),W+=oe.join("/")+"/"+pe}Re.push(W)}else 0===pe.indexOf("//")?Re.push(Q.protocol+pe):Re.push(pe)}}return Re}(),name:M}}},4989:He=>{"use strict";var b="%[a-f0-9]{2}",q=new RegExp("("+b+")|([^%]+?)","gi"),G=new RegExp("("+b+")+","gi");function we(Q,le){try{return[decodeURIComponent(Q.join(""))]}catch{}if(1===Q.length)return Q;var V=Q.slice(0,le=le||1),K=Q.slice(le);return Array.prototype.concat.call([],we(V),we(K))}function Pe(Q){try{return decodeURIComponent(Q)}catch{for(var le=Q.match(q)||[],V=1;V<le.length;V++)le=(Q=we(le,V).join("")).match(q)||[];return Q}}He.exports=function(Q){if("string"!=typeof Q)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof Q+"`");try{return Q=Q.replace(/\+/g," "),decodeURIComponent(Q)}catch{return function Ie(Q){for(var le={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},V=G.exec(Q);V;){try{le[V[0]]=decodeURIComponent(V[0])}catch{var K=Pe(V[0]);K!==V[0]&&(le[V[0]]=K)}V=G.exec(Q)}le["%C2"]="\ufffd";for(var $=Object.keys(le),M=0;M<$.length;M++){var fe=$[M];Q=Q.replace(new RegExp(fe,"g"),le[fe])}return Q}(Q)}}},220:He=>{"use strict";He.exports=function(b,q){for(var G={},we=Object.keys(b),Pe=Array.isArray(q),Ie=0;Ie<we.length;Ie++){var Q=we[Ie],le=b[Q];(Pe?-1!==q.indexOf(Q):q(Q,le,b))&&(G[Q]=le)}return G}},9557:(He,b,q)=>{He.exports=self.fetch||(self.fetch=q(8456).default||q(8456))},2650:(He,b,q)=>{He=q.nmd(He);var we="__lodash_hash_undefined__",Pe=1,Ie=2,Q=9007199254740991,le="[object Arguments]",V="[object Array]",K="[object AsyncFunction]",$="[object Boolean]",M="[object Date]",fe="[object Error]",me="[object Function]",ue="[object GeneratorFunction]",de="[object Map]",w="[object Number]",Re="[object Null]",Ae="[object Object]",Y="[object Promise]",ge="[object Proxy]",pe="[object RegExp]",W="[object Set]",oe="[object String]",_="[object Undefined]",v="[object WeakMap]",O="[object ArrayBuffer]",D="[object DataView]",Ue=/^\[object .+?Constructor\]$/,xe=/^(?:0|[1-9]\d*)$/,Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce[le]=Ce[V]=Ce[O]=Ce[$]=Ce[D]=Ce[M]=Ce[fe]=Ce[me]=Ce[de]=Ce[w]=Ce[Ae]=Ce[pe]=Ce[W]=Ce[oe]=Ce[v]=!1;var $e="object"==typeof global&&global&&global.Object===Object&&global,Ke="object"==typeof self&&self&&self.Object===Object&&self,Ve=$e||Ke||Function("return this")(),ae=b&&!b.nodeType&&b,ce=ae&&He&&!He.nodeType&&He,te=ce&&ce.exports===ae,y=te&&$e.process,H=function(){try{return y&&y.binding&&y.binding("util")}catch{}}(),je=H&&H.isTypedArray;function Rt(T,re){for(var Oe=-1,Ze=null==T?0:T.length;++Oe<Ze;)if(re(T[Oe],Oe,T))return!0;return!1}function zt(T,re){return T.has(re)}function Et(T){var re=-1,Oe=Array(T.size);return T.forEach(function(Ze,$t){Oe[++re]=[$t,Ze]}),Oe}function vt(T){var re=-1,Oe=Array(T.size);return T.forEach(function(Ze){Oe[++re]=Ze}),Oe}var T,gt=Array.prototype,rt=Object.prototype,nt=Ve["__core-js_shared__"],ot=Function.prototype.toString,et=rt.hasOwnProperty,tt=(T=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",xt=rt.toString,Pt=RegExp("^"+ot.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=te?Ve.Buffer:void 0,St=Ve.Symbol,Ft=Ve.Uint8Array,Ut=rt.propertyIsEnumerable,fn=gt.splice,Or=St?St.toStringTag:void 0,En=Object.getOwnPropertySymbols,qn=At?At.isBuffer:void 0,ci=function bt(T,re){return function(Oe){return T(re(Oe))}}(Object.keys,Object),Kn=li(Ve,"DataView"),xn=li(Ve,"Map"),Qt=li(Ve,"Promise"),Xt=li(Ve,"Set"),er=li(Ve,"WeakMap"),qt=li(Object,"create"),lr=fi(Kn),fr=fi(xn),sr=fi(Qt),tr=fi(Xt),hr=fi(er),or=St?St.prototype:void 0,rr=or?or.valueOf:void 0;function Ht(T){var re=-1,Oe=null==T?0:T.length;for(this.clear();++re<Oe;){var Ze=T[re];this.set(Ze[0],Ze[1])}}function Dn(T){var re=-1,Oe=null==T?0:T.length;for(this.clear();++re<Oe;){var Ze=T[re];this.set(Ze[0],Ze[1])}}function hn(T){var re=-1,Oe=null==T?0:T.length;for(this.clear();++re<Oe;){var Ze=T[re];this.set(Ze[0],Ze[1])}}function Wi(T){var re=-1,Oe=null==T?0:T.length;for(this.__data__=new hn;++re<Oe;)this.add(T[re])}function Fn(T){var re=this.__data__=new Dn(T);this.size=re.size}function Gi(T,re){for(var Oe=T.length;Oe--;)if(fu(T[Oe][0],re))return Oe;return-1}function Ii(T){return null==T?void 0===T?_:Re:Or&&Or in Object(T)?function bo(T){var re=et.call(T,Or),Oe=T[Or];try{T[Or]=void 0;var Ze=!0}catch{}var $t=xt.call(T);return Ze&&(re?T[Or]=Oe:delete T[Or]),$t}(T):function Eo(T){return xt.call(T)}(T)}function yo(T){return Oi(T)&&Ii(T)==le}function vo(T,re,Oe,Ze,$t){return T===re||(null==T||null==re||!Oi(T)&&!Oi(re)?T!=T&&re!=re:function ru(T,re,Oe,Ze,$t,at){var Kt=Si(T),vr=Si(re),yr=Kt?V:en(T),Vt=vr?V:en(re),jr=(yr=yr==le?Ae:yr)==Ae,tn=(Vt=Vt==le?Ae:Vt)==Ae,Be=yr==Vt;if(Be&&Do(T)){if(!Do(re))return!1;Kt=!0,jr=!1}if(Be&&!jr)return at||(at=new Fn),Kt||So(T)?wr(T,re,Oe,Ze,$t,at):function ou(T,re,Oe,Ze,$t,at,Kt){switch(Oe){case D:if(T.byteLength!=re.byteLength||T.byteOffset!=re.byteOffset)return!1;T=T.buffer,re=re.buffer;case O:return!(T.byteLength!=re.byteLength||!at(new Ft(T),new Ft(re)));case $:case M:case w:return fu(+T,+re);case fe:return T.name==re.name&&T.message==re.message;case pe:case oe:return T==re+"";case de:var vr=Et;case W:if(vr||(vr=vt),T.size!=re.size&&!(Ze&Pe))return!1;var Vt=Kt.get(T);if(Vt)return Vt==re;Ze|=Ie,Kt.set(T,re);var jr=wr(vr(T),vr(re),Ze,$t,at,Kt);return Kt.delete(T),jr;case"[object Symbol]":if(rr)return rr.call(T)==rr.call(re)}return!1}(T,re,yr,Oe,Ze,$t,at);if(!(Oe&Pe)){var xr=jr&&et.call(T,"__wrapped__"),Zr=tn&&et.call(re,"__wrapped__");if(xr||Zr){var rn=xr?T.value():T,jn=Zr?re.value():re;return at||(at=new Fn),$t(rn,jn,Oe,Ze,at)}}return!!Be&&(at||(at=new Fn),function au(T,re,Oe,Ze,$t,at){var Kt=Oe&Pe,vr=mo(T),yr=vr.length;if(yr!=mo(re).length&&!Kt)return!1;for(var tn=yr;tn--;){var Be=vr[tn];if(!(Kt?Be in re:et.call(re,Be)))return!1}var xr=at.get(T);if(xr&&at.get(re))return xr==re;var Zr=!0;at.set(T,re),at.set(re,T);for(var rn=Kt;++tn<yr;){var jn=T[Be=vr[tn]],Vn=re[Be];if(Ze)var Pi=Kt?Ze(Vn,jn,Be,re,T,at):Ze(jn,Vn,Be,T,re,at);if(!(void 0===Pi?jn===Vn||$t(jn,Vn,Oe,Ze,at):Pi)){Zr=!1;break}rn||(rn="constructor"==Be)}if(Zr&&!rn){var Ai=T.constructor,Yi=re.constructor;Ai!=Yi&&"constructor"in T&&"constructor"in re&&!("function"==typeof Ai&&Ai instanceof Ai&&"function"==typeof Yi&&Yi instanceof Yi)&&(Zr=!1)}return at.delete(T),at.delete(re),Zr}(T,re,Oe,Ze,$t,at))}(T,re,Oe,Ze,vo,$t))}function wr(T,re,Oe,Ze,$t,at){var Kt=Oe&Pe,vr=T.length,yr=re.length;if(vr!=yr&&!(Kt&&yr>vr))return!1;var Vt=at.get(T);if(Vt&&at.get(re))return Vt==re;var jr=-1,tn=!0,Be=Oe&Ie?new Wi:void 0;for(at.set(T,re),at.set(re,T);++jr<vr;){var xr=T[jr],Zr=re[jr];if(Ze)var rn=Kt?Ze(Zr,xr,jr,re,T,at):Ze(xr,Zr,jr,T,re,at);if(void 0!==rn){if(rn)continue;tn=!1;break}if(Be){if(!Rt(re,function(jn,Vn){if(!zt(Be,Vn)&&(xr===jn||$t(xr,jn,Oe,Ze,at)))return Be.push(Vn)})){tn=!1;break}}else if(xr!==Zr&&!$t(xr,Zr,Oe,Ze,at)){tn=!1;break}}return at.delete(T),at.delete(re),tn}function mo(T){return function tu(T,re,Oe){var Ze=re(T);return Si(T)?Ze:function pt(T,re){for(var Oe=-1,Ze=re.length,$t=T.length;++Oe<Ze;)T[$t+Oe]=re[Oe];return T}(Ze,Oe(T))}(T,hu,wo)}function Un(T,re){var Oe=T.__data__;return function uu(T){var re=typeof T;return"string"==re||"number"==re||"symbol"==re||"boolean"==re?"__proto__"!==T:null===T}(re)?Oe["string"==typeof re?"string":"hash"]:Oe.map}function li(T,re){var Oe=function ir(T,re){return T?.[re]}(T,re);return function nu(T){return!(!As(T)||function cu(T){return!!tt&&tt in T}(T))&&(Pr(T)?Pt:Ue).test(fi(T))}(Oe)?Oe:void 0}Ht.prototype.clear=function dr(){this.__data__=qt?qt(null):{},this.size=0},Ht.prototype.delete=function pr(T){var re=this.has(T)&&delete this.__data__[T];return this.size-=re?1:0,re},Ht.prototype.get=function gr(T){var re=this.__data__;if(qt){var Oe=re[T];return Oe===we?void 0:Oe}return et.call(re,T)?re[T]:void 0},Ht.prototype.has=function _r(T){var re=this.__data__;return qt?void 0!==re[T]:et.call(re,T)},Ht.prototype.set=function Va(T,re){var Oe=this.__data__;return this.size+=this.has(T)?0:1,Oe[T]=qt&&void 0===re?we:re,this},Dn.prototype.clear=function ka(){this.__data__=[],this.size=0},Dn.prototype.delete=function Wa(T){var re=this.__data__,Oe=Gi(re,T);return!(Oe<0||(Oe==re.length-1?re.pop():fn.call(re,Oe,1),--this.size,0))},Dn.prototype.get=function Ki(T){var re=this.__data__,Oe=Gi(re,T);return Oe<0?void 0:re[Oe][1]},Dn.prototype.has=function Ss(T){return Gi(this.__data__,T)>-1},Dn.prototype.set=function Vi(T,re){var Oe=this.__data__,Ze=Gi(Oe,T);return Ze<0?(++this.size,Oe.push([T,re])):Oe[Ze][1]=re,this},hn.prototype.clear=function ki(){this.size=0,this.__data__={hash:new Ht,map:new(xn||Dn),string:new Ht}},hn.prototype.delete=function Ga(T){var re=Un(this,T).delete(T);return this.size-=re?1:0,re},hn.prototype.get=function Ja(T){return Un(this,T).get(T)},hn.prototype.has=function Os(T){return Un(this,T).has(T)},hn.prototype.set=function ho(T,re){var Oe=Un(this,T),Ze=Oe.size;return Oe.set(T,re),this.size+=Oe.size==Ze?0:1,this},Wi.prototype.add=Wi.prototype.push=function po(T){return this.__data__.set(T,we),this},Wi.prototype.has=function Ya(T){return this.__data__.has(T)},Fn.prototype.clear=function go(){this.__data__=new Dn,this.size=0},Fn.prototype.delete=function Qa(T){var re=this.__data__,Oe=re.delete(T);return this.size=re.size,Oe},Fn.prototype.get=function _o(T){return this.__data__.get(T)},Fn.prototype.has=function Al(T){return this.__data__.has(T)},Fn.prototype.set=function Xa(T,re){var Oe=this.__data__;if(Oe instanceof Dn){var Ze=Oe.__data__;if(!xn||Ze.length<199)return Ze.push([T,re]),this.size=++Oe.size,this;Oe=this.__data__=new hn(Ze)}return Oe.set(T,re),this.size=Oe.size,this};var wo=En?function(T){return null==T?[]:(T=Object(T),function Ge(T,re){for(var Oe=-1,Ze=null==T?0:T.length,$t=0,at=[];++Oe<Ze;){var Kt=T[Oe];re(Kt,Oe,T)&&(at[$t++]=Kt)}return at}(En(T),function(re){return Ut.call(T,re)}))}:function du(){return[]},en=Ii;function Ji(T,re){return!!(re=re??Q)&&("number"==typeof T||xe.test(T))&&T>-1&&T%1==0&&T<re}function fi(T){if(null!=T){try{return ot.call(T)}catch{}try{return T+""}catch{}}return""}function fu(T,re){return T===re||T!=T&&re!=re}(Kn&&en(new Kn(new ArrayBuffer(1)))!=D||xn&&en(new xn)!=de||Qt&&en(Qt.resolve())!=Y||Xt&&en(new Xt)!=W||er&&en(new er)!=v)&&(en=function(T){var re=Ii(T),Oe=re==Ae?T.constructor:void 0,Ze=Oe?fi(Oe):"";if(Ze)switch(Ze){case lr:return D;case fr:return de;case sr:return Y;case tr:return W;case hr:return v}return re});var xo=yo(function(){return arguments}())?yo:function(T){return Oi(T)&&et.call(T,"callee")&&!Ut.call(T,"callee")},Si=Array.isArray,Do=qn||function pu(){return!1};function Pr(T){if(!As(T))return!1;var re=Ii(T);return re==me||re==ue||re==K||re==ge}function Er(T){return"number"==typeof T&&T>-1&&T%1==0&&T<=Q}function As(T){var re=typeof T;return null!=T&&("object"==re||"function"==re)}function Oi(T){return null!=T&&"object"==typeof T}var So=je?function Tt(T){return function(re){return T(re)}}(je):function iu(T){return Oi(T)&&Er(T.length)&&!!Ce[Ii(T)]};function hu(T){return function Ps(T){return null!=T&&Er(T.length)&&!Pr(T)}(T)?function eu(T,re){var Oe=Si(T),Ze=!Oe&&xo(T),$t=!Oe&&!Ze&&Do(T),at=!Oe&&!Ze&&!$t&&So(T),Kt=Oe||Ze||$t||at,vr=Kt?function mt(T,re){for(var Oe=-1,Ze=Array(T);++Oe<T;)Ze[Oe]=re(Oe);return Ze}(T.length,String):[],yr=vr.length;for(var Vt in T)(re||et.call(T,Vt))&&(!Kt||!("length"==Vt||$t&&("offset"==Vt||"parent"==Vt)||at&&("buffer"==Vt||"byteLength"==Vt||"byteOffset"==Vt)||Ji(Vt,yr)))&&vr.push(Vt);return vr}(T):function su(T){if(!function lu(T){var re=T&&T.constructor;return T===("function"==typeof re&&re.prototype||rt)}(T))return ci(T);var re=[];for(var Oe in Object(T))et.call(T,Oe)&&"constructor"!=Oe&&re.push(Oe);return re}(T)}He.exports=function Io(T,re){return vo(T,re)}},133:(He,b,q)=>{"use strict";const G=q(8385),we=q(4989),Pe=q(6144),Ie=q(220),le=Symbol("encodeFragmentIdentifier");function $(Y){if("string"!=typeof Y||1!==Y.length)throw new TypeError("arrayFormatSeparator must be single character string")}function M(Y,ge){return ge.encode?ge.strict?G(Y):encodeURIComponent(Y):Y}function fe(Y,ge){return ge.decode?we(Y):Y}function me(Y){return Array.isArray(Y)?Y.sort():"object"==typeof Y?me(Object.keys(Y)).sort((ge,pe)=>Number(ge)-Number(pe)).map(ge=>Y[ge]):Y}function ue(Y){const ge=Y.indexOf("#");return-1!==ge&&(Y=Y.slice(0,ge)),Y}function w(Y){const ge=(Y=ue(Y)).indexOf("?");return-1===ge?"":Y.slice(ge+1)}function Re(Y,ge){return ge.parseNumbers&&!Number.isNaN(Number(Y))&&"string"==typeof Y&&""!==Y.trim()?Y=Number(Y):ge.parseBooleans&&null!==Y&&("true"===Y.toLowerCase()||"false"===Y.toLowerCase())&&(Y="true"===Y.toLowerCase()),Y}function Ae(Y,ge){$((ge=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ge)).arrayFormatSeparator);const pe=function K(Y){let ge;switch(Y.arrayFormat){case"index":return(pe,W,oe)=>{ge=/\[(\d*)\]$/.exec(pe),pe=pe.replace(/\[\d*\]$/,""),ge?(void 0===oe[pe]&&(oe[pe]={}),oe[pe][ge[1]]=W):oe[pe]=W};case"bracket":return(pe,W,oe)=>{ge=/(\[\])$/.exec(pe),oe[pe=pe.replace(/\[\]$/,"")]=ge?void 0!==oe[pe]?[].concat(oe[pe],W):[W]:W};case"colon-list-separator":return(pe,W,oe)=>{ge=/(:list)$/.exec(pe),oe[pe=pe.replace(/:list$/,"")]=ge?void 0!==oe[pe]?[].concat(oe[pe],W):[W]:W};case"comma":case"separator":return(pe,W,oe)=>{const B="string"==typeof W&&W.includes(Y.arrayFormatSeparator),_="string"==typeof W&&!B&&fe(W,Y).includes(Y.arrayFormatSeparator);W=_?fe(W,Y):W;const v=B||_?W.split(Y.arrayFormatSeparator).map(O=>fe(O,Y)):null===W?W:fe(W,Y);oe[pe]=v};case"bracket-separator":return(pe,W,oe)=>{const B=/(\[\])$/.test(pe);if(pe=pe.replace(/\[\]$/,""),!B)return void(oe[pe]=W&&fe(W,Y));const _=null===W?[]:W.split(Y.arrayFormatSeparator).map(v=>fe(v,Y));oe[pe]=void 0!==oe[pe]?[].concat(oe[pe],_):_};default:return(pe,W,oe)=>{oe[pe]=void 0!==oe[pe]?[].concat(oe[pe],W):W}}}(ge),W=Object.create(null);if("string"!=typeof Y||!(Y=Y.trim().replace(/^[?#&]/,"")))return W;for(const oe of Y.split("&")){if(""===oe)continue;let[B,_]=Pe(ge.decode?oe.replace(/\+/g," "):oe,"=");_=void 0===_?null:["comma","separator","bracket-separator"].includes(ge.arrayFormat)?_:fe(_,ge),pe(fe(B,ge),_,W)}for(const oe of Object.keys(W)){const B=W[oe];if("object"==typeof B&&null!==B)for(const _ of Object.keys(B))B[_]=Re(B[_],ge);else W[oe]=Re(B,ge)}return!1===ge.sort?W:(!0===ge.sort?Object.keys(W).sort():Object.keys(W).sort(ge.sort)).reduce((oe,B)=>{const _=W[B];return oe[B]=_&&"object"==typeof _&&!Array.isArray(_)?me(_):_,oe},Object.create(null))}b.extract=w,b.parse=Ae,b.stringify=(Y,ge)=>{if(!Y)return"";$((ge=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ge)).arrayFormatSeparator);const pe=_=>ge.skipNull&&(Y=>null==Y)(Y[_])||ge.skipEmptyString&&""===Y[_],W=function V(Y){switch(Y.arrayFormat){case"index":return ge=>(pe,W)=>{const oe=pe.length;return void 0===W||Y.skipNull&&null===W||Y.skipEmptyString&&""===W?pe:null===W?[...pe,[M(ge,Y),"[",oe,"]"].join("")]:[...pe,[M(ge,Y),"[",M(oe,Y),"]=",M(W,Y)].join("")]};case"bracket":return ge=>(pe,W)=>void 0===W||Y.skipNull&&null===W||Y.skipEmptyString&&""===W?pe:null===W?[...pe,[M(ge,Y),"[]"].join("")]:[...pe,[M(ge,Y),"[]=",M(W,Y)].join("")];case"colon-list-separator":return ge=>(pe,W)=>void 0===W||Y.skipNull&&null===W||Y.skipEmptyString&&""===W?pe:null===W?[...pe,[M(ge,Y),":list="].join("")]:[...pe,[M(ge,Y),":list=",M(W,Y)].join("")];case"comma":case"separator":case"bracket-separator":{const ge="bracket-separator"===Y.arrayFormat?"[]=":"=";return pe=>(W,oe)=>void 0===oe||Y.skipNull&&null===oe||Y.skipEmptyString&&""===oe?W:(oe=null===oe?"":oe,0===W.length?[[M(pe,Y),ge,M(oe,Y)].join("")]:[[W,M(oe,Y)].join(Y.arrayFormatSeparator)])}default:return ge=>(pe,W)=>void 0===W||Y.skipNull&&null===W||Y.skipEmptyString&&""===W?pe:null===W?[...pe,M(ge,Y)]:[...pe,[M(ge,Y),"=",M(W,Y)].join("")]}}(ge),oe={};for(const _ of Object.keys(Y))pe(_)||(oe[_]=Y[_]);const B=Object.keys(oe);return!1!==ge.sort&&B.sort(ge.sort),B.map(_=>{const v=Y[_];return void 0===v?"":null===v?M(_,ge):Array.isArray(v)?0===v.length&&"bracket-separator"===ge.arrayFormat?M(_,ge)+"[]":v.reduce(W(_),[]).join("&"):M(_,ge)+"="+M(v,ge)}).filter(_=>_.length>0).join("&")},b.parseUrl=(Y,ge)=>{ge=Object.assign({decode:!0},ge);const[pe,W]=Pe(Y,"#");return Object.assign({url:pe.split("?")[0]||"",query:Ae(w(Y),ge)},ge&&ge.parseFragmentIdentifier&&W?{fragmentIdentifier:fe(W,ge)}:{})},b.stringifyUrl=(Y,ge)=>{ge=Object.assign({encode:!0,strict:!0,[le]:!0},ge);const pe=ue(Y.url).split("?")[0]||"",W=b.extract(Y.url),oe=b.parse(W,{sort:!1}),B=Object.assign(oe,Y.query);let _=b.stringify(B,ge);_&&(_=`?${_}`);let v=function de(Y){let ge="";const pe=Y.indexOf("#");return-1!==pe&&(ge=Y.slice(pe)),ge}(Y.url);return Y.fragmentIdentifier&&(v=`#${ge[le]?M(Y.fragmentIdentifier,ge):Y.fragmentIdentifier}`),`${pe}${_}${v}`},b.pick=(Y,ge,pe)=>{pe=Object.assign({parseFragmentIdentifier:!0,[le]:!1},pe);const{url:W,query:oe,fragmentIdentifier:B}=b.parseUrl(Y,pe);return b.stringifyUrl({url:W,query:Ie(oe,ge),fragmentIdentifier:B},pe)},b.exclude=(Y,ge,pe)=>{const W=Array.isArray(ge)?oe=>!ge.includes(oe):(oe,B)=>!ge(oe,B);return b.pick(Y,W,pe)}},514:He=>{"use strict";function b(G){try{return JSON.stringify(G)}catch{return'"[Circular]"'}}He.exports=function q(G,we,Pe){var Ie=Pe&&Pe.stringify||b;if("object"==typeof G&&null!==G){var le=we.length+1;if(1===le)return G;var V=new Array(le);V[0]=Ie(G);for(var K=1;K<le;K++)V[K]=Ie(we[K]);return V.join(" ")}if("string"!=typeof G)return G;var $=we.length;if(0===$)return G;for(var M="",fe=0,me=-1,ue=G&&G.length||0,de=0;de<ue;){if(37===G.charCodeAt(de)&&de+1<ue){switch(me=me>-1?me:0,G.charCodeAt(de+1)){case 100:case 102:if(fe>=$||null==we[fe])break;me<de&&(M+=G.slice(me,de)),M+=Number(we[fe]),me=de+2,de++;break;case 105:if(fe>=$||null==we[fe])break;me<de&&(M+=G.slice(me,de)),M+=Math.floor(Number(we[fe])),me=de+2,de++;break;case 79:case 111:case 106:if(fe>=$||void 0===we[fe])break;me<de&&(M+=G.slice(me,de));var w=typeof we[fe];if("string"===w){M+="'"+we[fe]+"'",me=de+2,de++;break}if("function"===w){M+=we[fe].name||"<anonymous>",me=de+2,de++;break}M+=Ie(we[fe]),me=de+2,de++;break;case 115:if(fe>=$)break;me<de&&(M+=G.slice(me,de)),M+=String(we[fe]),me=de+2,de++;break;case 37:me<de&&(M+=G.slice(me,de)),M+="%",me=de+2,de++,fe--}++fe}++de}return-1===me?G:(me<ue&&(M+=G.slice(me)),M)}},6144:He=>{"use strict";He.exports=(b,q)=>{if("string"!=typeof b||"string"!=typeof q)throw new TypeError("Expected the arguments to be of type `string`");if(""===q)return[b];const G=b.indexOf(q);return-1===G?[b]:[b.slice(0,G),b.slice(G+q.length)]}},8385:He=>{"use strict";He.exports=b=>encodeURIComponent(b).replace(/[!'()*]/g,q=>`%${q.charCodeAt(0).toString(16).toUpperCase()}`)},8456:(He,b,q)=>{"use strict";function G(we,Pe){return Pe=Pe||{},new Promise(function(Ie,Q){var le=new XMLHttpRequest,V=[],K=[],$={},M=function(){return{ok:2==(le.status/100|0),statusText:le.statusText,status:le.status,url:le.responseURL,text:function(){return Promise.resolve(le.responseText)},json:function(){return Promise.resolve(le.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([le.response]))},clone:M,headers:{keys:function(){return V},entries:function(){return K},get:function(me){return $[me.toLowerCase()]},has:function(me){return me.toLowerCase()in $}}}};for(var fe in le.open(Pe.method||"get",we,!0),le.onload=function(){le.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(me,ue,de){V.push(ue=ue.toLowerCase()),K.push([ue,de]),$[ue]=$[ue]?$[ue]+","+de:de}),Ie(M())},le.onerror=Q,le.withCredentials="include"==Pe.credentials,Pe.headers)le.setRequestHeader(fe,Pe.headers[fe]);le.send(Pe.body||null)})}q.r(b),q.d(b,{default:()=>G})},3569:He=>{"use strict";He.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},4308:(He,b,q)=>{"use strict";q.r(b),q.d(b,{__assign:()=>Pe,__asyncDelegator:()=>Y,__asyncGenerator:()=>Ae,__asyncValues:()=>ge,__await:()=>Re,__awaiter:()=>K,__classPrivateFieldGet:()=>B,__classPrivateFieldSet:()=>_,__createBinding:()=>M,__decorate:()=>Q,__exportStar:()=>fe,__extends:()=>we,__generator:()=>$,__importDefault:()=>oe,__importStar:()=>W,__makeTemplateObject:()=>pe,__metadata:()=>V,__param:()=>le,__read:()=>ue,__rest:()=>Ie,__spread:()=>de,__spreadArrays:()=>w,__values:()=>me});var G=function(v,O){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var Z in R)R.hasOwnProperty(Z)&&(D[Z]=R[Z])})(v,O)};function we(v,O){function D(){this.constructor=v}G(v,O),v.prototype=null===O?Object.create(O):(D.prototype=O.prototype,new D)}var Pe=function(){return Pe=Object.assign||function(O){for(var D,R=1,Z=arguments.length;R<Z;R++)for(var x in D=arguments[R])Object.prototype.hasOwnProperty.call(D,x)&&(O[x]=D[x]);return O},Pe.apply(this,arguments)};function Ie(v,O){var D={};for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&O.indexOf(R)<0&&(D[R]=v[R]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(R=Object.getOwnPropertySymbols(v);Z<R.length;Z++)O.indexOf(R[Z])<0&&Object.prototype.propertyIsEnumerable.call(v,R[Z])&&(D[R[Z]]=v[R[Z]])}return D}function Q(v,O,D,R){var C,Z=arguments.length,x=Z<3?O:null===R?R=Object.getOwnPropertyDescriptor(O,D):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(v,O,D,R);else for(var U=v.length-1;U>=0;U--)(C=v[U])&&(x=(Z<3?C(x):Z>3?C(O,D,x):C(O,D))||x);return Z>3&&x&&Object.defineProperty(O,D,x),x}function le(v,O){return function(D,R){O(D,R,v)}}function V(v,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(v,O)}function K(v,O,D,R){return new(D||(D=Promise))(function(x,C){function U(J){try{S(R.next(J))}catch(_e){C(_e)}}function N(J){try{S(R.throw(J))}catch(_e){C(_e)}}function S(J){J.done?x(J.value):function Z(x){return x instanceof D?x:new D(function(C){C(x)})}(J.value).then(U,N)}S((R=R.apply(v,O||[])).next())})}function $(v,O){var R,Z,x,C,D={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return C={next:U(0),throw:U(1),return:U(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function U(S){return function(J){return function N(S){if(R)throw new TypeError("Generator is already executing.");for(;D;)try{if(R=1,Z&&(x=2&S[0]?Z.return:S[0]?Z.throw||((x=Z.return)&&x.call(Z),0):Z.next)&&!(x=x.call(Z,S[1])).done)return x;switch(Z=0,x&&(S=[2&S[0],x.value]),S[0]){case 0:case 1:x=S;break;case 4:return D.label++,{value:S[1],done:!1};case 5:D.label++,Z=S[1],S=[0];continue;case 7:S=D.ops.pop(),D.trys.pop();continue;default:if(!(x=(x=D.trys).length>0&&x[x.length-1])&&(6===S[0]||2===S[0])){D=0;continue}if(3===S[0]&&(!x||S[1]>x[0]&&S[1]<x[3])){D.label=S[1];break}if(6===S[0]&&D.label<x[1]){D.label=x[1],x=S;break}if(x&&D.label<x[2]){D.label=x[2],D.ops.push(S);break}x[2]&&D.ops.pop(),D.trys.pop();continue}S=O.call(v,D)}catch(J){S=[6,J],Z=0}finally{R=x=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([S,J])}}}function M(v,O,D,R){void 0===R&&(R=D),v[R]=O[D]}function fe(v,O){for(var D in v)"default"!==D&&!O.hasOwnProperty(D)&&(O[D]=v[D])}function me(v){var O="function"==typeof Symbol&&Symbol.iterator,D=O&&v[O],R=0;if(D)return D.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&R>=v.length&&(v=void 0),{value:v&&v[R++],done:!v}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(v,O){var D="function"==typeof Symbol&&v[Symbol.iterator];if(!D)return v;var Z,C,R=D.call(v),x=[];try{for(;(void 0===O||O-- >0)&&!(Z=R.next()).done;)x.push(Z.value)}catch(U){C={error:U}}finally{try{Z&&!Z.done&&(D=R.return)&&D.call(R)}finally{if(C)throw C.error}}return x}function de(){for(var v=[],O=0;O<arguments.length;O++)v=v.concat(ue(arguments[O]));return v}function w(){for(var v=0,O=0,D=arguments.length;O<D;O++)v+=arguments[O].length;var R=Array(v),Z=0;for(O=0;O<D;O++)for(var x=arguments[O],C=0,U=x.length;C<U;C++,Z++)R[Z]=x[C];return R}function Re(v){return this instanceof Re?(this.v=v,this):new Re(v)}function Ae(v,O,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,R=D.apply(v,O||[]),x=[];return Z={},C("next"),C("throw"),C("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function C(ee){R[ee]&&(Z[ee]=function(Ue){return new Promise(function(xe,Ce){x.push([ee,Ue,xe,Ce])>1||U(ee,Ue)})})}function U(ee,Ue){try{!function N(ee){ee.value instanceof Re?Promise.resolve(ee.value.v).then(S,J):_e(x[0][2],ee)}(R[ee](Ue))}catch(xe){_e(x[0][3],xe)}}function S(ee){U("next",ee)}function J(ee){U("throw",ee)}function _e(ee,Ue){ee(Ue),x.shift(),x.length&&U(x[0][0],x[0][1])}}function Y(v){var O,D;return O={},R("next"),R("throw",function(Z){throw Z}),R("return"),O[Symbol.iterator]=function(){return this},O;function R(Z,x){O[Z]=v[Z]?function(C){return(D=!D)?{value:Re(v[Z](C)),done:"return"===Z}:x?x(C):C}:x}}function ge(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,O=v[Symbol.asyncIterator];return O?O.call(v):(v=me(v),D={},R("next"),R("throw"),R("return"),D[Symbol.asyncIterator]=function(){return this},D);function R(x){D[x]=v[x]&&function(C){return new Promise(function(U,N){!function Z(x,C,U,N){Promise.resolve(N).then(function(S){x({value:S,done:U})},C)}(U,N,(C=v[x](C)).done,C.value)})}}}function pe(v,O){return Object.defineProperty?Object.defineProperty(v,"raw",{value:O}):v.raw=O,v}function W(v){if(v&&v.__esModule)return v;var O={};if(null!=v)for(var D in v)Object.hasOwnProperty.call(v,D)&&(O[D]=v[D]);return O.default=v,O}function oe(v){return v&&v.__esModule?v:{default:v}}function B(v,O){if(!O.has(v))throw new TypeError("attempted to get private field on non-instance");return O.get(v)}function _(v,O,D){if(!O.has(v))throw new TypeError("attempted to set private field on non-instance");return O.set(v,D),D}},9653:(He,b,q)=>{"use strict";q.r(b),q.d(b,{__assign:()=>Pe,__asyncDelegator:()=>Y,__asyncGenerator:()=>Ae,__asyncValues:()=>ge,__await:()=>Re,__awaiter:()=>K,__classPrivateFieldGet:()=>B,__classPrivateFieldSet:()=>_,__createBinding:()=>M,__decorate:()=>Q,__exportStar:()=>fe,__extends:()=>we,__generator:()=>$,__importDefault:()=>oe,__importStar:()=>W,__makeTemplateObject:()=>pe,__metadata:()=>V,__param:()=>le,__read:()=>ue,__rest:()=>Ie,__spread:()=>de,__spreadArrays:()=>w,__values:()=>me});var G=function(v,O){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var Z in R)R.hasOwnProperty(Z)&&(D[Z]=R[Z])})(v,O)};function we(v,O){function D(){this.constructor=v}G(v,O),v.prototype=null===O?Object.create(O):(D.prototype=O.prototype,new D)}var Pe=function(){return Pe=Object.assign||function(O){for(var D,R=1,Z=arguments.length;R<Z;R++)for(var x in D=arguments[R])Object.prototype.hasOwnProperty.call(D,x)&&(O[x]=D[x]);return O},Pe.apply(this,arguments)};function Ie(v,O){var D={};for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&O.indexOf(R)<0&&(D[R]=v[R]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(R=Object.getOwnPropertySymbols(v);Z<R.length;Z++)O.indexOf(R[Z])<0&&Object.prototype.propertyIsEnumerable.call(v,R[Z])&&(D[R[Z]]=v[R[Z]])}return D}function Q(v,O,D,R){var C,Z=arguments.length,x=Z<3?O:null===R?R=Object.getOwnPropertyDescriptor(O,D):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(v,O,D,R);else for(var U=v.length-1;U>=0;U--)(C=v[U])&&(x=(Z<3?C(x):Z>3?C(O,D,x):C(O,D))||x);return Z>3&&x&&Object.defineProperty(O,D,x),x}function le(v,O){return function(D,R){O(D,R,v)}}function V(v,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(v,O)}function K(v,O,D,R){return new(D||(D=Promise))(function(x,C){function U(J){try{S(R.next(J))}catch(_e){C(_e)}}function N(J){try{S(R.throw(J))}catch(_e){C(_e)}}function S(J){J.done?x(J.value):function Z(x){return x instanceof D?x:new D(function(C){C(x)})}(J.value).then(U,N)}S((R=R.apply(v,O||[])).next())})}function $(v,O){var R,Z,x,C,D={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return C={next:U(0),throw:U(1),return:U(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function U(S){return function(J){return function N(S){if(R)throw new TypeError("Generator is already executing.");for(;D;)try{if(R=1,Z&&(x=2&S[0]?Z.return:S[0]?Z.throw||((x=Z.return)&&x.call(Z),0):Z.next)&&!(x=x.call(Z,S[1])).done)return x;switch(Z=0,x&&(S=[2&S[0],x.value]),S[0]){case 0:case 1:x=S;break;case 4:return D.label++,{value:S[1],done:!1};case 5:D.label++,Z=S[1],S=[0];continue;case 7:S=D.ops.pop(),D.trys.pop();continue;default:if(!(x=(x=D.trys).length>0&&x[x.length-1])&&(6===S[0]||2===S[0])){D=0;continue}if(3===S[0]&&(!x||S[1]>x[0]&&S[1]<x[3])){D.label=S[1];break}if(6===S[0]&&D.label<x[1]){D.label=x[1],x=S;break}if(x&&D.label<x[2]){D.label=x[2],D.ops.push(S);break}x[2]&&D.ops.pop(),D.trys.pop();continue}S=O.call(v,D)}catch(J){S=[6,J],Z=0}finally{R=x=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([S,J])}}}function M(v,O,D,R){void 0===R&&(R=D),v[R]=O[D]}function fe(v,O){for(var D in v)"default"!==D&&!O.hasOwnProperty(D)&&(O[D]=v[D])}function me(v){var O="function"==typeof Symbol&&Symbol.iterator,D=O&&v[O],R=0;if(D)return D.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&R>=v.length&&(v=void 0),{value:v&&v[R++],done:!v}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(v,O){var D="function"==typeof Symbol&&v[Symbol.iterator];if(!D)return v;var Z,C,R=D.call(v),x=[];try{for(;(void 0===O||O-- >0)&&!(Z=R.next()).done;)x.push(Z.value)}catch(U){C={error:U}}finally{try{Z&&!Z.done&&(D=R.return)&&D.call(R)}finally{if(C)throw C.error}}return x}function de(){for(var v=[],O=0;O<arguments.length;O++)v=v.concat(ue(arguments[O]));return v}function w(){for(var v=0,O=0,D=arguments.length;O<D;O++)v+=arguments[O].length;var R=Array(v),Z=0;for(O=0;O<D;O++)for(var x=arguments[O],C=0,U=x.length;C<U;C++,Z++)R[Z]=x[C];return R}function Re(v){return this instanceof Re?(this.v=v,this):new Re(v)}function Ae(v,O,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,R=D.apply(v,O||[]),x=[];return Z={},C("next"),C("throw"),C("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function C(ee){R[ee]&&(Z[ee]=function(Ue){return new Promise(function(xe,Ce){x.push([ee,Ue,xe,Ce])>1||U(ee,Ue)})})}function U(ee,Ue){try{!function N(ee){ee.value instanceof Re?Promise.resolve(ee.value.v).then(S,J):_e(x[0][2],ee)}(R[ee](Ue))}catch(xe){_e(x[0][3],xe)}}function S(ee){U("next",ee)}function J(ee){U("throw",ee)}function _e(ee,Ue){ee(Ue),x.shift(),x.length&&U(x[0][0],x[0][1])}}function Y(v){var O,D;return O={},R("next"),R("throw",function(Z){throw Z}),R("return"),O[Symbol.iterator]=function(){return this},O;function R(Z,x){O[Z]=v[Z]?function(C){return(D=!D)?{value:Re(v[Z](C)),done:"return"===Z}:x?x(C):C}:x}}function ge(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,O=v[Symbol.asyncIterator];return O?O.call(v):(v=me(v),D={},R("next"),R("throw"),R("return"),D[Symbol.asyncIterator]=function(){return this},D);function R(x){D[x]=v[x]&&function(C){return new Promise(function(U,N){!function Z(x,C,U,N){Promise.resolve(N).then(function(S){x({value:S,done:U})},C)}(U,N,(C=v[x](C)).done,C.value)})}}}function pe(v,O){return Object.defineProperty?Object.defineProperty(v,"raw",{value:O}):v.raw=O,v}function W(v){if(v&&v.__esModule)return v;var O={};if(null!=v)for(var D in v)Object.hasOwnProperty.call(v,D)&&(O[D]=v[D]);return O.default=v,O}function oe(v){return v&&v.__esModule?v:{default:v}}function B(v,O){if(!O.has(v))throw new TypeError("attempted to get private field on non-instance");return O.get(v)}function _(v,O,D){if(!O.has(v))throw new TypeError("attempted to set private field on non-instance");return O.set(v,D),D}},4:(He,b,q)=>{"use strict";q.r(b),q.d(b,{__assign:()=>Pe,__asyncDelegator:()=>Y,__asyncGenerator:()=>Ae,__asyncValues:()=>ge,__await:()=>Re,__awaiter:()=>K,__classPrivateFieldGet:()=>B,__classPrivateFieldSet:()=>_,__createBinding:()=>M,__decorate:()=>Q,__exportStar:()=>fe,__extends:()=>we,__generator:()=>$,__importDefault:()=>oe,__importStar:()=>W,__makeTemplateObject:()=>pe,__metadata:()=>V,__param:()=>le,__read:()=>ue,__rest:()=>Ie,__spread:()=>de,__spreadArrays:()=>w,__values:()=>me});var G=function(v,O){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,R){D.__proto__=R}||function(D,R){for(var Z in R)R.hasOwnProperty(Z)&&(D[Z]=R[Z])})(v,O)};function we(v,O){function D(){this.constructor=v}G(v,O),v.prototype=null===O?Object.create(O):(D.prototype=O.prototype,new D)}var Pe=function(){return Pe=Object.assign||function(O){for(var D,R=1,Z=arguments.length;R<Z;R++)for(var x in D=arguments[R])Object.prototype.hasOwnProperty.call(D,x)&&(O[x]=D[x]);return O},Pe.apply(this,arguments)};function Ie(v,O){var D={};for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&O.indexOf(R)<0&&(D[R]=v[R]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(R=Object.getOwnPropertySymbols(v);Z<R.length;Z++)O.indexOf(R[Z])<0&&Object.prototype.propertyIsEnumerable.call(v,R[Z])&&(D[R[Z]]=v[R[Z]])}return D}function Q(v,O,D,R){var C,Z=arguments.length,x=Z<3?O:null===R?R=Object.getOwnPropertyDescriptor(O,D):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(v,O,D,R);else for(var U=v.length-1;U>=0;U--)(C=v[U])&&(x=(Z<3?C(x):Z>3?C(O,D,x):C(O,D))||x);return Z>3&&x&&Object.defineProperty(O,D,x),x}function le(v,O){return function(D,R){O(D,R,v)}}function V(v,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(v,O)}function K(v,O,D,R){return new(D||(D=Promise))(function(x,C){function U(J){try{S(R.next(J))}catch(_e){C(_e)}}function N(J){try{S(R.throw(J))}catch(_e){C(_e)}}function S(J){J.done?x(J.value):function Z(x){return x instanceof D?x:new D(function(C){C(x)})}(J.value).then(U,N)}S((R=R.apply(v,O||[])).next())})}function $(v,O){var R,Z,x,C,D={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return C={next:U(0),throw:U(1),return:U(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function U(S){return function(J){return function N(S){if(R)throw new TypeError("Generator is already executing.");for(;D;)try{if(R=1,Z&&(x=2&S[0]?Z.return:S[0]?Z.throw||((x=Z.return)&&x.call(Z),0):Z.next)&&!(x=x.call(Z,S[1])).done)return x;switch(Z=0,x&&(S=[2&S[0],x.value]),S[0]){case 0:case 1:x=S;break;case 4:return D.label++,{value:S[1],done:!1};case 5:D.label++,Z=S[1],S=[0];continue;case 7:S=D.ops.pop(),D.trys.pop();continue;default:if(!(x=(x=D.trys).length>0&&x[x.length-1])&&(6===S[0]||2===S[0])){D=0;continue}if(3===S[0]&&(!x||S[1]>x[0]&&S[1]<x[3])){D.label=S[1];break}if(6===S[0]&&D.label<x[1]){D.label=x[1],x=S;break}if(x&&D.label<x[2]){D.label=x[2],D.ops.push(S);break}x[2]&&D.ops.pop(),D.trys.pop();continue}S=O.call(v,D)}catch(J){S=[6,J],Z=0}finally{R=x=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([S,J])}}}function M(v,O,D,R){void 0===R&&(R=D),v[R]=O[D]}function fe(v,O){for(var D in v)"default"!==D&&!O.hasOwnProperty(D)&&(O[D]=v[D])}function me(v){var O="function"==typeof Symbol&&Symbol.iterator,D=O&&v[O],R=0;if(D)return D.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&R>=v.length&&(v=void 0),{value:v&&v[R++],done:!v}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(v,O){var D="function"==typeof Symbol&&v[Symbol.iterator];if(!D)return v;var Z,C,R=D.call(v),x=[];try{for(;(void 0===O||O-- >0)&&!(Z=R.next()).done;)x.push(Z.value)}catch(U){C={error:U}}finally{try{Z&&!Z.done&&(D=R.return)&&D.call(R)}finally{if(C)throw C.error}}return x}function de(){for(var v=[],O=0;O<arguments.length;O++)v=v.concat(ue(arguments[O]));return v}function w(){for(var v=0,O=0,D=arguments.length;O<D;O++)v+=arguments[O].length;var R=Array(v),Z=0;for(O=0;O<D;O++)for(var x=arguments[O],C=0,U=x.length;C<U;C++,Z++)R[Z]=x[C];return R}function Re(v){return this instanceof Re?(this.v=v,this):new Re(v)}function Ae(v,O,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,R=D.apply(v,O||[]),x=[];return Z={},C("next"),C("throw"),C("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function C(ee){R[ee]&&(Z[ee]=function(Ue){return new Promise(function(xe,Ce){x.push([ee,Ue,xe,Ce])>1||U(ee,Ue)})})}function U(ee,Ue){try{!function N(ee){ee.value instanceof Re?Promise.resolve(ee.value.v).then(S,J):_e(x[0][2],ee)}(R[ee](Ue))}catch(xe){_e(x[0][3],xe)}}function S(ee){U("next",ee)}function J(ee){U("throw",ee)}function _e(ee,Ue){ee(Ue),x.shift(),x.length&&U(x[0][0],x[0][1])}}function Y(v){var O,D;return O={},R("next"),R("throw",function(Z){throw Z}),R("return"),O[Symbol.iterator]=function(){return this},O;function R(Z,x){O[Z]=v[Z]?function(C){return(D=!D)?{value:Re(v[Z](C)),done:"return"===Z}:x?x(C):C}:x}}function ge(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,O=v[Symbol.asyncIterator];return O?O.call(v):(v=me(v),D={},R("next"),R("throw"),R("return"),D[Symbol.asyncIterator]=function(){return this},D);function R(x){D[x]=v[x]&&function(C){return new Promise(function(U,N){!function Z(x,C,U,N){Promise.resolve(N).then(function(S){x({value:S,done:U})},C)}(U,N,(C=v[x](C)).done,C.value)})}}}function pe(v,O){return Object.defineProperty?Object.defineProperty(v,"raw",{value:O}):v.raw=O,v}function W(v){if(v&&v.__esModule)return v;var O={};if(null!=v)for(var D in v)Object.hasOwnProperty.call(v,D)&&(O[D]=v[D]);return O.default=v,O}function oe(v){return v&&v.__esModule?v:{default:v}}function B(v,O){if(!O.has(v))throw new TypeError("attempted to get private field on non-instance");return O.get(v)}function _(v,O,D){if(!O.has(v))throw new TypeError("attempted to set private field on non-instance");return O.set(v,D),D}},5883:()=>{},1590:(He,b,q)=>{"use strict";const G=q(514);He.exports=Q;const we=function oe(){function B(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return B(self)||B(window)||B(this)||{}}}().console||{},Pe={mapHttpRequest:w,mapHttpResponse:w,wrapRequestSerializer:Re,wrapResponseSerializer:Re,wrapErrorSerializer:Re,req:w,res:w,err:function ue(B){const _={type:B.constructor.name,msg:B.message,stack:B.stack};for(const v in B)void 0===_[v]&&(_[v]=B[v]);return _}};function Q(B){(B=B||{}).browser=B.browser||{};const _=B.browser.transmit;if(_&&"function"!=typeof _.send)throw Error("pino: transmit option must have a send function");const v=B.browser.write||we;B.browser.write&&(B.browser.asObject=!0);const O=B.serializers||{},D=function Ie(B,_){return Array.isArray(B)?B.filter(function(O){return"!stdSerializers.err"!==O}):!0===B&&Object.keys(_)}(B.browser.serialize,O);let R=B.browser.serialize;Array.isArray(B.browser.serialize)&&B.browser.serialize.indexOf("!stdSerializers.err")>-1&&(R=!1),"function"==typeof v&&(v.error=v.fatal=v.warn=v.info=v.debug=v.trace=v),!1===B.enabled&&(B.level="silent");const x=B.level||"info",C=Object.create(v);C.log||(C.log=Ae),Object.defineProperty(C,"levelVal",{get:function N(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(C,"level",{get:function S(){return this._level},set:function J(ee){if("silent"!==ee&&!this.levels.values[ee])throw Error("unknown level "+ee);this._level=ee,le(U,C,"error","log"),le(U,C,"fatal","error"),le(U,C,"warn","error"),le(U,C,"info","log"),le(U,C,"debug","log"),le(U,C,"trace","log")}});const U={transmit:_,serialize:D,asObject:B.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:de(B)};return C.levels=Q.levels,C.level=x,C.setMaxListeners=C.getMaxListeners=C.emit=C.addListener=C.on=C.prependListener=C.once=C.prependOnceListener=C.removeListener=C.removeAllListeners=C.listeners=C.listenerCount=C.eventNames=C.write=C.flush=Ae,C.serializers=O,C._serialize=D,C._stdErrSerialize=R,C.child=function _e(ee,Ue){if(!ee)throw new Error("missing bindings for child Pino");Ue=Ue||{},D&&ee.serializers&&(Ue.serializers=ee.serializers);const xe=Ue.serializers;if(D&&xe){var Ce=Object.assign({},O,xe),$e=!0===B.browser.serialize?Object.keys(Ce):D;delete ee.serializers,$([ee],$e,Ce,this._stdErrSerialize)}function Ke(Ve){this._childLevel=1+(0|Ve._childLevel),this.error=M(Ve,ee,"error"),this.fatal=M(Ve,ee,"fatal"),this.warn=M(Ve,ee,"warn"),this.info=M(Ve,ee,"info"),this.debug=M(Ve,ee,"debug"),this.trace=M(Ve,ee,"trace"),Ce&&(this.serializers=Ce,this._serialize=$e),_&&(this._logEvent=me([].concat(Ve._logEvent.bindings,ee)))}return Ke.prototype=this,new Ke(this)},_&&(C._logEvent=me()),C}function le(B,_,v,O){const D=Object.getPrototypeOf(_);_[v]=_.levelVal>_.levels.values[v]?Ae:D[v]?D[v]:we[v]||we[O]||Ae,function V(B,_,v){!B.transmit&&_[v]===Ae||(_[v]=function(O){return function(){const R=B.timestamp(),Z=new Array(arguments.length),x=Object.getPrototypeOf&&Object.getPrototypeOf(this)===we?we:this;for(var C=0;C<Z.length;C++)Z[C]=arguments[C];if(B.serialize&&!B.asObject&&$(Z,this._serialize,this.serializers,this._stdErrSerialize),B.asObject?O.call(x,function K(B,_,v,O){B._serialize&&$(v,B._serialize,B.serializers,B._stdErrSerialize);const D=v.slice();let R=D[0];const Z={};O&&(Z.time=O),Z.level=Q.levels.values[_];let x=1+(0|B._childLevel);if(x<1&&(x=1),null!==R&&"object"==typeof R){for(;x--&&"object"==typeof D[0];)Object.assign(Z,D.shift());R=D.length?G(D.shift(),D):void 0}else"string"==typeof R&&(R=G(D.shift(),D));return void 0!==R&&(Z.msg=R),Z}(this,v,Z,R)):O.apply(x,Z),B.transmit){const U=B.transmit.level||_.level,S=Q.levels.values[v];if(S<Q.levels.values[U])return;!function fe(B,_,v){const O=_.send,D=_.ts,R=_.methodLevel,Z=_.methodValue,x=_.val,C=B._logEvent.bindings;$(v,B._serialize||Object.keys(B.serializers),B.serializers,void 0===B._stdErrSerialize||B._stdErrSerialize),B._logEvent.ts=D,B._logEvent.messages=v.filter(function(U){return-1===C.indexOf(U)}),B._logEvent.level.label=R,B._logEvent.level.value=Z,O(R,B._logEvent,x),B._logEvent=me(C)}(this,{ts:R,methodLevel:v,methodValue:S,transmitLevel:U,transmitValue:Q.levels.values[B.transmit.level||_.level],send:B.transmit.send,val:_.levelVal},Z)}}}(_[v]))}(B,_,v)}function $(B,_,v,O){for(const D in B)if(O&&B[D]instanceof Error)B[D]=Q.stdSerializers.err(B[D]);else if("object"==typeof B[D]&&!Array.isArray(B[D]))for(const R in B[D])_&&_.indexOf(R)>-1&&R in v&&(B[D][R]=v[R](B[D][R]))}function M(B,_,v){return function(){const O=new Array(1+arguments.length);O[0]=_;for(var D=1;D<O.length;D++)O[D]=arguments[D-1];return B[v].apply(this,O)}}function me(B){return{ts:0,messages:[],bindings:B||[],level:{label:"",value:0}}}function de(B){return"function"==typeof B.timestamp?B.timestamp:!1===B.timestamp?Y:ge}function w(){return{}}function Re(B){return B}function Ae(){}function Y(){return!1}function ge(){return Date.now()}Q.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Q.stdSerializers=Pe,Q.stdTimeFunctions=Object.assign({},{nullTime:Y,epochTime:ge,unixTime:function pe(){return Math.round(Date.now()/1e3)},isoTime:function W(){return new Date(Date.now()).toISOString()}})}}]);